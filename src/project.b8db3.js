window.__require=function t(e,o,n){function r(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=o[a]={exports:{}};e[a][0].call(l.exports,function(t){return r(e[a][1][t]||t)},l,l.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({AbstractTableItem:[function(t,e,o){"use strict";cc._RF.push(e,"16abfgZS1NEObZPGNwjtE5a","AbstractTableItem");var n=cc._decorator,r=n.ccclass;n.property;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),__decorate([r],e)}(cc.Component);o.default=i,cc._RF.pop()},{}],Actions:[function(t,e,o){"use strict";cc._RF.push(e,"8ba4erOeapJRoYvgwTZo/xU","Actions");var n=t("AppLog"),r=function(){function t(){}return t.startBreath=function(t){var e=cc.scaleTo(.5,.98,1.02),o=cc.scaleTo(1,1.08,.95),n=cc.scaleTo(.5,1,1),r=cc.sequence(e,o,n);t.runAction(cc.repeatForever(r))},t.stopBreath=function(t){t&&(t.scale=1,t.stopAllActions())},t.buttonBreath=function(t){if(t){t.stopAllActions();var e=cc.scaleTo(.2,1.05,1.05),o=cc.scaleTo(.4,.95,.95),n=cc.scaleTo(.4,1,1),r=cc.sequence(e,o,n);t.runAction(cc.repeatForever(r))}},t.stoneClick=function(t){if(t){var e=Number(((7*Math.random()+108)/100).toFixed(2)),o=cc.scaleTo(.1,e,e),n=cc.scaleTo(.1,1,1),r=cc.sequence(o,n),i=cc.repeat(r,1);t.runAction(i)}},t.endStoneClick=function(t){t&&(n.default.log("endStoneClick\u3002\u3002\u3002"),t.scale=1,t.stopAllActions())},t.showTip=function(t,e){if(t){t.stopAllActions();var o=cc.scaleTo(.5,1,1),n=cc.fadeIn(.5,255),r=cc.callFunc(function(){e&&e()}),i=cc.spawn(o,n),a=cc.sequence(i,r);t.runAction(a)}},t.hideTip=function(t,e){if(t){t.stopAllActions();var o=cc.scaleTo(.5,1,0),n=cc.fadeOut(.5),r=cc.callFunc(function(){e&&e()}),i=cc.spawn(o,n),a=cc.sequence(i,r);t.runAction(a)}},t}();o.default=r,cc._RF.pop()},{AppLog:"AppLog"}],AppLog:[function(t,e,o){"use strict";cc._RF.push(e,"b6e6fH/291Cj6HKLydmahAR","AppLog");var n=t("WXApi"),r=function(){function t(){}return t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0==n.default.enable&&console.log.apply(console,t)},t}();o.default=r,cc._RF.pop()},{WXApi:"WXApi"}],BaoShiAnim:[function(t,e,o){"use strict";cc._RF.push(e,"0e19eT8/6hN0Z1QED9ZlX81","BaoShiAnim");var n=t("mainScene"),r=t("SoundManager"),i=cc._decorator,a=i.ccclass;i.property;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itmes=[],e}return __extends(e,t),e.prototype.start=function(){var t=this;this.itmes=this.node.children;var e=this.itmes.length,o=0;this.len=e,this.comNum=0,this.targetPos=this.node.convertToNodeSpaceAR(n.default.instance.diamondsWorldPos),this.schedule(function(){o<e?t.runAnim(t.itmes[o]):t.unscheduleAllCallbacks(),o++},.01,e),r.SoundMgr.playEffectByUrl(r.SoundConst.addCoin)},e.prototype.runAnim=function(t){var e=this,o=cc.moveTo(.2,this.targetPos),r=cc.scaleTo(.1,.5,.5).easing(cc.easeBackInOut()),i=cc.scaleTo(.2,.2,.2),a=cc.callFunc(function(){e.comNum++,e.comNum>=e.len&&(t.active=!1,n.default.instance.initDiamonds(),e.node.destroy())});t.runAction(cc.sequence(r,cc.delayTime(.2),cc.spawn(o,i),a))},e.prototype.onDestroy=function(){this.itmes=[]},__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{SoundManager:"SoundManager",mainScene:"mainScene"}],BaseAD:[function(t,e,o){"use strict";cc._RF.push(e,"c7aacxenPRHoLFmIxoF9gj6","BaseAD");var n=function(){};o.default=n,cc._RF.pop()},{}],Bezier:[function(t,e,o){"use strict";cc._RF.push(e,"6a7a9aZOBpPbapI9s3OIkTY","Bezier");var n=function(){function t(){}return t.prototype.s=function(t){return Math.sqrt(this.A*t*t+this.B*t+this.C)},t.prototype.L=function(t){var e=Math.sqrt(this.C+t*(this.B+this.A*t)),o=2*this.A*t*e+this.B*(e-Math.sqrt(this.C)),n=Math.log(this.B+2*Math.sqrt(this.A)*Math.sqrt(this.C)),r=Math.log(this.B+2*this.A*t+2*Math.sqrt(this.A)*e);return(2*Math.sqrt(this.A)*o+(this.B*this.B-4*this.A*this.C)*(n-r))/(8*Math.pow(this.A,1.5))},t.prototype.InvertL=function(t,e){for(var o,n=t;o=n-(this.L(n)-e)/this.s(n),!(Math.abs(n-o)<1e-6);)n=o;return o},t.prototype.init=function(t,e,o,n){this.p0=t,this.p1=e,this.p2=o;var r=this.p0.x-2*this.p1.x+this.p2.x,i=this.p0.y-2*this.p1.y+this.p2.y,a=2*this.p1.x-2*this.p0.x,s=2*this.p1.y-2*this.p0.y;return this.A=4*(r*r+i*i),this.B=4*(r*a+i*s),this.C=a*a+s*s,this.total_length=this.L(1),this.step=Math.floor(this.total_length/n),this.total_length%n>n/2&&this.step++,this.step},t.prototype.getAnchorPoint=function(t){if(t>=0&&t<=this.step){var e=t/this.step,o=e*this.total_length,n=(1-(e=this.InvertL(e,o)))*(1-e)*this.p0.x+2*(1-e)*e*this.p1.x+e*e*this.p2.x,r=(1-e)*(1-e)*this.p0.y+2*(1-e)*e*this.p1.y+e*e*this.p2.y,i=new cc.Vec2((1-e)*this.p0.x+e*this.p1.x,(1-e)*this.p0.y+e*this.p1.y),a=new cc.Vec2((1-e)*this.p1.x+e*this.p2.x,(1-e)*this.p1.y+e*this.p2.y),s=a.x-i.x,c=a.y-i.y;return Math.atan2(c,s),Math.PI,new cc.Vec2(n,r)}return null},t.prototype.createBezierPoints=function(t,e){for(var o=[],n=0;n<e;n++){var r=this.multiPointBezier(t,n/e);o.push(r)}return o},t.prototype.multiPointBezier=function(t,e){for(var o=t.length,n=0,r=0,i=function(t,e){for(var o=1,n=1;e>0;)o*=t,n*=e,t--,e--;return o/n},a=0;a<o;a++){var s=t[a];n+=s.x*Math.pow(1-e,o-1-a)*Math.pow(e,a)*i(o-1,a),r+=s.y*Math.pow(1-e,o-1-a)*Math.pow(e,a)*i(o-1,a)}return new cc.Vec2(Number(n.toFixed(2)),Number(r.toFixed(2)))},t}();o.Bezier=n,cc._RF.pop()},{}],BombTipNode:[function(t,e,o){"use strict";cc._RF.push(e,"764caOqJFxBiJxAhwsHrdVV","BombTipNode");var n=t("SoundManager"),r=t("Utils"),i=cc._decorator,a=i.ccclass,s=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.cancel=null,e.callBack=null,e}return __extends(e,t),e.prototype.onLoad=function(){r.default.setBgSpr(this.bgNode)},e.prototype.initData=function(t){this.callBack=t},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.cancel.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut()))},1.5)},e.prototype.onOkBtn=function(){n.SoundMgr.playEffectByUrl(n.SoundConst.UIButton),this.callBack&&this.callBack(!0),this.node.destroy()},e.prototype.onCloseBtn=function(){n.SoundMgr.playEffectByUrl(n.SoundConst.UIButton),this.callBack&&this.callBack(!1),this.node.destroy()},__decorate([s(cc.Node)],e.prototype,"bgNode",void 0),__decorate([s(cc.Node)],e.prototype,"cancel",void 0),__decorate([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{SoundManager:"SoundManager",Utils:"Utils"}],CloudNode:[function(t,e,o){"use strict";cc._RF.push(e,"ceb1bgvPVNFn6bZwo4cwlQQ","CloudNode");var n=t("MonsterPool"),r=cc._decorator,i=r.ccclass,a=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragon=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){var t=this;this.dragon.playAnimation("animation",1),this.dragon.timeScale=.8,this.node.y=-30,this.dragon.addEventListener(dragonBones.EventObject.COMPLETE,function(){t.dragon.removeEventListener(dragonBones.EventObject.COMPLETE),n.MstPool.pushCloudNode(t.node)})},e.prototype.reuse=function(){this.start()},e.prototype.unuse=function(){},__decorate([a(dragonBones.ArmatureDisplay)],e.prototype,"dragon",void 0),__decorate([i],e)}(cc.Component);o.default=s,cc._RF.pop()},{MonsterPool:"MonsterPool"}],CollectNode:[function(t,e,o){"use strict";cc._RF.push(e,"76ce1HZHZxMppV/80PYdL51","CollectNode");var n=t("Utils"),r=t("SoundManager"),i=t("DataManage"),a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e}return __extends(e,t),e.prototype.onLoad=function(){n.default.setBgSpr(this.bgNode),i.DataMgr.setIsTouchCollect(!0)},e.prototype.onClose=function(){r.SoundMgr.playEffectByUrl(r.SoundConst.UIButton),this.node.destroy()},__decorate([c(cc.Node)],e.prototype,"bgNode",void 0),__decorate([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{DataManage:"DataManage",SoundManager:"SoundManager",Utils:"Utils"}],ComTipsAnim:[function(t,e,o){"use strict";cc._RF.push(e,"96c005GptdCq4DPSIwENByH","ComTipsAnim");var n=cc._decorator,r=n.ccclass,i=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lab=null,e.str="",e}return __extends(e,t),e.prototype.onLoad=function(){this.endPos=new cc.Vec2(cc.winSize.width/2,cc.winSize.height/2+100)},e.prototype.initData=function(t,e){void 0===e&&(e=1),this.str=t,this.delayTime=e},e.prototype.start=function(){this.lab.string=this.str;var t=cc.scaleTo(.2,.9),e=cc.fadeIn(.2),o=cc.moveTo(1,this.endPos),n=cc.fadeOut(1),r=cc.spawn(t,e),i=cc.spawn(o,n),a=cc.callFunc(this.finished,this);this.node.runAction(cc.sequence(r,cc.delayTime(this.delayTime),i,a))},e.prototype.finished=function(){this.node.stopAllActions(),this.node.destroy()},__decorate([i(cc.Label)],e.prototype,"lab",void 0),__decorate([r],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],DataManage:[function(t,e,o){"use strict";var n;cc._RF.push(e,"bf8152w7ExBY7n/r+otnOqh","DataManage");var r=t("LocalStorage"),i=t("WXApi"),a=t("Utils"),s=t("GameConst"),c=t("HttpUtils"),u=t("UserData"),l=t("WXUtils"),d=function(){function t(){this.init_bronTwo_probability=62,this.max_bronTwo_probability=90,this.bronTwo_probability=62,this.min_bronLastMonster_probability=10,this.init_bronLastMonster_probability=30,this.bronLastMonster_probability=20,this.chang_probabilityByScore=300,this.version="v1.0.1",this.shareImgUrl="https://farm.heicheng51.com/shareImg/",this.loginTime=0,this._welfareAdvertNum=0,this._welfareAdvertTimer=0,this._welfareShareTimer=0,this._welfareSharetNum=0,this._welfareBombNum=0,this._welfareAddBombNum=0,this._welfareBombTimer=0,this.isOneLogin=!0,this._isTouchCollect=!1,this._screenNum=0,this.randomlist=[]}return t.prototype.setRandomList=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(o){switch(o.label){case 0:t=0,o.label=1;case 1:return t<100?[4,this.random()]:[3,4];case 2:e=o.sent(),this.randomlist.push(e),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},t.prototype.random=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){return t=a.default.getRandom(0,100),this.randomlist.indexOf(t)>0?[2,this.random()]:[2,t]})})},t.prototype.getRandom1_100=function(){var t=a.default.getRandom(0,100);return 100==t&&(t=50),this.randomlist[t]},t.prototype.initData=function(){this.setRandomList(),i.default.isWxPlatform&&wx.getLaunchOptionsSync(),this.bronTwo_probability=r.LocalStorage.getNumber(n.bronTwo_probability,60),this.bronLastMonster_probability=r.LocalStorage.getNumber(n.bronLastMonster_probability,30),this.currScore=r.LocalStorage.getNumber(n.currScore,0),this.lastStateScore=r.LocalStorage.getNumber(n.lastStateScore,0),this.diamondNum=r.LocalStorage.getNumber(n.diamond,60),this.openId=r.LocalStorage.getString(n.openId),this._sound=20==r.LocalStorage.getNumber(n.sound,20),this._music=20==r.LocalStorage.getNumber(n.music,20),this._giveBombNum=r.LocalStorage.getNumber(n.giveBombNum,0),this._treasureTime=r.LocalStorage.getNumber(n.treasureTime,0),this._treasureNum=r.LocalStorage.getNumber(n.treasureTime,0),this._gameNum=r.LocalStorage.getNumber(n.gameNum,0),this.loginTime=r.LocalStorage.getNumber(n.loginTimer,0),this.isOneLogin=20==r.LocalStorage.getNumber(n.todayLogin,20),this.isOneLogin&&(this.gameNum>1&&(this.isOneLogin=!1),r.LocalStorage.setNumber(n.todayLogin,10)),this._isTouchCollect=20==r.LocalStorage.getNumber(n.isTouchCollect,10),this.isNewDay()?(r.LocalStorage.setNumber(n.loginTimer,Date.now()),this.welfareAdvertNum=0,this.welfareShareNum=0,this.welfareBombNum=0,this.welfareAddBombNum=0,this.welfareShareTimer=0,this.welfareBombTimer=0,this.screenNum=0,this.setIsReceiveCollect(!1),this.loginRewardNum=0,this.loginRewardTimer=0):(this._welfareAdvertNum=r.LocalStorage.getNumber(n.welfareAdvertNum,0),this._welfareSharetNum=r.LocalStorage.getNumber(n.welfareSharetNum,0),this._welfareBombNum=r.LocalStorage.getNumber(n.welfareBombNum,0),this._welfareAddBombNum=r.LocalStorage.getNumber(n.welfareAddBombNum,0),this._welfareShareTimer=r.LocalStorage.getNumber(n.welfareShareTimer,0),this._welfareBombTimer=r.LocalStorage.getNumber(n.welfareBombTimer,0),this._screenNum=1,this.loginRewardTimer=r.LocalStorage.getNumber(n.loginRewardTimer,0))},t.prototype.initUserData=function(t){this.userData||(this.userData=new u.default),this.userData.initData(t),this.userData.gold>this.diamondNum&&(this.diamondNum=this.userData.gold),this.userData.score>this.maxScore&&(this.maxScore=this.userData.score)},t.prototype.reset=function(){this.bronTwo_probability=this.init_bronTwo_probability,this.bronLastMonster_probability=this.init_bronLastMonster_probability,this.currScore=0,this.lastStateScore=0,this.currMonsterMaxValue=2,this.bombNum=0,this.useLJTNum=1,this.usrJDNum=1,this.giveBombNum=0,this.isGameOver=!1,this.restGridData(),this.saveConfig()},t.prototype.restGridData=function(){for(var t=1;t<6;t++)for(var e=1;e<6;e++){var o=e+"_"+t;this.saveGridValue(o,-1)}},Object.defineProperty(t.prototype,"screenNum",{get:function(){return this._screenNum},set:function(t){this._screenNum=t,r.LocalStorage.setNumber(n.screenNum,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMusic",{get:function(){return this._music},set:function(t){this._music=t,t?r.LocalStorage.setNumber(n.music,20):r.LocalStorage.setNumber(n.music,10)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSound",{get:function(){return this._sound},set:function(t){this._sound=t,t?r.LocalStorage.setNumber(n.sound,20):r.LocalStorage.setNumber(n.sound,10)},enumerable:!0,configurable:!0}),t.prototype.restTreasureTimer=function(){this._treasureTime=Date.now(),r.LocalStorage.setNumber(n.treasureTime,this._treasureTime)},t.prototype.getTreasureTimer=function(){var t=Date.now();return Math.floor((t-this._treasureTime)/1e3)},Object.defineProperty(t.prototype,"giveBombNum",{get:function(){return this._giveBombNum},set:function(t){this._giveBombNum=t,r.LocalStorage.setNumber(n.giveBombNum,t)},enumerable:!0,configurable:!0}),t.prototype.isCanGiveBomb=function(){return 0==this.giveBombNum||(1==this.giveBombNum&&this.currScore>350?a.default.getRandom(1,100)>=30:2==this.giveBombNum&&this.currScore>700?a.default.getRandom(1,100)>=50:3==this.giveBombNum&&this.currScore>900?a.default.getRandom(1,100)>=65:4==this.giveBombNum&&this.currScore>1100&&a.default.getRandom(1,100)>=80)},Object.defineProperty(t.prototype,"gameNum",{get:function(){return this._gameNum},set:function(t){this._gameNum=t,r.LocalStorage.setNumber(n.gameNum,t)},enumerable:!0,configurable:!0}),t.prototype.getBronLastMonster_probability=function(){return this.bronLastMonster_probability},t.prototype.getBronTwoProbability=function(){return this.bronTwo_probability},t.prototype.addScore=function(t){this.currScore+=t,this.currScore>=this.lastStateScore+this.chang_probabilityByScore&&(this.setProbability(),r.LocalStorage.setNumber(n.lastStateScore,this.currScore),this.lastStateScore=this.currScore),r.LocalStorage.setNumber(n.currScore,this.currScore)},t.prototype.setProbability=function(){this.bronTwo_probability<this.max_bronTwo_probability?(this.bronTwo_probability++,r.LocalStorage.setNumber(n.bronTwo_probability,this.bronTwo_probability)):this.bronLastMonster_probability>this.min_bronLastMonster_probability&&(this.bronLastMonster_probability--,r.LocalStorage.setNumber(n.bronLastMonster_probability,this.bronLastMonster_probability))},t.prototype.saveConfig=function(){r.LocalStorage.setNumber(n.bronTwo_probability,this.bronTwo_probability),r.LocalStorage.setNumber(n.bronLastMonster_probability,this.bronLastMonster_probability),r.LocalStorage.setNumber(n.currScore,this.currScore),r.LocalStorage.setNumber(n.lastStateScore,this.currScore)},Object.defineProperty(t.prototype,"maxScore",{get:function(){return r.LocalStorage.getNumber(n.maxScore,0)},set:function(t){r.LocalStorage.setNumber(n.maxScore,t),l.WXUtils.setOpenData(t)},enumerable:!0,configurable:!0}),t.prototype.getIsScreenAd=function(){return 0==this.screenNum||(1==this.screenNum?a.default.getRandom(0,100)>50:2==this.screenNum?a.default.getRandom(0,100)>55:3==this.screenNum?a.default.getRandom(0,100)>65:4==this.screenNum?a.default.getRandom(0,100)>70:5==this.screenNum?a.default.getRandom(0,100)>80:a.default.getRandom(0,100)>95)},t.prototype.saveGridValue=function(t,e){r.LocalStorage.setNumber(n.grid+t,e)},t.prototype.getGridValue=function(t){return r.LocalStorage.getNumber(n.grid+t,-1)},t.prototype.getDiamondNum=function(){return this.diamondNum},t.prototype.setDiamondNum=function(t){r.LocalStorage.setNumber(n.diamond,t)},t.prototype.addDiamondNum=function(t,e){void 0===e&&(e=!0),this.diamondNum+=t,r.LocalStorage.setNumber(n.diamond,this.diamondNum),e&&o.DataMgr.asyncGold()},t.prototype.reduceDiamondNum=function(t){this.diamondNum-=t,this.diamondNum=this.diamondNum>0?this.diamondNum:0,r.LocalStorage.setNumber(n.diamond,this.diamondNum),o.DataMgr.asyncGold()},t.prototype.getScore=function(){return this.currScore},Object.defineProperty(t.prototype,"currMonsterMaxValue",{get:function(){var t=r.LocalStorage.getNumber(n.currMonsterMaxValue,2);return t<2&&(t=2),t},set:function(t){r.LocalStorage.setNumber(n.currMonsterMaxValue,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currBornMonsters",{get:function(){var t=r.LocalStorage.getString(n.currBornMonsters,"");return""==t?[]:t.split(",")},enumerable:!0,configurable:!0}),t.prototype.setCurrBornMonsters=function(t){t?1==t.length?r.LocalStorage.setString(n.currBornMonsters,t[0]+""):2==t.length&&r.LocalStorage.setString(n.currBornMonsters,t[0]+","+t[1]):r.LocalStorage.setString(n.currBornMonsters,"")},Object.defineProperty(t.prototype,"bombNum",{get:function(){return r.LocalStorage.getNumber(n.bombNum,0)+this.welfareBombNum},set:function(t){r.LocalStorage.setNumber(n.bombNum,t)},enumerable:!0,configurable:!0}),t.prototype.userBomb=function(){var t=r.LocalStorage.getNumber(n.bombNum,0);t>0?(t--,r.LocalStorage.setNumber(n.bombNum,t)):this.welfareBombNum--},Object.defineProperty(t.prototype,"useLJTNum",{get:function(){return r.LocalStorage.getNumber(n.useLJTNum,1)},set:function(t){r.LocalStorage.setNumber(n.useLJTNum,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"usrJDNum",{get:function(){return r.LocalStorage.getNumber(n.usrJDNum,1)},set:function(t){r.LocalStorage.setNumber(n.usrJDNum,t)},enumerable:!0,configurable:!0}),t.prototype.getGuideByType=function(t){return 20==r.LocalStorage.getNumber(n.grid+t,10)},t.prototype.setGuideByType=function(t){r.LocalStorage.setNumber(n.grid+t,20)},Object.defineProperty(t.prototype,"isGameOver",{get:function(){return 20==r.LocalStorage.getNumber(n.isGameOver,10)},set:function(t){t?r.LocalStorage.setNumber(n.isGameOver,20):r.LocalStorage.setNumber(n.isGameOver,10)},enumerable:!0,configurable:!0}),t.prototype.isGuideCom=function(){return this.gameNum>1},t.prototype.asyncData=function(){s.GameConst.isLogin&&c.HttpUtils.httpPost(c.HttpUtils.asyncData,function(t){console.log("\u53d1\u9001\u6210\u529f=="+c.HttpUtils.asyncData)},{score:this.maxScore,gold:this.getDiamondNum()})},t.prototype.asyncGold=function(){s.GameConst.isLogin&&c.HttpUtils.httpPost(c.HttpUtils.asyncGold,function(t){console.log("\u53d1\u9001\u6210\u529f=="+c.HttpUtils.asyncGold)},{gold:this.getDiamondNum()})},t.prototype.isNewDay=function(){if(0==this.loginTime)return!0;var t=new Date(this.loginTime),e=new Date;return!a.default.isInSameDay(t,e)},t.prototype.getIsTouchCollect=function(){return this._isTouchCollect},t.prototype.setIsTouchCollect=function(t){t?r.LocalStorage.setNumber(n.isTouchCollect,20):r.LocalStorage.setNumber(n.isTouchCollect,10)},t.prototype.getIsReceiveCollect=function(){return 20==r.LocalStorage.getNumber(n.isReceiveCollect,10)},t.prototype.setIsReceiveCollect=function(t){t?r.LocalStorage.setNumber(n.isReceiveCollect,20):r.LocalStorage.setNumber(n.isReceiveCollect,10)},t.prototype.isCanReceiveCollect=function(){return!(this.getIsReceiveCollect()||!this.getIsCollectEnter()||!this.getIsTouchCollect())},t.prototype.getIsCollectEnter=function(){return 1089==s.GameConst.wxScene},Object.defineProperty(t.prototype,"welfareAdvertNum",{get:function(){return this._welfareAdvertNum},set:function(t){this._welfareAdvertNum=t,r.LocalStorage.setNumber(n.welfareAdvertNum,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"welfareAdvertTimer",{get:function(){return this._welfareAdvertTimer},set:function(t){this._welfareAdvertTimer=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"welfareShareTimer",{get:function(){return this._welfareShareTimer},set:function(t){this._welfareShareTimer=t,r.LocalStorage.setNumber(n.welfareShareTimer,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"welfareShareNum",{get:function(){return this._welfareSharetNum},set:function(t){this._welfareSharetNum=t,r.LocalStorage.setNumber(n.welfareSharetNum,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"welfareBombNum",{get:function(){return this._welfareBombNum},set:function(t){this._welfareBombNum=t,r.LocalStorage.setNumber(n.welfareBombNum,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"welfareAddBombNum",{get:function(){return this._welfareAddBombNum},set:function(t){this._welfareAddBombNum=t,r.LocalStorage.setNumber(n.welfareAddBombNum,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"welfareBombTimer",{get:function(){return this._welfareBombTimer},set:function(t){this._welfareBombTimer=t,r.LocalStorage.setNumber(n.welfareBombTimer,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollectEnter",{get:function(){return 20==r.LocalStorage.getNumber(n.isCollectEnter,10)},set:function(t){t?r.LocalStorage.setNumber(n.isCollectEnter,20):r.LocalStorage.setNumber(n.isCollectEnter,10)},enumerable:!0,configurable:!0}),t.prototype.getWelfareRedNum=function(){var t=0;this.getIsReceiveCollect()||t++;var e=Date.now();return s.RewardNumConst.bombNum-this.welfareAddBombNum>0&&s.RewardTimerSpace.bombTimer<(e-this.welfareBombTimer)/1e3&&t++,s.RewardNumConst.advertNum-this.welfareAdvertNum>0&&s.RewardTimerSpace.advertTimer<(e-this.welfareAdvertTimer)/1e3&&t++,s.RewardNumConst.shareNum-this.welfareShareNum>0&&s.RewardTimerSpace.shareTimer<(e-this.welfareShareTimer)/1e3&&t++,t},Object.defineProperty(t.prototype,"loginRewardNum",{get:function(){return r.LocalStorage.getNumber(n.loginRewardNum,0)},set:function(t){r.LocalStorage.setNumber(n.loginRewardNum,t);var e=Date.now();0==t&&(e=0),r.LocalStorage.setNumber(n.loginRewardTimer,e)},enumerable:!0,configurable:!0}),t.prototype.isCanPopLoginRewaedUi=function(){return this.loginRewardNum<3&&(Date.now()-this.loginRewardTimer)/1e3>150},t}();o.default=d,o.DataMgr=new d,function(t){t.vivo_token="vivo_token",t.bronTwo_probability="bronTwo_probability",t.bronLastMonster_probability="bronLastMonster_probability",t.lastStateScore="lastStateScore",t.currMonsterMaxValue="currMonsterMaxValue",t.currScore="currScore",t.maxScore="maxScore",t.diamond="dhjsjhfdhj",t.openId="djfksdesfefssee",t.sound="sound",t.music="music",t.grid="grid_",t.currBornMonsters="currBornMonsters",t.bombNum="jjfjjdjfjfjjdfj",t.useLJTNum="jfjfjjerrsw",t.usrJDNum="eeyyyyeyew",t.giveBombNum="_giveBombNum",t.guide="guide_",t.isGameOver="isGameOver",t.treasureTime="treasureTime",t.treasureNum="treasurenum",t.gameNum="game_num",t.loginTimer="loginTimer",t.welfareAdvertNum="WelfareAdvertnum",t.welfareSharetNum="welfareSharetNum",t.welfareShareTimer="welfareShareTimer",t.welfareBombNum="welfareBombNum",t.welfareAddBombNum="welfareAddBombNum",t.welfareBombTimer="welfareBombTimer",t.isTouchCollect="isTouchCollect",t.isReceiveCollect="isReceiveCollect",t.isCollectEnter="isCollectEnter",t.todayLogin="TodayLogin",t.screenNum="screenNum",t.loginRewardTimer="loginRewardTimer",t.loginRewardNum="loginRewardNum"}(n=o.DataConst||(o.DataConst={})),cc._RF.pop()},{GameConst:"GameConst",HttpUtils:"HttpUtils",LocalStorage:"LocalStorage",UserData:"UserData",Utils:"Utils",WXApi:"WXApi",WXUtils:"WXUtils"}],DoubleReward:[function(t,e,o){"use strict";cc._RF.push(e,"e3b6bXCJ79H67lFtWxGC0JX","DoubleReward");var n=t("WXUtils"),r=t("GameConst"),i=t("DataManage"),a=t("EffectUtils"),s=t("UIManager"),c=t("Utils"),u=t("SoundManager"),l=t("OPPOApi"),d=t("FastADAdapter"),h=cc._decorator,p=h.ccclass,f=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numLab=null,e.baoshiNode=null,e.bgNode=null,e.num=0,e.callBack=null,e}return __extends(e,t),e.prototype.onLoad=function(){c.default.setBgSpr(this.bgNode)},e.prototype.initData=function(t,e){this.num=t,this.callBack=e,this.numLab.string="x"+2*this.num},e.prototype.start=function(){},e.prototype.onReceive=function(){var t=this;l.default.enable?d.fastAd.createVideo(function(e){if(1==e.videoState){var o=t.baoshiNode.convertToWorldSpaceAR(cc.Vec2.ZERO);i.DataMgr.addDiamondNum(t.num),a.EffectUtils.creatorBaoShiAnim(o),s.UIManager.showComTis("\u83b7\u5f97\u53cc\u500d\u5b9d\u77f3",1.5),t.callBack&&t.callBack(!0),t.node.destroy()}else s.UIManager.showComTis("\u5e7f\u544a\u64ad\u653e\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u6216\u8005\u91cd\u8bd5")},"\u53cc\u500d\u5956\u52b1\u9762\u677f"):n.WXUtils.wxVideo(r.WxVideoId.popfanbenBaoshi,function(e){if(e){var o=t.baoshiNode.convertToWorldSpaceAR(cc.Vec2.ZERO);i.DataMgr.addDiamondNum(t.num),a.EffectUtils.creatorBaoShiAnim(o),s.UIManager.showComTis("\u83b7\u5f97\u53cc\u500d\u5b9d\u77f3",1.5),t.callBack&&t.callBack(!0),t.node.destroy()}})},e.prototype.onClose=function(){u.SoundMgr.playEffectByUrl(u.SoundConst.UIButton),this.callBack&&this.callBack(!1),this.node.destroy()},__decorate([f(cc.Label)],e.prototype,"numLab",void 0),__decorate([f(cc.Node)],e.prototype,"baoshiNode",void 0),__decorate([f(cc.Node)],e.prototype,"bgNode",void 0),__decorate([p],e)}(cc.Component);o.default=g,cc._RF.pop()},{DataManage:"DataManage",EffectUtils:"EffectUtils",FastADAdapter:"FastADAdapter",GameConst:"GameConst",OPPOApi:"OPPOApi",SoundManager:"SoundManager",UIManager:"UIManager",Utils:"Utils",WXUtils:"WXUtils"}],EffectUtils:[function(t,e,o){"use strict";cc._RF.push(e,"78a11kQpLVAVYuQwjYN1aKu","EffectUtils");var n=t("PrefabManger"),r=t("mainScene"),i=function(){function t(){}return t.prototype.creatorMergeAnim=function(t){var e=cc.instantiate(n.PrefabMgr.getPrefabByName(n.PrefabConst.mergeAnim));e.parent=t;var o=e.getComponent(dragonBones.ArmatureDisplay);o.playAnimation("animation",1),e.y=-20,e.scale=1.2,o.addEventListener(dragonBones.EventObject.COMPLETE,function(){o.removeEventListener(dragonBones.EventObject.COMPLETE),e.destroy()})},t.prototype.creatorDaoGuangAnim=function(t){n.PrefabMgr.getAsyncPrefabByName(n.PrefabConst.daoguang,function(e){var o=cc.instantiate(e);o.parent=t,o.scale=1;var n=o.getComponent(dragonBones.ArmatureDisplay);n.playAnimation("animation",1),n.addEventListener(dragonBones.EventObject.COMPLETE,function(){n.removeEventListener(dragonBones.EventObject.COMPLETE),o.destroy()})})},t.prototype.creatoeBombEff=function(t,e){n.PrefabMgr.getAsyncPrefabByName(n.PrefabConst.bombEffNode,function(o){var n=cc.instantiate(o);n.parent=t;var r=n.getComponent(dragonBones.ArmatureDisplay);r.playAnimation("animation",1),n.scale=1.2,n.position=e,n.zIndex=0,r.addEventListener(dragonBones.EventObject.COMPLETE,function(){r.removeEventListener(dragonBones.EventObject.COMPLETE),n.destroy()})})},t.prototype.creatoeBombDiEff=function(t,e){n.PrefabMgr.getAsyncPrefabByName(n.PrefabConst.bombDiEffNode,function(o){var n=cc.instantiate(o);n.parent=t;var r=n.getComponent(dragonBones.ArmatureDisplay);r.playAnimation("animation",1),n.scale=1.2,n.position=e,n.zIndex=0,r.addEventListener(dragonBones.EventObject.COMPLETE,function(){r.removeEventListener(dragonBones.EventObject.COMPLETE),n.destroy()})})},t.prototype.creatorBaoShiAnim=function(t){n.PrefabMgr.getAsyncPrefabByName(n.PrefabConst.baoshiAnim,function(e){var o=cc.instantiate(e),n=r.default.instance.tipsLayer,i=n.convertToNodeSpaceAR(t);o.parent=n,o.position=i})},t.prototype.scaleSwayAnim=function(t,e){t.scale=0;var o=cc.scaleTo(.5,e),n=cc.scaleTo(.5,.99,1.01),r=cc.scaleTo(1,1.05,.97),i=cc.scaleTo(.5,1,1),a=cc.sequence(n,r,i);t.runAction(cc.sequence(o,cc.repeat(a,2)))},t.prototype.startBreath=function(t,e){void 0===e&&(e=1);var o=cc.scaleTo(.5*e,.98,1.02),n=cc.scaleTo(1*e,1.08,.95),r=cc.scaleTo(.5*e,1,1),i=cc.sequence(o,n,r);t.runAction(cc.repeatForever(i))},t.prototype.stopBreath=function(t){t&&(t.scale=1,t.stopAllActions())},t.prototype.btnPosAinm=function(t,e,o){void 0===o&&(o=0);var n=cc.moveTo(1,e).easing(cc.easeBackOut());o>0?t.runAction(cc.sequence(cc.delayTime(o),n)):t.runAction(n)},t.prototype.btnScaleAnim=function(t,e,o){void 0===o&&(o=null);var n=cc.scaleTo(1,e).easing(cc.easeBackOut());if(o){var r=cc.callFunc(function(){o()});t.runAction(cc.sequence(cc.delayTime(1),n,r))}else t.runAction(n)},t}();o.EffectUtils=new i,cc._RF.pop()},{PrefabManger:"PrefabManger",mainScene:"mainScene"}],Extend:[function(t,e,o){"use strict";cc._RF.push(e,"263d8psjklDfJrFDzDJrYBd","Extend"),function(t){t.randomElement=function(t){return 0==t.length?null:t[Math.floor(Math.random()*t.length)]},t.showAvatar=function(t,e){if(e&&""!=e){var o=e+"?aaa=aa.jpg";cc.loader.load(o,function(e,o){t&&t.isValid&&(t.spriteFrame=new cc.SpriteFrame(o))})}},t.wxCreateImageToSprite=function(t,e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(o){return[2,new Promise(function(o,n){var r=t.node,i={width:r.width,height:r.height},a=wx.createImage();a.onload=function(){if(t&&t.node&&t.node.isValid){var e=new cc.Texture2D;e.initWithElement(a),e.handleLoadedTexture(),t.spriteFrame=new cc.SpriteFrame(e),r.width=i.width,r.height=i.height,o()}},a.src=e})]})})}}(o.ext||(o.ext={})),cc._RF.pop()},{}],FastADAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"93785DE+FxL75fId4FsbNe7","FastADAdapter");var n=t("PlatformConst"),r=t("VivoAD"),i=t("FastIdConst"),a=t("OppoAD"),s=function(){function t(){this.channel=n.PlatformConst.no,this._adInst=null,this._appId=""}return t.prototype.initFastAd=function(t,e){switch(void 0===e&&(e=!1),this.channel=t,this._adInst=null,i.FastIdConst[this.channel+"_id"]&&(this._appId=i.FastIdConst[this.channel+"_id"].appId),console.log("FastADAdapter initFastAd ==",this.channel),t){case n.PlatformConst.oppo:this._adInst=new a.default,this._adInst.initAD(this._appId);break;case n.PlatformConst.vivo:this._adInst=new r.default;break;default:console.log("\u8be5\u8fd0\u884c\u73af\u5883\u4e0d\u9700\u8981\u521d\u59cb\u5316\u5e7f\u544a")}},t.prototype.alreadyInit=function(){return!(this.channel==n.PlatformConst.no||!this._adInst)},t.prototype.createBanner=function(t){if(void 0===t&&(t=0),this.alreadyInit()){var e=i.FastIdConst[this.channel+"_id"].bannerId;this._adInst.createBanner(e,t)}},t.prototype.hideBanner=function(){this.alreadyInit()&&this._adInst.hideBanner()},t.prototype.showBanner=function(){this.alreadyInit()&&this._adInst.showBanner()},t.prototype.createInsert=function(t){if(void 0===t&&(t=!0),this.alreadyInit()){var e=i.FastIdConst[this.channel+"_id"].insertId;console.log("inserId ===",e),this._adInst.createInsert(e,t)}},t.prototype.createVideo=function(t,e){if(this.alreadyInit()){var o=i.FastIdConst[this.channel+"_id"].videoId;this._adInst.createVideo(o,t,e)}},t.prototype.createNative=function(t){if(this.alreadyInit()){var e=i.FastIdConst[this.channel+"_id"].nativeId;this._adInst.createNative(e,function(e){e?(t&&(e.adScale=t.scale||1,e.adType=t.adType||1),console.log("res.adScale",e.adScale)):console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25")})}},t}();o.default=s,o.fastAd=new s,cc._RF.pop()},{FastIdConst:"FastIdConst",OppoAD:"OppoAD",PlatformConst:"PlatformConst",VivoAD:"VivoAD"}],FastIdConst:[function(t,e,o){"use strict";cc._RF.push(e,"3fc3c2rS4FEBJjl5yA3Tjle","FastIdConst"),o.FastIdConst={oppo_id:{bannerId:"120923",nativeId:"117799",videoId:"120924",insertId:"120922",openInsertId:"120921",appId:"30193200"},vivo_id:{bannerId:"631351d881ef44509fcdff49e348ea64",nativeId:"not support",videoId:"e90cc428b2f74285b4a843aef89c18f5",insertId:"78986b799c31443fac383adcb0841f18",openInsertId:"not support",appId:100001792}},cc._RF.pop()},{}],GameConst:[function(t,e,o){"use strict";cc._RF.push(e,"2022bfrBbFENap+neuHk4Tk","GameConst");var n=function(){this.token="",this.gameUrl="https://test.heicheng51.com/carrot/",this.imgUrl="https://res.heicheng51.com/shareImg/",this.wecode=null,this.signature="",this.encryptedData="",this.oppo_token="",this.iv="",this.openId="",this.isGuide=!0,this.currTouchTarget=null,this.isLogin=!1,this.wxScene=0};o.default=n,o.GameConst=new n,function(t){t[t.mainUi=0]="mainUi",t[t.game=1]="game",t[t.gameOver=2]="gameOver"}(o.SceneConst||(o.SceneConst={})),function(t){t[t.advertNum=10]="advertNum",t[t.shareNum=5]="shareNum",t[t.bombNum=10]="bombNum"}(o.RewardNumConst||(o.RewardNumConst={})),function(t){t[t.advertTimer=60]="advertTimer",t[t.shareTimer=120]="shareTimer",t[t.bombTimer=120]="bombTimer"}(o.RewardTimerSpace||(o.RewardTimerSpace={})),function(t){t.welfaBaoshi="adunit-f2dbd457d76d288e",t.welfaBomb="adunit-ee22c2544725fc5e",t.gameOverBomb="adunit-d30076fdbb991153",t.fanbenBaoshi="adunit-bb75e9d00d7e72c2",t.popfanbenBaoshi="adunit-8dace8f702530016",t.ChaPing="adunit-d50c4439906c6727",t.loginReward="adunit-82696f612fdeca3f"}(o.WxVideoId||(o.WxVideoId={})),cc._RF.pop()},{}],GameManage:[function(t,e,o){"use strict";cc._RF.push(e,"72839pWsttJObTUAACqdvVG","GameManage");var n=t("TemplateManage"),r=t("DataManage"),i=function(){function t(){this.serverlistens=[]}return t.prototype.initManage=function(){this.TempMgr=n.TempMgr,r.DataMgr.initData()},t.prototype.showGameOverUI=function(){},t}();o.default=i,o.GM=new i,cc._RF.pop()},{DataManage:"DataManage",TemplateManage:"TemplateManage"}],GameOverNode:[function(t,e,o){"use strict";cc._RF.push(e,"0dd35MY+hZCoo4x5eCcH5y1","GameOverNode");var n=t("DataManage"),r=t("MonsterManager"),i=t("mainScene"),a=t("WXApi"),s=t("UIManager"),c=t("Utils"),u=t("EffectUtils"),l=t("SoundManager"),d=t("GameConst"),h=t("WxAuthority"),p=t("MoreGameManger"),f=t("WXUtils"),g=t("OPPOApi"),m=t("FastADAdapter"),y=cc._decorator,b=y.ccclass,v=y.property,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreLab=null,e.maxScoreLab=null,e.baoshiNum=null,e.newbast=null,e.baoshi=0,e.VideoNode=null,e.baoshiNode=null,e.bgNode=null,e.rankBtnNode=null,e.againBtn=null,e.isdouble=!1,e.isMaxSocre=!1,e}return __extends(e,t),e.prototype.onLoad=function(){d.GameConst.currScene=d.SceneConst.gameOver,c.default.setBgSpr(this.bgNode)},e.prototype.start=function(){this.createWxAuthorize();var t=n.DataMgr.getScore();this.scoreLab.string=n.DataMgr.getScore()+"",t>n.DataMgr.maxScore?(this.maxScoreLab.string="\u6700\u4f73  "+n.DataMgr.maxScore,n.DataMgr.maxScore=t,i.default.instance.initMaxSocre(),this.newbast.active=!0,this.isMaxSocre=!0):(this.maxScoreLab.string="\u6700\u4f73  "+n.DataMgr.maxScore,this.newbast.active=!1),this.baoshi=Math.floor(t/10),this.baoshiNum.string=this.baoshi+"",this.saveData(),p.default.instance.showMoreGame(),n.DataMgr.getIsScreenAd()&&f.WXUtils.interstitialAd()},e.prototype.onVideo=function(){var t=this;g.default.enable?m.fastAd.createVideo(function(e){1==e.videoState?(t.VideoNode.active=!1,l.SoundMgr.playEffectByUrl(l.SoundConst.GameOve),s.UIManager.showComTis("\u83b7\u5f97\u53cc\u500d\u5b9d\u77f3",1.5),t.doubleBaoshi()):s.UIManager.showComTis("\u5e7f\u544a\u64ad\u653e\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u6216\u8005\u91cd\u8bd5")},"\u7ed3\u675f\u5956\u52b1\u9762\u677f"):f.WXUtils.wxVideo(d.WxVideoId.fanbenBaoshi,function(e){e?(t.VideoNode.active=!1,l.SoundMgr.playEffectByUrl(l.SoundConst.GameOve),s.UIManager.showComTis("\u83b7\u5f97\u53cc\u500d\u5b9d\u77f3",1.5),t.doubleBaoshi()):s.UIManager.showComTis("\u770b\u5b8c\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6\uff5e",1.5)})},e.prototype.doubleBaoshi=function(){this.isdouble=!0,n.DataMgr.addDiamondNum(this.baoshi),this.baoshiNum.string=2*this.baoshi+""},e.prototype.saveData=function(){n.DataMgr.addDiamondNum(this.baoshi,!this.isMaxSocre),n.DataMgr.reset(),this.isMaxSocre&&n.DataMgr.asyncData()},e.prototype.onAgain=function(){r.default.instance.againGame(),this.onclose()},e.prototype.onHome=function(){r.default.instance.resetGame(),i.default.instance.showHome(),this.onclose()},e.prototype.onclose=function(){var t=this;this.baoshi>20&&!this.isdouble?s.UIManager.showDoubleRewardUI(this.baoshi,function(e){e||t.baoshi>0&&t.playBaoShiAnim(),t.node.destroy(),d.GameConst.currScene==d.SceneConst.game&&p.default.instance.hideMoreGame()}):(this.baoshi>0&&this.playBaoShiAnim(),this.scheduleOnce(function(){t.node.destroy(),d.GameConst.currScene==d.SceneConst.game&&p.default.instance.hideMoreGame()},.2))},e.prototype.onDestroy=function(){h.WxAuthority.hideBtn(2)},e.prototype.onRakn=function(){d.GameConst.isLogin?s.UIManager.showRankUI():s.UIManager.showComTis("\u7a0d\u7b49\u4e00\u4e0b\u5728\u70b9\u54e6")},e.prototype.playBaoShiAnim=function(){var t=this.baoshiNode.convertToWorldSpaceAR(cc.Vec2.ZERO);u.EffectUtils.creatorBaoShiAnim(t)},e.prototype.createWxAuthorize=function(){a.default.isWxPlatform&&!d.GameConst.isLogin&&h.WxAuthority.createWXAuthorize(this.rankBtnNode,2)},__decorate([v(cc.Label)],e.prototype,"scoreLab",void 0),__decorate([v(cc.Label)],e.prototype,"maxScoreLab",void 0),__decorate([v(cc.Label)],e.prototype,"baoshiNum",void 0),__decorate([v(cc.Node)],e.prototype,"newbast",void 0),__decorate([v(cc.Node)],e.prototype,"VideoNode",void 0),__decorate([v(cc.Node)],e.prototype,"baoshiNode",void 0),__decorate([v(cc.Node)],e.prototype,"bgNode",void 0),__decorate([v(cc.Node)],e.prototype,"rankBtnNode",void 0),__decorate([v(cc.Node)],e.prototype,"againBtn",void 0),__decorate([b],e)}(cc.Component);o.default=M,cc._RF.pop()},{DataManage:"DataManage",EffectUtils:"EffectUtils",FastADAdapter:"FastADAdapter",GameConst:"GameConst",MonsterManager:"MonsterManager",MoreGameManger:"MoreGameManger",OPPOApi:"OPPOApi",SoundManager:"SoundManager",UIManager:"UIManager",Utils:"Utils",WXApi:"WXApi",WXUtils:"WXUtils",WxAuthority:"WxAuthority",mainScene:"mainScene"}],GiveRewardNode:[function(t,e,o){"use strict";cc._RF.push(e,"3aac5Kk0XVJeKJms4qRgCjC","GiveRewardNode");var n=t("UIManager"),r=t("ResManage"),i=t("Utils"),a=t("WXUtils"),s=t("GameConst"),c=t("FastADAdapter"),u=t("OPPOApi"),l=cc._decorator,d=l.ccclass,h=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adsaphla=null,e.adsaphlafont=null,e.bgNode=null,e.cancel=null,e.type=2,e}return __extends(e,t),e.prototype.onLoad=function(){i.default.setBgSpr(this.bgNode)},e.prototype.initdata=function(t){this.callBack=t},e.prototype.start=function(){var t=this;2==this.type?(r.ResMgr.setImgByName("giveReward/guangaofont",this.adsaphlafont),r.ResMgr.setImgByName("giveReward/guanggaoBtnfont",this.adsaphla)):(r.ResMgr.setImgByName("giveReward/sharefont",this.adsaphlafont),r.ResMgr.setImgByName("giveReward/shareBtnfont",this.adsaphla)),this.scheduleOnce(function(){t.cancel.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut()))},1)},e.prototype.onadvert=function(){var t=this;u.default.enable?c.fastAd.createVideo(function(e){1==e.videoState?(t.callBack&&(t.callBack(!0),n.UIManager.showComTis("\u83b7\u5f97\u4e00\u4e2a\u70b8\u5f39\uff5e",1.5)),t.node.destroy()):n.UIManager.showComTis("\u5e7f\u544a\u64ad\u653e\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u6216\u8005\u91cd\u8bd5")},"\u5956\u52b1\u9762\u677f"):a.WXUtils.wxVideo(s.WxVideoId.gameOverBomb,function(e){e?(t.callBack&&(t.callBack(!0),n.UIManager.showComTis("\u83b7\u5f97\u4e00\u4e2a\u70b8\u5f39\uff5e",1.5)),t.node.destroy()):n.UIManager.showComTis("\u770b\u5b8c\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6\uff5e",1.5)})},e.prototype.onClose=function(){this.callBack&&this.callBack(!1),this.node.destroy()},__decorate([h(cc.Sprite)],e.prototype,"adsaphla",void 0),__decorate([h(cc.Sprite)],e.prototype,"adsaphlafont",void 0),__decorate([h(cc.Node)],e.prototype,"bgNode",void 0),__decorate([h(cc.Node)],e.prototype,"cancel",void 0),__decorate([d],e)}(cc.Component);o.default=p,cc._RF.pop()},{FastADAdapter:"FastADAdapter",GameConst:"GameConst",OPPOApi:"OPPOApi",ResManage:"ResManage",UIManager:"UIManager",Utils:"Utils",WXUtils:"WXUtils"}],GridManager:[function(t,e,o){"use strict";cc._RF.push(e,"9cfcdBXcSZO3J8DM7ewLF93","GridManager");var n=t("GridNode"),r=t("PrefabManger"),i=cc._decorator,a=i.ccclass;i.property;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gridList=[],e}var o;return __extends(e,t),o=e,e.prototype.onLoad=function(){o.instance=this},e.prototype.start=function(){this.creatorGrid()},e.prototype.creatorGrid=function(){for(var t=1;t<6;t++)for(var e=1;e<6;e++){var o=cc.instantiate(r.PrefabMgr.getPrefabByName(r.PrefabConst.gridNode)),i=o.getComponent(n.default);o.parent=this.node,o.x=120*t-60,o.y=120*-e+60,this.gridList.push(i)}},o=__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{GridNode:"GridNode",PrefabManger:"PrefabManger"}],GridNode:[function(t,e,o){"use strict";cc._RF.push(e,"f3dc5q9xUlNnZmcLR678XWJ","GridNode");var n=t("DataManage"),r=t("MonsterManager"),i=cc._decorator,a=i.ccclass;i.property;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.initData=function(t,e,o){void 0===o&&(o=-1),this.id=t+"_"+e,this.row=e,this.column=t,this.value=o},e.prototype.setMonster=function(t){this.monster=t,this.value=t?t.value:-1,n.DataMgr.saveGridValue(this.id,this.value)},e.prototype.start=function(){},e.prototype.isEmpty=function(){return this.value<0},Object.defineProperty(e.prototype,"upGrid",{get:function(){return 1==this.column?null:(this._upGrid||(this._upGrid=r.default.instance.getGridById(this.column-1+"_"+this.row)),this._upGrid)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"downGrid",{get:function(){return 5==this.column?null:(this._downGrid||(this._downGrid=r.default.instance.getGridById(this.column+1+"_"+this.row)),this._downGrid)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftGrid",{get:function(){return 1==this.row?null:(this._leftGrid||(this._leftGrid=r.default.instance.getGridById(this.column+"_"+(this.row-1))),this._leftGrid)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightGrid",{get:function(){return 5==this.row?null:(this._rightGrid||(this._rightGrid=r.default.instance.getGridById(this.column+"_"+(this.row+1))),this._rightGrid)},enumerable:!0,configurable:!0}),e.prototype.isHaveTwoGap=function(){return!!(this.isEmpty()&&(this.upGrid&&this.upGrid.isEmpty()||this.downGrid&&this.downGrid.isEmpty()||this.leftGrid&&this.leftGrid.isEmpty()||this.rightGrid&&this.rightGrid.isEmpty()))},__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{DataManage:"DataManage",MonsterManager:"MonsterManager"}],GuideNode:[function(t,e,o){"use strict";cc._RF.push(e,"62110wne6dGkaN/wWO1rYum","GuideNode");var n=t("DataManage"),r=t("SoundManager"),i=t("Utils"),a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.guide_1=null,e.guide_jiaodao=null,e.guide_ljt=null,e.guide_bomb=null,e.bgNode=null,e.nextNode=null,e.nextLab=null,e.okNode=null,e}return __extends(e,t),e.prototype.onLoad=function(){i.default.setBgSpr(this.bgNode)},e.prototype.start=function(){},e.prototype.initData=function(t,e){void 0===e&&(e=!1),this.isShowNext=e,this.type=t,this.setGuideTips(this.type),this.isShowNext&&(this.okNode.x=-150,this.nextNode.x=150,this.nextNode.active=!0,this.nextLab.string="\u4e0b\u4e00\u4e2a",this.isUp=!1)},e.prototype.setGuideTips=function(t){this.currNode&&(this.currNode.active=!1),1==t?(this.guide_1.active=!0,this.currNode=this.guide_1):2==t?(this.guide_jiaodao.active=!0,this.currNode=this.guide_jiaodao):3==t?(this.guide_ljt.active=!0,this.currNode=this.guide_ljt):4==t&&(this.guide_bomb.active=!0,this.currNode=this.guide_bomb)},e.prototype.onOkBtn=function(){r.SoundMgr.playEffectByUrl(r.SoundConst.UIButton),n.DataMgr.setGuideByType(this.type),this.node.destroy()},e.prototype.onNextBtn=function(){this.isUp?(2==this.type&&(this.isUp=!1,this.nextLab.string="\u4e0b\u4e00\u4e2a"),this.type--):(3==this.type&&(this.isUp=!0,this.nextLab.string="\u4e0a\u4e00\u4e2a"),this.type++),r.SoundMgr.playEffectByUrl(r.SoundConst.UIButton),this.setGuideTips(this.type)},__decorate([c(cc.Node)],e.prototype,"guide_1",void 0),__decorate([c(cc.Node)],e.prototype,"guide_jiaodao",void 0),__decorate([c(cc.Node)],e.prototype,"guide_ljt",void 0),__decorate([c(cc.Node)],e.prototype,"guide_bomb",void 0),__decorate([c(cc.Node)],e.prototype,"bgNode",void 0),__decorate([c(cc.Node)],e.prototype,"nextNode",void 0),__decorate([c(cc.Label)],e.prototype,"nextLab",void 0),__decorate([c(cc.Node)],e.prototype,"okNode",void 0),__decorate([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{DataManage:"DataManage",SoundManager:"SoundManager",Utils:"Utils"}],GuideYanShi:[function(t,e,o){"use strict";cc._RF.push(e,"7194dwBY6ZPlaPuD8hZgy6X","GuideYanShi");var n=cc._decorator,r=n.ccclass,i=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.xuanzhuanNode=null,e.moveNode=null,e.type=1,e}return __extends(e,t),e.prototype.initType=function(t){void 0===t&&(t=1),this.type=t,1==this.type?(this.moveNode.active=!0,this.xuanzhuanNode.active=!1):(this.moveNode.active=!1,this.xuanzhuanNode.active=!0)},e.prototype.start=function(){},__decorate([i(cc.Node)],e.prototype,"xuanzhuanNode",void 0),__decorate([i(cc.Node)],e.prototype,"moveNode",void 0),__decorate([r],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],HttpUtils:[function(t,e,o){"use strict";cc._RF.push(e,"10920JndUBLS4x2jbsH2Wcp","HttpUtils");var n=t("GameConst"),r=t("AppLog"),i=function(){function t(){this.login="user/login",this.opLogin="user/oplogin",this.rank="rank/rankInfo",this.asyncData="user/asyncData",this.asyncGold="user/asyncGold"}return t.prototype.httpPost=function(t,e,o,i,a){var s=this;void 0===o&&(o={}),void 0===i&&(i=!0),void 0===a&&(a=15e3);var c=cc.loader.getXMLHttpRequest(),u=n.GameConst.gameUrl+t;c.open("POST",u,!0),c.onreadystatechange=function(){if(4===c.readyState&&c.status>=200&&c.status<300){var t=JSON.parse(c.responseText);if(cc.log("\u6570\u636e\u8fd4\u56de==="+JSON.stringify(t)),0!=t.errno)return;e&&e(t.data)}},c.onerror=function(e){r.default.log("request error:"+e),s.errorHander(t,o)},c.timeout=a,c.ontimeout=function(){r.default.log("\u8bf7\u6c42\u8d85\u65f6..."),c.abort(),s.errorHander(t,o)},r.default.log("post\u8bf7\u6c42===",o),c.setRequestHeader("x-carrot-token",n.GameConst.token),c.setRequestHeader("Content-Type","application/json"),c.send(JSON.stringify(o))},t.prototype.errorHander=function(t,e){r.default.log("\u9519\u8befr:"+t+",=="+JSON.stringify(e))},t}();o.default=i,o.HttpUtils=new i,cc._RF.pop()},{AppLog:"AppLog",GameConst:"GameConst"}],InviteConst:[function(t,e,o){"use strict";cc._RF.push(e,"46cf9kX0b5D3J7VONhsTKJu","InviteConst");var n=function(){function t(){}return t.icon=["radish_1.png"],t.InviteTitleSingle=["\u7b80\u5355\u7c97\u66b4\u7684\u73a9\u6cd5\uff0cQ\u840c\u6709\u8da3\u7684\u5c0f\u841d\u535c\uff0c\u73a9\u5230\u505c\u4e0d\u4e0b\u6765\uff01","\u5feb\u4e0e\u6211\u4e00\u51b3\u9ad8\u4e0b\uff0c\u4f53\u9a8c\u4e00\u4e0b\u9ad8\u5904\u4e0d\u80dc\u5bd2\u7684\u611f\u53d7\u5427\uff01"],t.InviteTitleGroup=["\u5feb\u770b\u770b\u7fa4\u91cc\u9762\u8c01\u6700\u5389\u5bb3?","\u67e5\u770b\u7fa4\u6392\u884c\u699c"],t.datas=[{icon:"tappyStack/1.png",title:"\u6765\u4e00\u573a\u5c0f\u5154\u5b50\u7684\u6e38\u620f\u5427"},{icon:"tappyStack/2.png",title:"\u53ef\u7231\u7684\u5c0f\u5154\u5b50\uff0cMua"},{icon:"tappyStack/3.png",title:"\u8fd9\u8fd9\u8fd9...\u8fd9\u4e2a\u6e38\u620f\u771f\u7684\u8fd9\u4e48\u597d\u73a9\u5417?"},{icon:"tappyStack/4.png",title:"\u65ad\u5251\u91cd\u94f8\u4e4b\u65e5\u5154\u5b50\u5f52\u6765\u4e4b\u65f6"},{icon:"tappyStack/5.png",title:"\u53ef\u4ee5\u5582\u4f26\u5bb6\u5403\u80e1\u841d\u535c\u561b\uff01"},{icon:"tappyStack/6.png",title:"\u80e1\u841d\u535c\u662f\u6211\u7684\u8c01\u4e5f\u4e0d\u51c6\u52a8"},{icon:"tappyStack/7.png",title:"\u7528\u54ea\u4e2a\u5154\u5b50\u76ae\u80a4\u5462\uff0c\u771f\u662f\u4f24\u8111\u7b4b"},{icon:"tappyStack/8.png",title:"\u8df3\u5feb\u70b9\u8df3\u5feb\u70b9\uff01\u597d\u53ef\u6015"},{icon:"tappyStack/9.png",title:"\u542c\u6b4c\u7761\u89c9\u6253\u5154\u5154"},{icon:"tappyStack/10.png",title:"\u6e38\u620f\u5f00\u59cb\u5566\uff01\u5feb\u6765\u4e0d\u7136\u8d76\u4e0d\u4e0a\u4e86"},{icon:"tappyStack/11.png",title:"\u7a33\u4f4f\uff0c\u6211\u4eec\u80fd\u8d62"},{icon:"tappyStack/12.png",title:"\u8fd9\u4e2a\u5c0f\u841d\u535c\u80fd\u7ed9\u6211\u5417\uff1f"},{icon:"tappyStack/13.png",title:"\u8d70\uff0c\u641e\u80e1\u841d\u535c\u53bb"},{icon:"tappyStack/14.png",title:"\u8fd9\u4f4d\u5f1f\u5f1f\uff0c\u4f60\u662f\u6765\u6311\u6218\u6211\u7684\u5417\uff1f"},{icon:"tappyStack/15.png",title:"\u52a0\u6cb9\uff01"},{icon:"tappyStack/16.png",title:"\u67aa\u5728\u624b\u8ddf\u6211\u8d70\uff01"},{icon:"tappyStack/17.png",title:"\u5154\u5b50\u5154\u5b50"},{icon:"tappyStack/18.png",title:"\u91c7\u841d\u535c\u7684\u5c0f\u5154\u5b50"},{icon:"tappyStack/19.png",title:"\u60f3\u5403\u80e1\u841d\u535c\u4e86"},{icon:"tappyStack/20.png",title:"\u8bf6\uff0c\u4f60\u770b\u5230\u4e86\u6211\u7684\u80e1\u841d\u535c\u561b"},{icon:"tappyStack/21.png",title:"\u841d\u535c\u662f\u6211\u7684\uff01"}],t}();o.InviteConfig=n,cc._RF.pop()},{}],LabelUtils:[function(t,e,o){"use strict";cc._RF.push(e,"a3b6622iLtLta2qipb1NhbH","LabelUtils"),o.typeWriterAni=function(t,e,o,n,r){void 0===n&&(n=null),void 0===r&&(r=.1);var i=o,a="",s=e.split(""),c=s.length,u=0;i.func=function(){a+=s[u],t.string=a,++u==c&&(i.unschedule(i.func,i),n&&n())},i.schedule(i.func,r,cc.macro.REPEAT_FOREVER,0)},cc._RF.pop()},{}],Loading:[function(t,e,o){"use strict";cc._RF.push(e,"b3118gY/dBOM4dLWBkUAhqW","Loading");var n=t("GameManage"),r=t("DataManage"),i=t("GameConst"),a=t("WXApi"),s=t("PrefabManger"),c=t("OPPOApi"),u=cc._decorator,l=u.ccclass,d=u.property,h=!1,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.barMask=null,e.tipsLab=null,e.loading_bar_bg=null,e.bg=null,e.currNum=0,e.tipstime=0,e.enterBtn=null,e.iscompate=!1,e.dotNum=0,e}return __extends(e,t),e.prototype.onLoad=function(){var t=cc.view.getFrameSize(),e=750/t.width,o=1334/t.height,r=e>=o?e:o;this.bg.width=t.width*r,this.bg.height=t.height*r,h||(this.dotNum=0,a.default.start(),c.default.start(),0==c.default.enable&&cc.game.setFrameRate(45),n.GM.initManage(),this.totalNum=0,this.urls=[],this.setloadNum(),h=!0)},e.prototype.start=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,this.startLoad()];case 1:return e.sent(),a.default.isWxPlatform?(t={userId:1,openId:"111",headImgUrl:"string",gold:0,score:0,nickName:"string"},r.DataMgr.initUserData(t),i.GameConst.isLogin=!0,this.tipsLab.string="\u6b63\u5728\u52a0\u8f7d\u4e3b\u573a\u666f\u8d44\u6e90,\u8bf7\u8010\u5fc3\u7b49\u5f85...",cc.director.loadScene("maingame"),[3,8]):[3,2];case 2:return c.default.isQuickGame?"OPPO"!=c.default.providerStr?[3,4]:[4,this.oppoLogin()]:[3,7];case 3:return e.sent(),[3,6];case 4:return[4,this.vivoAuthority()];case 5:e.sent(),e.label=6;case 6:return[3,8];case 7:this.tipsLab.string="\u6b63\u5728\u8bf7\u6c42\u767b\u9646\u6570\u636e,\u8bf7\u8010\u5fc3\u7b49\u5f85...",t={userId:1,openId:"111",headImgUrl:"string",gold:1e4,score:100,nickName:"string"},r.DataMgr.initUserData(t),i.GameConst.isLogin=!0,this.tipsLab.string="\u6b63\u5728\u52a0\u8f7d\u4e3b\u573a\u666f\u8d44\u6e90,\u8bf7\u8010\u5fc3\u7b49\u5f85...",cc.director.loadScene("maingame"),e.label=8;case 8:return[2]}})})},e.prototype.vivoAuthority=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},e.prototype.vivoProfile=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},e.prototype.authrityVivo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},e.prototype.oppoLogin=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return c.default.isOppoPlatform&&(console.log("oppo login start111 "),this.tipsLab.string="\u6b63\u5728\u52a0\u8f7d\u4e3b\u573a\u666f\u8d44\u6e90,\u8bf7\u8010\u5fc3\u7b49\u5f85...",cc.director.loadScene("maingame")),[2]})})},e.prototype.onLoginBtn=function(){a.default.isWxPlatform},e.prototype.onDestroy=function(){},e.prototype.setloadNum=function(){this.totalNum=0;for(var t=[],e=0,o=["ui/com/"];e<o.length;e++){var n,r=o[e];n="ui/com/"==r?cc.SpriteAtlas:cc.SpriteFrame;var i=cc.loader.getFileNames(r,n);i.length>0&&(t=t.concat(i))}this.urls=t,this.dragonList=["radish_1","radish_2","radish_3","radish_4"],this.totalNum+=t.length,this.totalNum+=2*this.dragonList.length,this.prefabList=s.PrefabMgr.getComPrefabNames(),this.totalNum+=this.prefabList.length},e.prototype.startLoad=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.setTipsLab(),[4,this.loadRes()];case 1:return t.sent(),[4,this.loadDragon()];case 2:return t.sent(),[4,this.loadPrefab()];case 3:return t.sent(),this.loadComplete(),[2]}})})},e.prototype.loadPrefab=function(){return __awaiter(this,void 0,void 0,function(){var t,e,o;return __generator(this,function(n){switch(n.label){case 0:t=0,n.label=1;case 1:return t<this.prefabList.length?(e="prefab/"+this.prefabList[t],[4,cc.loader.loadResAwait(e)]):[3,4];case 2:o=n.sent(),s.PrefabMgr.addPrefabByName(this.prefabList[t],o),this.currNum++,this.updateProgress(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.updateProgress=function(){this.setTipsLab(),this.barMask.width=this.currNum/this.totalNum*600},e.prototype.loadJson=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,cc.loader.loadResAwait("json/out")];case 1:return t=e.sent(),n.GM.TempMgr.initJsonData(t.json),this.currNum++,this.updateProgress(),[2]}})})},e.prototype.loadRes=function(){return __awaiter(this,void 0,void 0,function(){var t,e,o,n,r;return __generator(this,function(i){switch(i.label){case 0:for(t=[],e=0;e<this.urls.length;e++)o=this.urls[e],t.push(cc.loader.loadResAwait(o));n=0,r=t,i.label=1;case 1:return n<r.length?[4,r[n]]:[3,4];case 2:i.sent(),this.currNum++,this.updateProgress(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.loadDragon=function(){return __awaiter(this,void 0,void 0,function(){var t,e,o,n;return __generator(this,function(r){switch(r.label){case 0:t=this.dragonList.length,e=0,r.label=1;case 1:return e<t?(o="dragon_anim/"+this.dragonList[e]+"_ske",[4,cc.loader.loadResAwait(o)]):[3,5];case 2:return r.sent(),this.currNum++,this.updateProgress(),n="dragon_anim/"+this.dragonList[e]+"_tex",[4,cc.loader.loadResAwait(n)];case 3:r.sent(),this.currNum++,this.updateProgress(),r.label=4;case 4:return e++,[3,1];case 5:return[2]}})})},e.prototype.loadComplete=function(){this.iscompate=!0,cc.director.preloadScene("maingame",function(){cc.log("\u573a\u666f\u4e0e\u52a0\u8f7d\u5b8c\u6210")})},e.prototype.setTipsLab=function(){if(this.iscompate);else{var t=this.getDotStr();this.tipsLab.string="\u6b63\u5728\u52a0\u8f7d\u8d44\u6e90,\u8bf7\u8010\u5fc3\u7b49\u5f85("+this.currNum+"/"+this.totalNum+")"+t}},e.prototype.update=function(t){this.tipstime+=t;var e=1;this.iscompate&&(e=3),this.tipstime>e&&(this.dotNum++,this.dotNum>3&&(this.dotNum=0),this.setTipsLab(),this.tipstime=0)},e.prototype.getDotStr=function(){for(var t="",e=0;e<this.dotNum;e++)t+=".";return t},e.prototype.setReqMsgShow=function(){this.iscompate=!0,this.tipsLab.string="\u6b63\u5728\u8bf7\u6c42\u767b\u9646\u6570\u636e,\u8bf7\u8010\u5fc3\u7b49\u5f85...",this.loading_bar_bg.active=!1},__decorate([d(cc.Node)],e.prototype,"barMask",void 0),__decorate([d(cc.Label)],e.prototype,"tipsLab",void 0),__decorate([d(cc.Node)],e.prototype,"loading_bar_bg",void 0),__decorate([d(cc.Node)],e.prototype,"bg",void 0),__decorate([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{DataManage:"DataManage",GameConst:"GameConst",GameManage:"GameManage",OPPOApi:"OPPOApi",PrefabManger:"PrefabManger",WXApi:"WXApi"}],LocalStorage:[function(t,e,o){"use strict";cc._RF.push(e,"f116cQ2B+FL8r+HYE8zZhE4","LocalStorage");var n=function(){function t(){}return t.get=function(t){return cc.sys.localStorage.getItem(this.prefix+t)},t.set=function(t,e){cc.sys.localStorage.setItem(this.prefix+t,e)},t.getNumber=function(t,e){void 0===e&&(e=null);var o=Number(this.get(t));return null==o||0==o?e:o},t.setNumber=function(t,e){this.set(t,e)},t.getBoolean=function(t){return!!this.getNumber(t)},t.setBoolean=function(t,e){var o=0;e&&(o=1),this.set(t,o)},t.getString=function(t,e){return void 0===e&&(e=null),this.get(t)||e},t.setString=function(t,e){this.set(t,e)},t.getObject=function(t){var e=this.get(t);return e?JSON.parse(e):null},t.setObject=function(t,e){e&&this.set(t,JSON.stringify(e))},t.prefix="merge_monster",t}();o.LocalStorage=n,cc._RF.pop()},{}],LoginReward:[function(t,e,o){"use strict";cc._RF.push(e,"ee5e7mCVT5PPIjD2AtRG/CZ","LoginReward");var n=t("Utils"),r=t("GameConst"),i=t("WXUtils"),a=t("UIManager"),s=t("EffectUtils"),c=t("SoundManager"),u=t("DataManage"),l=t("OPPOApi"),d=t("FastADAdapter"),h=cc._decorator,p=h.ccclass,f=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numLab=null,e.bgNode=null,e.baoshi=null,e.baoshiNum=0,e}return __extends(e,t),e.prototype.onLoad=function(){n.default.setBgSpr(this.bgNode),this.baoshiNum=n.default.getRandom(100,120),this.numLab.string="x"+this.baoshiNum},e.prototype.onReceive=function(){var t=this;l.default.enable?d.fastAd.createVideo(function(e){if(1==e.videoState){a.UIManager.showComTis("\u83b7\u5f97x"+t.baoshiNum+"\u5b9d\u77f3");var o=t.node.convertToWorldSpaceAR(cc.Vec2.ZERO);u.DataMgr.addDiamondNum(t.baoshiNum),u.DataMgr.loginRewardNum++,s.EffectUtils.creatorBaoShiAnim(o),t.node.destroy()}else a.UIManager.showComTis("\u5e7f\u544a\u64ad\u653e\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u6216\u8005\u91cd\u8bd5")},"\u767b\u5f55\u5956\u52b1\u9762\u677f"):i.WXUtils.wxVideo(r.WxVideoId.loginReward,function(e){if(e){a.UIManager.showComTis("\u83b7\u5f97x"+t.baoshiNum+"\u5b9d\u77f3");var o=t.node.convertToWorldSpaceAR(cc.Vec2.ZERO);u.DataMgr.addDiamondNum(t.baoshiNum),u.DataMgr.loginRewardNum++,s.EffectUtils.creatorBaoShiAnim(o),t.node.destroy()}else a.UIManager.showComTis("\u89c2\u770b\u5b8c\u624d\u6709\u5956\u52b1\u54e6\uff01")})},e.prototype.onClose=function(){c.SoundMgr.playEffectByUrl(c.SoundConst.UIButton),this.node.destroy()},__decorate([f(cc.Label)],e.prototype,"numLab",void 0),__decorate([f(cc.Node)],e.prototype,"bgNode",void 0),__decorate([f(cc.Node)],e.prototype,"baoshi",void 0),__decorate([p],e)}(cc.Component);o.default=g,cc._RF.pop()},{DataManage:"DataManage",EffectUtils:"EffectUtils",FastADAdapter:"FastADAdapter",GameConst:"GameConst",OPPOApi:"OPPOApi",SoundManager:"SoundManager",UIManager:"UIManager",Utils:"Utils",WXUtils:"WXUtils"}],MainUI:[function(t,e,o){"use strict";cc._RF.push(e,"f8c2edV9UZCd6vvUzLdC3Ns","MainUI");var n=t("mainScene"),r=t("UIManager"),i=t("DataManage"),a=t("WXApi"),s=t("Extend"),c=t("InviteConst"),u=t("SoundManager"),l=t("EffectUtils"),d=t("WxAuthority"),h=t("GameConst"),p=t("MoreGameManger"),f=t("FastADAdapter"),g=cc._decorator,m=g.ccclass,y=g.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playBtnNode=null,e.log=null,e.gameHub=null,e.rankBtnNode=null,e.bottom=null,e.steingBtn=null,e.shareBtn=null,e.fuliBtn=null,e.ShouQuan=null,e.fuliRedlab=null,e.fuliRedNode=null,e.gameClubNode=null,e}var o;return __extends(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,h.GameConst.currScene=h.SceneConst.mainUi},e.prototype.start=function(){this.createWxAuthorize(),this.showBtn(),this.refreshFuliRed(),f.fastAd.createBanner(),f.fastAd.showBanner()},e.prototype.showBtn=function(){var t=this;l.EffectUtils.btnScaleAnim(this.playBtnNode,1,function(){l.EffectUtils.startBreath(t.playBtnNode,2)}),l.EffectUtils.btnPosAinm(this.steingBtn,new cc.Vec2(this.steingBtn.x+400,this.steingBtn.y),.2),l.EffectUtils.btnPosAinm(this.fuliBtn,new cc.Vec2(this.fuliBtn.x-400,this.fuliBtn.y),.2),l.EffectUtils.btnPosAinm(this.rankBtnNode,new cc.Vec2(this.rankBtnNode.x+400,this.rankBtnNode.y)),l.EffectUtils.btnPosAinm(this.shareBtn,new cc.Vec2(this.shareBtn.x-400,this.shareBtn.y))},e.prototype.hideBtn=function(){this.playBtnNode.scale=0,this.steingBtn.x-=400,this.rankBtnNode.x-=400,this.fuliBtn.x+=400,this.shareBtn.x+=400},e.prototype.onTouchEndBaoxiang=function(){if(this.isTouchTreasure)if(a.default.isWxPlatform){var t=s.ext.randomElement(c.InviteConfig.InviteTitleSingle),e=i.DataMgr.shareImgUrl+s.ext.randomElement(c.InviteConfig.icon);a.default.shareAppMessage(t,e,""),a.default.backgroundTime().then(function(t){t>2e3?(i.DataMgr.addDiamondNum(30),i.DataMgr.restTreasureTimer()):r.UIManager.showComTis("\u5206\u4eab\u5931\u8d25",1.5)})}else i.DataMgr.addDiamondNum(30),i.DataMgr.restTreasureTimer()},e.prototype.setVisible=function(t){t?(this.node.active=t,f.fastAd.showBanner(),h.GameConst.currScene=h.SceneConst.mainUi,this.showGameHub(),d.WxAuthority.showBtn(1),p.default.instance.showMoreGame(),this.showBtn(),this.refreshFuliRed()):(l.EffectUtils.stopBreath(this.playBtnNode),this.hideBtn(),this.node.active=t,f.fastAd.hideBanner(),this.hideGameHub(),d.WxAuthority.hideBtn(1),p.default.instance.hideMoreGame())},e.prototype.onPlayGame=function(){n.default.instance.playGame()},e.prototype.onSetUp=function(){u.SoundMgr.playEffectByUrl(u.SoundConst.UIButton),r.UIManager.showsetUpUI()},e.prototype.onShare=function(){if(u.SoundMgr.playEffectByUrl(u.SoundConst.UIButton),a.default.isWxPlatform){var t=s.ext.randomElement(c.InviteConfig.InviteTitleSingle),e=i.DataMgr.shareImgUrl+s.ext.randomElement(c.InviteConfig.icon);a.default.shareAppMessage(t,e,""),a.default.backgroundTime().then(function(t){})}else r.UIManager.showComTis("\u7a0d\u7b49\u4e00\u4e0b\u5728\u70b9\u54e6")},e.prototype.onWelfai=function(){u.SoundMgr.playEffectByUrl(u.SoundConst.UIButton),r.UIManager.showWelaiUI()},e.prototype.nitGameClubBtn=function(){return __awaiter(this,void 0,void 0,function(){var t,e,o,n,r,i,s,c,u,l,d;return __generator(this,function(h){return a.default.isWxPlatform&&(t=this.gameHub.convertToWorldSpaceAR(cc.Vec2.ZERO),e=cc.size(this.gameHub.width*this.gameHub.scaleX,this.gameHub.height*this.gameHub.scaleY),o=cc.view.getFrameSize(),n=cc.director.getWinSize(),r=o.width/n.width,i=o.height/o.height,s=r<=i?r:i,c=e.width*s,u=e.height*s,l=(o.width-n.width*s)/2+t.x*s-c/2,d=(o.height-n.height*s)/2+(n.height-t.y)*s-u/2,this.gameClubNode=wx.createGameClubButton({icon:"white",style:{left:l,top:d,width:c,height:u}})),[2]})})},e.prototype.showGameHub=function(){this.gameClubNode&&this.node.active&&this.gameClubNode.show()},e.prototype.hideGameHub=function(){this.gameClubNode&&this.gameClubNode.hide()},e.prototype.onRank=function(){r.UIManager.showComTis("\u6682\u672a\u5f00\u653e\uff0c\u656c\u8bf7\u671f\u5f85")},e.prototype.createWxAuthorize=function(){a.default.isWxPlatform&&!h.GameConst.isLogin&&d.WxAuthority.createWXAuthorize(this.ShouQuan,1)},e.prototype.refreshFuliRed=function(){var t=i.DataMgr.getWelfareRedNum();t>0?(this.fuliRedNode.active=!0,this.fuliRedlab.string=t+""):this.fuliRedNode.active=!1},__decorate([y(cc.Node)],e.prototype,"playBtnNode",void 0),__decorate([y(cc.Node)],e.prototype,"log",void 0),__decorate([y(cc.Node)],e.prototype,"gameHub",void 0),__decorate([y(cc.Node)],e.prototype,"rankBtnNode",void 0),__decorate([y(cc.Node)],e.prototype,"bottom",void 0),__decorate([y(cc.Node)],e.prototype,"steingBtn",void 0),__decorate([y(cc.Node)],e.prototype,"shareBtn",void 0),__decorate([y(cc.Node)],e.prototype,"fuliBtn",void 0),__decorate([y(cc.Node)],e.prototype,"ShouQuan",void 0),__decorate([y(cc.Label)],e.prototype,"fuliRedlab",void 0),__decorate([y(cc.Node)],e.prototype,"fuliRedNode",void 0),o=__decorate([m],e)}(cc.Component);o.default=b,cc._RF.pop()},{DataManage:"DataManage",EffectUtils:"EffectUtils",Extend:"Extend",FastADAdapter:"FastADAdapter",GameConst:"GameConst",InviteConst:"InviteConst",MoreGameManger:"MoreGameManger",SoundManager:"SoundManager",UIManager:"UIManager",WXApi:"WXApi",WxAuthority:"WxAuthority",mainScene:"mainScene"}],Map:[function(t,e,o){"use strict";cc._RF.push(e,"f9a19BBBtNACoUe7q8mWoHs","Map");var n=function(){function t(){this.clear()}return t.prototype.getIndexByKey=function(t){for(var e=this._list.length,o=0;o<e;o++)if(this._list[o].key==t)return o;return-1},t.prototype.add=function(t,e){var o={key:t,value:e},n=this.getIndexByKey(t);-1!=n?this._list[n]=o:this._list.push(o)},t.prototype.remove=function(t){var e=this.getIndexByKey(t);if(-1!=e){var o=this._list[e];return this._list.splice(e,1),o}return null},t.prototype.has=function(t){return-1!=this.getIndexByKey(t)},t.prototype.get=function(t){var e=this.getIndexByKey(t);return-1!=e?this._list[e].value:null},Object.defineProperty(t.prototype,"length",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),t.prototype.forEachKeyValue=function(t){for(var e=this._list.length,o=0;o<e;o++)t(this._list[o])},t.prototype.forEach=function(t){for(var e=this._list.length,o=0;o<e;o++){var n=this._list[o];t(n.key,n.value,o)}},t.prototype.clear=function(){this._list=[]},t}();o.Map=n,cc._RF.pop()},{}],MergeUtils:[function(t,e,o){"use strict";cc._RF.push(e,"79b3cLRVPlOIZlIfkZjF7Ug","MergeUtils");var n=t("MonsterManager"),r=t("mainScene"),i=function(){function t(){this.addMerge=[],this.executeList=[]}return Object.defineProperty(t.prototype,"gridMap",{get:function(){return this._gridMap||(this._gridMap=n.default.instance.gridMap),this._gridMap},enumerable:!0,configurable:!0}),t.prototype.checkMarger=function(t){var e=this.getGridByAroundGridId(t,"0"),o=[];t.monster.moveTarget=null,this.executeList=[];for(var n=0;n<e.length;n++)if(""!=e[n]){var i=this.gridMap.get(e[n]);i&&this.addMerge.indexOf(t.monster)<0&&(o.push(i.monster),this.addMerge.push(i.monster),i.monster.moveTarget=t.monster,t.monster.addMargerTotalNum(1))}for(var a=0,s=o;a<s.length;a++){var c=s[a];this.digui(c.gridNode,t.id)}if(this.addMerge.length>=2){var u=(this.addMerge.length+1)*t.monster.value;return r.default.instance.addScoreLab(u),this.executeMarger(),this.addMerge=[],!0}for(var l=0,d=this.addMerge;l<d.length;l++)(c=d[l]).setMargerTotalNum(0),c.moveTarget=null;return t.monster.setMargerTotalNum(0),this.addMerge=[],this.executeList=[],!1},t.prototype.digui=function(t,e){if(t){var o=this.getGridByAroundGridId(t,e);if(0==o.length)t.monster.setMargerTotalNum(0),this.executeList.push(t.monster);else for(var n=0;n<o.length;n++)if(""!=o[n]){var r=this.gridMap.get(o[n]);this.addMerge.indexOf(r.monster)<0&&(this.addMerge.push(r.monster),r.monster.moveTarget=t.monster,t.monster.addMargerTotalNum(1),this.digui(r,t.id))}}},t.prototype.executeMarger=function(){for(var t in this.executeList)this.executeList[t].marger();this.executeList=[]},t.prototype.getGridByAroundGridId=function(t,e){var o=[];return t.upGrid&&t.upGrid.value==t.value&&t.upGrid.id!=e&&this.addMerge.indexOf(t.upGrid.monster)<0&&o.push(t.upGrid.id),t.downGrid&&t.downGrid.value==t.value&&t.downGrid.id!=e&&this.addMerge.indexOf(t.downGrid.monster)<0&&o.push(t.downGrid.id),t.leftGrid&&t.leftGrid.value==t.value&&t.leftGrid.id!=e&&this.addMerge.indexOf(t.leftGrid.monster)<0&&o.push(t.leftGrid.id),t.rightGrid&&t.rightGrid.value==t.value&&t.rightGrid.id!=e&&this.addMerge.indexOf(t.rightGrid.monster)<0&&o.push(t.rightGrid.id),o},t}();o.MergeUtils=new i,cc._RF.pop()},{MonsterManager:"MonsterManager",mainScene:"mainScene"}],MonsterManager:[function(t,e,o){"use strict";cc._RF.push(e,"974a8R1YuhLG7m19tUgYIG3","MonsterManager");var n=t("Map"),r=t("Monster"),i=t("MonsterPool"),a=t("mainScene"),s=t("TypeUtils"),c=t("Utils"),u=t("GridNode"),l=t("PrefabManger"),d=t("MergeUtils"),h=t("DataManage"),p=t("UIManager"),f=t("SkillNode"),g=t("SoundManager"),m=t("GuideYanShi"),y=t("GameConst"),b=cc._decorator,v=b.ccclass,M=b.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thouchNode=null,e.bombNode=null,e.trashBin=null,e.shears=null,e.bottomNode=null,e.gameNode=null,e.bombNumLab=null,e.bombTipNode=null,e.tipsNode=null,e.isOneMove=!1,e.isMove=!1,e.isBombOneMove=!1,e.isBombMove=!1,e.gridList=[],e.isCanRotation=!0,e.currMonsterMaxValue=2,e.bombNum=0,e.isOpenJD=!1,e.currBombRow=-1,e.isUseBomb=!1,e.merageSoundFlag=!1,e.currTouchTarget=null,e.isGuideBomb=!1,e.isGuideMerge=!1,e.isMergeCom=!0,e.guideYsNode=null,e.bornNum=0,e.tempNum=0,e.randomList=[],e}var o;return __extends(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.monsterMap=new n.Map,this.gridMap=new n.Map,this.currBornMonsters=[],this.lastMonsterValue=0,this.thouchNode.on(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.thouchNode.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.thouchNode.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.thouchNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.bombNode.on(cc.Node.EventType.TOUCH_START,this.onBombTouch,this),this.bombNode.on(cc.Node.EventType.TOUCH_MOVE,this.onBombTouchMove,this),this.bombNode.on(cc.Node.EventType.TOUCH_END,this.onBombTouchEnd,this),this.bombNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onBombTouchEnd,this);var t=this.thouchNode.convertToWorldSpaceAR(cc.Vec2.ZERO);this.bornPos=this.node.convertToNodeSpaceAR(t);var e=this.bombNode.convertToWorldSpaceAR(cc.Vec2.ZERO);this.bombPos=this.node.convertToNodeSpaceAR(e),this.gameNode.on(cc.Node.EventType.TOUCH_END,this.onTouchGameNodeEnd,this),this.gameNode.on(cc.Node.EventType.TOUCH_START,this.onTouchGameNode,this),this.gameNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchGameNodeEnd,this),this.isGuideBomb=h.DataMgr.getGuideByType(4),this.isGuideMerge=h.DataMgr.getGuideByType(1)},e.prototype.start=function(){},e.prototype.initMonster=function(){},e.prototype.resetGame=function(){for(var t in this.gridList){var e=this.gridList[t].monster;e&&(e.clearGridNode(),e.remove())}if(this.currBornMonsters.length>0)for(var t in this.currBornMonsters)this.currBornMonsters[t]&&this.currBornMonsters[t].remove();this.currBornMonsters=[],this.lastMonsterValue=0,this.currMonsterMaxValue=2,a.default.instance.reset(),this.currBombMonster&&this.currBombMonster.remove(),this.currBombMonster=null,this.bombNum=h.DataMgr.bombNum,this.initBomb(),this.setBombNumLab(),this.initSkillPrice(),g.SoundMgr.playEffectByUrl(g.SoundConst.getinto)},e.prototype.initGrid=function(){for(var t=0,e=1;e<6;e++)for(var o=1;o<6;o++){var n=cc.instantiate(l.PrefabMgr.getPrefabByName(l.PrefabConst.gridNode)),i=n.getComponent(u.default);n.parent=this.node,n.x=120*e-60,n.y=120*-o+60,i.initData(o,e),this.gridList.push(i),this.gridMap.add(o+"_"+e,i);var a=h.DataMgr.getGridValue(o+"_"+e);if(a>0){var s=this.creatorMonster(a);s.position=n.position;var c=s.getComponent(r.default);c.gridNode=i,i.setMonster(c),t++}}return t},e.prototype.initSkillPrice=function(){this.useLJTNum=h.DataMgr.useLJTNum,this.usrJDNum=h.DataMgr.usrJDNum,this.trashBin&&this.trashBin.setPriceLab(30*this.useLJTNum),this.shears&&this.shears.setPriceLab(30*this.usrJDNum)},e.prototype.playerGame=function(){var t=this;y.GameConst.currScene=y.SceneConst.game;var e;e=0==this.gridMap.length?this.initGrid():this.gridMap.length,this.currMonsterMaxValue=h.DataMgr.currMonsterMaxValue,this.bombNum=h.DataMgr.bombNum,this.initBomb(),this.initSkillPrice(),h.DataMgr.isGameOver?this.gameOver():(this.initBronMonster(),this.isGuideMerge||(this.isGuideMerge=!0,p.UIManager.showGuideTips(1)),0!=h.DataMgr.gameNum||0!=e||this.guideYsNode?(h.DataMgr.gameNum>=5||h.DataMgr.maxScore>=320)&&(this.tipsNode.active=!1):l.PrefabMgr.getAsyncPrefabByName(l.PrefabConst.guideYanShi,function(e){var o=cc.instantiate(e);o.parent=t.node.parent,o.position=cc.Vec2.ZERO,t.guideYsNode=o.getComponent(m.default),t.guideYsNode.initType(1)}))},e.prototype.initBomb=function(){this.bombNum>0?(this.bombNode.active=!0,this.creatorBombMonster(),this.bombTipNode.active=!this.isGuideBomb):this.bombNode.active=!1,this.setBombNumLab()},e.prototype.checkOver=function(){var t=this,e=!0;for(var o in this.gridList)if(this.gridList[o].isEmpty()){e=!1;break}e&&(this.currBombMonster?p.UIManager.showBombTip(function(e){e||(h.DataMgr.setCurrBornMonsters(null),t.gameOver())}):(h.DataMgr.setCurrBornMonsters(null),this.gameOver()))},e.prototype.creatorBombMonster=function(){if(!this.currBombMonster){var t=this.creatorMonster(8);this.currBombMonster=t.getComponent(r.default),t.position=this.bombPos,t.zIndex=999}},e.prototype.initBronMonster=function(){if(0==this.currBornMonsters.length){var t=h.DataMgr.currBornMonsters;t.length>0?1==t.length?this.creatorBornMonster(Number(t[0]),0):2==t.length&&(this.creatorBornMonster(Number(t[0]),1),this.creatorBornMonster(Number(t[1]),2)):this.spawnMonster(2)}},e.prototype.creatorMonster=function(t){var e=i.MstPool.getMonsterNode(t,s.AnimTag.born);return e.parent=this.node,e},e.prototype.creatorBornMonster=function(t,e){var o=this.creatorMonster(t);o.position=0==e?new cc.Vec2(this.bornPos.x,this.bornPos.y):1==e?new cc.Vec2(this.bornPos.x-65,this.bornPos.y):new cc.Vec2(this.bornPos.x+65,this.bornPos.y),o.zIndex=999,this.currBornMonsters.push(o.getComponent(r.default))},e.prototype.mergeNewMonster=function(t,e){var o=this;this.merageSoundFlag=!this.merageSoundFlag;var n=this.creatorMonster(e);n.position=t.node.position;var i=n.getComponent(r.default);i.gridNode=t,i.setZIndex(),t.setMonster(i),8==e?this.scheduleOnce(function(){o.addBombMonster(i),o.setMarger()},.6):(e>this.currMonsterMaxValue&&(this.currMonsterMaxValue=e,h.DataMgr.currMonsterMaxValue=e),this.currBornMonsters.length>0&&this.currBornMonsters[0].value==i.value?this.currBornMonsters[0]=i:this.currBornMonsters.push(i),this.setMarger())},e.prototype.onTouch=function(t){!this.currTouchTarget&&this.isMergeCom&&this.isCanRotation&&(this.currTouchTarget=t.currentTarget,this.isOneMove=!0,this.isMove=!1,this.isOpenJD&&this.shears.offJDAnim())},e.prototype.onTouchMove=function(t){if(this.currTouchTarget==t.currentTarget){if(!this.isMove){var e=t.getDeltaX(),o=t.getDeltaY();(Math.abs(e)>5||Math.abs(o)>5)&&(this.isMove=!0)}if(this.currBornMonsters.length>0&&this.isMove)if(e=t.getDeltaX(),o=t.getDeltaY(),this.isOneMove)for(var n in o+=100,this.isOneMove=!1,this.currBornMonsters){var r=this.currBornMonsters[n].node;this.currBornMonsters[n].playShaowOn(),r.origPoint=r.position,r.x+=e,r.y+=o}else for(var n in this.currBornMonsters)this.currBornMonsters[n].node.x+=e,this.currBornMonsters[n].node.y+=o}},e.prototype.onTouchEnd=function(t){this.currTouchTarget==t.currentTarget&&(this.currTouchTarget=null,this.isOneMove=!0,this.isMergeCom&&(this.isMove?this.checkPlace():this.isCanRotation&&this.currBornMonsters.length>1&&(g.SoundMgr.playEffectByUrl(g.SoundConst.xuanzhuan),this.setRotation())))},e.prototype.onTouchGameNode=function(t){this.currTouchTarget||(this.currTouchTarget=t.currentTarget)},e.prototype.onTouchGameNodeEnd=function(t){var e=this;if(this.currTouchTarget==t.currentTarget&&(this.currTouchTarget=null,this.isOpenJD)){var o=this.node.convertToNodeSpaceAR(t.getLocation()),n=this.getMonsterByPos(o);n?(n.JDDetele(),h.DataMgr.reduceDiamondNum(30*this.usrJDNum),a.default.instance.initDiamonds(),this.usrJDNum++,h.DataMgr.usrJDNum=this.usrJDNum,g.SoundMgr.playEffectByUrl(g.SoundConst.jiandao),0==this.currBornMonsters.length&&this.scheduleOnce(function(){e.spawnMonster(2)},.1)):g.SoundMgr.playEffectByUrl(g.SoundConst.UIButton),this.shears&&(this.shears.offJDAnim(),this.shears.setPriceLab(30*this.usrJDNum)),t.stopPropagation()}},e.prototype.onBombTouch=function(t){this.currTouchTarget||(this.isOpenJD&&this.shears.offJDAnim(),this.currBombMonster&&!this.isGuideBomb?(this.bombTipNode.active=!1,this.isGuideBomb=!0,p.UIManager.showGuideTips(4),t.stopPropagation()):(this.currTouchTarget=t.currentTarget,this.isBombOneMove=!0,this.isBombMove=!1,this.isUseBomb=!1))},e.prototype.onBombTouchMove=function(t){if(this.currTouchTarget==t.currentTarget){if(!this.isBombMove&&this.currBombMonster){var e=t.getDeltaX(),o=t.getDeltaY();(Math.abs(e)>5||Math.abs(o)>5)&&(this.isBombMove=!0)}this.isBombMove&&(e=t.getDeltaX(),o=t.getDeltaY(),this.isBombOneMove&&(o+=100,this.isBombOneMove=!1,this.currBombMonster.playShaowOn(),this.currBombRow=-1,this.playAllMonsterAinm(s.AnimTag.shake)),this.currBombMonster.node.y+=o,this.currBombMonster.node.x+=e,this.setBombMoveing())}},e.prototype.onBombTouchEnd=function(t){this.currTouchTarget==t.currentTarget&&(this.currTouchTarget=null,this.isBombMove&&this.currBombMonster&&(this.currBombRow>=1&&this.isUseBomb?this.useBomb():(this.bombNode.active=!1,this.moveBombToOrigPoint(this.currBombMonster))))},e.prototype.spawnMonster=function(t){var e=this;void 0===t&&(t=2);var o=!1,n=!0;for(var r in this.gridList){if(this.gridList[r].isHaveTwoGap()){o=!0,n=!1;break}this.gridList[r].isEmpty()&&(n=!1)}if(n)h.DataMgr.setCurrBornMonsters(null),this.currBombMonster?p.UIManager.showBombTip(function(t){t||(h.DataMgr.setCurrBornMonsters(null),e.gameOver())}):h.DataMgr.isCanGiveBomb()?p.UIManager.showGiveRewardUI(function(t){t?(e.bombNum++,h.DataMgr.bombNum=e.bombNum,h.DataMgr.giveBombNum++,e.initBomb(),e.tempNum=20):(h.DataMgr.setCurrBornMonsters(null),e.gameOver())}):this.gameOver();else{g.SoundMgr.playEffectByUrl(g.SoundConst.born);var i=1,a=h.DataMgr.getRandom1_100();if(i=!o||a>h.DataMgr.getBronTwoProbability()-this.tempNum?1:2,this.isGuideMerge||(i=1),this.guideYsNode&&(i=2),this.currBornMonsters=[],1==i){var s=this.getRandomDiceValue();this.creatorBornMonster(s,0),h.DataMgr.setCurrBornMonsters([s])}else{var c=this.getRandomDiceValue(),u=this.getRandomDiceValue();this.creatorBornMonster(c,1),this.creatorBornMonster(u,2),h.DataMgr.setCurrBornMonsters([c,u])}this.bornNum++,this.tempNum>0?this.tempNum-=5:this.tempNum=0,this.isMergeCom=!0,this.bornNum>4&&this.guideYsNode&&(this.guideYsNode.node.destroy(),this.guideYsNode=null)}this.isCanRotation=!0},e.prototype.gameOver=function(){h.DataMgr.isGameOver=!0,h.DataMgr.gameNum++,p.UIManager.showGameOverUI(),this.bombNode.active=!1},e.prototype.moveToOrigPoint=function(){for(var t in this.currBornMonsters){var e=this.currBornMonsters[t].node,o=e.origPoint,n=this.currBornMonsters[t];n.playShadowOff(),n.isPlace=!1,n.gridNode=null;var r=cc.moveTo(.1,o);e.runAction(r)}},e.prototype.moveBombToOrigPoint=function(t){var e=this;t.playIdel(),this.playAllMonsterAinm(s.AnimTag.idle);var o=c.default.getdistance(t.node.position,this.bombPos)/2500,n=cc.moveTo(o,this.bombPos),r=cc.callFunc(function(){t.playIdel(),e.bombNode.active=!0});t.node.runAction(cc.sequence(n,r))},e.prototype.checkPlace=function(){var t=this.gridList.length,e=!0;for(var o in this.currBornMonsters){var n=this.currBornMonsters[o].node,r=this.currBornMonsters[o];if(n.x>700||n.x<-100||n.y>100||n.y<-700)return void this.moveToOrigPoint();for(var i=!1,a=0;a<t;a++){var s=this.gridList[a].node;if(this.gridList[a].isEmpty()&&n.x<s.x+55&&n.x>s.x-55&&n.y<s.y+55&&n.y>s.y-55){r.isPlace=!0,r.gridNode=this.gridList[a],i=!0;break}}i||(e=!1)}e?(this.setPlace(),g.SoundMgr.playEffectByUrl(g.SoundConst.Drop)):(g.SoundMgr.playEffectByUrl(g.SoundConst.WrongDrop),this.moveToOrigPoint())},e.prototype.setPlace=function(){for(var t in this.currBornMonsters){var e=this.currBornMonsters[t];e.node.position=e.gridNode.node.position,e.gridNode.setMonster(e),e.setZIndex(),e.playShadowOff()}this.isMergeCom=!1,this.guideYsNode&&this.guideYsNode.initType(2),this.setMarger()},e.prototype.setMarger=function(){var t;2==this.currBornMonsters.length?this.currBornMonsters[0].value<this.currBornMonsters[1].value?t=this.currBornMonsters.shift():this.currBornMonsters[0].value==this.currBornMonsters[1].value?(t=this.currBornMonsters.shift(),this.currBornMonsters.pop()):t=this.currBornMonsters.pop():1==this.currBornMonsters.length&&(t=this.currBornMonsters.pop()),t?d.MergeUtils.checkMarger(t.gridNode)||this.setMarger():0==this.currBornMonsters.length&&this.spawnMonster(2)},e.prototype.setRotation=function(){this.isCanRotation=!1,this.guideYsNode&&(this.guideYsNode.node.destroy(),this.guideYsNode=null);for(var t=1;t<=90;t+=1)for(var e in this.currBornMonsters){var o=this.currBornMonsters[e],n=o.node.position,i=Math.PI/180*t,a=n.x-this.bornPos.x,s=n.y-this.bornPos.y,c=a*Math.cos(i)-s*Math.sin(i)+this.bornPos.x,u=s*Math.cos(i)+a*Math.sin(i)+this.bornPos.y;c=10*Math.round(c/10),u=10*Math.round(u/10);var l=o.getComponent(r.default);if(l.rotationPos.push(new cc.Vec2(c,u)),90==t){var d=cc.cardinalSplineTo(.2,o.getComponent(r.default).rotationPos,0),h=cc.callFunc(this.rotationCom,this);o.node.runAction(cc.sequence(d,h)),l.rotationPos=[]}}},e.prototype.rotationCom=function(){this.isCanRotation=!0},e.prototype.addBombMonster=function(t){var e=this;t.gridNode.setMonster(null),t.gridNode=null;var o=c.default.getdistance(t.node.position,this.bombPos)/1500,n=cc.moveTo(o,this.bombPos),r=cc.callFunc(function(){g.SoundMgr.playEffectByUrl(g.SoundConst.GameOve),e.currBombMonster?t.remove():(t.playIdel(),e.currBombMonster=t,e.bombNode.active=!0)});t.node.runAction(cc.sequence(n,r)),t.node.zIndex=999,this.bombNum++,this.setBombNumLab(),h.DataMgr.bombNum=this.bombNum,this.bombTipNode.active=!this.isGuideBomb},e.prototype.getRandomDiceValue=function(){for(var t=this,e=function(){var e=c.default.getRandom(1,10*t.currMonsterMaxValue)/10;e=Math.ceil(e);var o=h.DataMgr.getRandom1_100();return 7==e&&o>=h.DataMgr.getBronLastMonster_probability()+t.tempNum&&(e=c.default.getRandom(1,10*t.currMonsterMaxValue)/10,e=Math.ceil(e)),e},o=e();o==this.lastMonsterValue;)o=e();return this.lastMonsterValue=o,o},e.prototype.getGridById=function(t){return this.gridMap.get(t)},e.prototype.againGame=function(){y.GameConst.currScene=y.SceneConst.game,h.DataMgr.gameNum++,this.resetGame(),this.bombNode.active=!0,this.spawnMonster(2)},e.prototype.onPauseGame=function(){p.UIManager.showPauseUI()},e.prototype.useLJT=function(t){var e=this,o=this.currBornMonsters.length,n=this.node.convertToNodeSpaceAR(t);if(o>0){for(var r=function(t){var o=i.currBornMonsters[t],r=cc.moveTo(.3,n),a=t,s=cc.callFunc(function(){o.remove(),0==a&&e.spawnMonster(2)});o.node.runAction(cc.sequence(r,s)),o.playRecover()},i=this,s=0;s<o;s++)r(s);g.SoundMgr.playEffectByUrl(g.SoundConst.ljt),this.currBornMonsters=[],h.DataMgr.reduceDiamondNum(30*this.useLJTNum),a.default.instance.initDiamonds(),this.useLJTNum++,h.DataMgr.useLJTNum=this.useLJTNum,this.trashBin.setPriceLab(30*this.useLJTNum)}else p.UIManager.showComTis("\u5f53\u524d\u6ca1\u6709\u5c0f\u841d\u535c\u51fa\u751f\u54df\uff01\uff0c\u8bf7\u8c28\u614e\u4f7f\u7528")},e.prototype.openJD=function(){this.playAllMonsterAinm(s.AnimTag.shake),this.isOpenJD=!0},e.prototype.closeJD=function(){this.playAllMonsterAinm(s.AnimTag.idle),this.isOpenJD=!1},e.prototype.getMonsterByPos=function(t){if(t.x<0||t.x>this.node.width||t.y>0||t.y<-this.node.height)return null;var e=Math.ceil(t.x/120),o=Math.ceil(Math.abs(t.y)/120),n=this.gridMap.get(o+"_"+e);return n?n.monster:null},e.prototype.playAllMonsterAinm=function(t){for(var e in this.gridList)this.gridList[e].monster&&(t==s.AnimTag.shake?this.gridList[e].monster.playShake():t==s.AnimTag.idle&&this.gridList[e].monster.playIdel())},e.prototype.setBombMoveing=function(){var t=this.currBombMonster.node.position,e=-1;if(e=t.y>0||t.y<-this.node.height?-1:Math.ceil(Math.abs(t.y)/120),this.currBombRow!=e){if(this.currBombRow>=1)for(var o=1;o<6;o++)(n=this.gridMap.get(this.currBombRow+"_"+o))&&n.monster&&n.monster.playShake();if(this.currBombRow=e,this.isUseBomb=!1,this.currBombRow>=1)for(o=1;o<6;o++){var n;(n=this.gridMap.get(e+"_"+o))&&n.monster&&(n.monster.playShake2(),this.isUseBomb=!0)}}else this.currBombRow=e},e.prototype.useBomb=function(){var t=this;for(var e in this.currBombMonster.bombDiEff(),this.bombNum--,this.bombNum=this.bombNum<0?0:this.bombNum,h.DataMgr.userBomb(),this.setBombNumLab(),this.scheduleOnce(function(){t.currBombMonster=null,t.bombNum>0?t.creatorBombMonster():t.bombNode.active=!1,t.currBornMonsters&&0!=t.currBornMonsters.length||t.spawnMonster()},.15),this.gridList){var o=this.gridList[e];o.monster&&(o.column==this.currBombRow?o.monster.bombEff():o.monster.playIdel())}g.SoundMgr.playEffectByUrl(g.SoundConst.baozha),c.default.shock()},e.prototype.setBombNumLab=function(){this.bombNum>0?(this.bombNumLab.node.active=!0,this.bombNumLab.string=this.bombNum+""):this.bombNumLab.node.active=!1},e.prototype.onTips=function(){p.UIManager.showGuideTips(1,!0)},e.prototype.refreshBomb=function(){this.bombNum=h.DataMgr.bombNum,this.currBombMonster?this.setBombNumLab():this.initBomb()},__decorate([M(cc.Node)],e.prototype,"thouchNode",void 0),__decorate([M(cc.Node)],e.prototype,"bombNode",void 0),__decorate([M(f.default)],e.prototype,"trashBin",void 0),__decorate([M(f.default)],e.prototype,"shears",void 0),__decorate([M(cc.Node)],e.prototype,"bottomNode",void 0),__decorate([M(cc.Node)],e.prototype,"gameNode",void 0),__decorate([M(cc.Label)],e.prototype,"bombNumLab",void 0),__decorate([M(cc.Node)],e.prototype,"bombTipNode",void 0),__decorate([M(cc.Node)],e.prototype,"tipsNode",void 0),o=__decorate([v],e)}(cc.Component);o.default=_,cc._RF.pop()},{DataManage:"DataManage",GameConst:"GameConst",GridNode:"GridNode",GuideYanShi:"GuideYanShi",Map:"Map",MergeUtils:"MergeUtils",Monster:"Monster",MonsterPool:"MonsterPool",PrefabManger:"PrefabManger",SkillNode:"SkillNode",SoundManager:"SoundManager",TypeUtils:"TypeUtils",UIManager:"UIManager",Utils:"Utils",mainScene:"mainScene"}],MonsterPool:[function(t,e,o){"use strict";cc._RF.push(e,"986f00XD+ZCrbp4CJO2fxMy","MonsterPool");var n=t("PrefabManger"),r=t("Monster"),i=t("TypeUtils"),a=t("CloudNode"),s=cc._decorator,c=s.ccclass;s.property;var u=function(){function t(){this.cloudPool=new cc.NodePool(a.default)}return t.prototype.getMonsterNode=function(t,e){return void 0===e&&(e=i.AnimTag.idle),this.creatorMonster(t,e)},t.prototype.creatorMonster=function(t,e){var o=n.PrefabMgr.getPrefabByName(n.PrefabConst.monster),i=cc.instantiate(o);return i.getComponent(r.default).initData(t,e),i},t.prototype.pushMonsterNode=function(t,e){var o=this.poolMap.get(e);o&&o.put(t)},t.prototype.clearPool=function(){this.poolMap.forEach(function(t,e){e.clear()}),this.poolMap.clear()},t.prototype.creatorCloudNode=function(t){if(t){var e;if(this.cloudPool.size()>0)e=this.cloudPool.get();else{var o=n.PrefabMgr.getPrefabByName(n.PrefabConst.cloud);e=cc.instantiate(o)}return e.parent=t,e.scale=1.2,e}},t.prototype.pushCloudNode=function(t){this.cloudPool.put(t)},__decorate([c],t)}();o.default=u,o.MstPool=new u,cc._RF.pop()},{CloudNode:"CloudNode",Monster:"Monster",PrefabManger:"PrefabManger",TypeUtils:"TypeUtils"}],Monster:[function(t,e,o){"use strict";cc._RF.push(e,"76cddUQoolL84xYCOw6HuUs","Monster");var n=t("TypeUtils"),r=t("MonsterPool"),i=t("MonsterManager"),a=t("EffectUtils"),s=t("SoundManager"),c=cc._decorator,u=c.ccclass,l=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.monsterDragon=null,e._isPlace=!1,e.margerNum=0,e.margerTotalNum=0,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.initData=function(t,e){var o=this;this.value=t,this.tag=e;var n="dragon_anim/radish_"+this.value,r=1;switch(t){case 4:r=.7;break;case 1:case 2:r=.65;break;case 3:r=.7;break;case 5:r=.5;break;case 6:r=.55;break;case 7:r=.6;break;case 8:r=.8}this.node.scale=r,cc.loader.loadRes(n+"_ske",dragonBones.DragonBonesAsset,function(t,e){t?cc.error(t):o.monsterDragon&&o.monsterDragon.isValid&&(o.monsterDragon.dragonAsset=e,cc.loader.loadRes(n+"_tex",dragonBones.DragonBonesAtlasAsset,o.onComplete.bind(o)))})},e.prototype.start=function(){},e.prototype.onComplete=function(t,e){t?cc.error(t):this.monsterDragon&&this.monsterDragon.isValid&&(this.monsterDragon.dragonAtlasAsset=e,this.monsterDragon.armatureName="armatureName",this.tag==n.AnimTag.born?this.playBorn():this.playIdel())},e.prototype.playIdel=function(){this.monsterDragon.playAnimation(n.AnimTag.idle,0)},e.prototype.playIdel2=function(){this.monsterDragon.playAnimation(n.AnimTag.idle2,0)},e.prototype.playIdel3=function(){this.monsterDragon.playAnimation(n.AnimTag.idle3,0)},e.prototype.playCut=function(){this.monsterDragon.playAnimation(n.AnimTag.cut,1)},e.prototype.playMerge=function(){this.monsterDragon.playAnimation(n.AnimTag.merge2,1)},e.prototype.playDelete=function(t){void 0===t&&(t=null);var e=this.monsterDragon.playAnimation(n.AnimTag.delete,1);t&&this.scheduleOnce(t,e.totalTime)},e.prototype.playDeleteAndRemove=function(){var t=this,e=this.monsterDragon.playAnimation(n.AnimTag.delete,1);this.scheduleOnce(function(){t.remove()},e.totalTime)},e.prototype.playShake=function(){this.monsterDragon.playAnimation(n.AnimTag.shake,0)},e.prototype.playShake2=function(){this.monsterDragon.playAnimation(n.AnimTag.shake2,0)},e.prototype.playRecover=function(){this.monsterDragon.playAnimation(n.AnimTag.recover,1)},e.prototype.playShadowOff=function(){this.monsterDragon.playAnimation(n.AnimTag.shadow_off,1),this.addPlayIdelEvent()},e.prototype.playShaowOn=function(){this.monsterDragon.playAnimation(n.AnimTag.shadow_on,1)},e.prototype.playBorn=function(){this.monsterDragon.playAnimation(n.AnimTag.born,1),this.addPlayIdelEvent()},e.prototype.addPlayIdelEvent=function(){var t=this;this.monsterDragon.addEventListener,this.monsterDragon.removeEventListener(dragonBones.EventObject.COMPLETE),this.monsterDragon.addEventListener(dragonBones.EventObject.COMPLETE,function(){t.monsterDragon.removeEventListener(dragonBones.EventObject.COMPLETE),t.playIdel()})},e.prototype.setMargerTotalNum=function(t){this.margerTotalNum=t,this.margerNum=0},e.prototype.addMargerTotalNum=function(t){this.margerTotalNum+=t,this.margerNum=0},e.prototype.onDestroy=function(){this.monsterDragon=null},Object.defineProperty(e.prototype,"isPlace",{get:function(){return this._isPlace},set:function(t){this._isPlace=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridNode",{get:function(){return this._grid},set:function(t){this._grid=t},enumerable:!0,configurable:!0}),e.prototype.setZIndex=function(){this.gridNode?this.node.zIndex=5*this.gridNode.row+this.gridNode.column:this.node.zIndex=999},Object.defineProperty(e.prototype,"rotationPos",{get:function(){return this._rotationPos||(this._rotationPos=[]),this._rotationPos},set:function(t){this._rotationPos=t},enumerable:!0,configurable:!0}),e.prototype.marger=function(){var t=this;this.scheduleOnce(function(){if(t.moveTarget){if(t.margerNum++,t.margerNum>=t.margerTotalNum){var e=cc.jumpTo(.3,t.moveTarget.node.position,1,1),o=cc.callFunc(function(){t.moveTarget&&(t.moveTarget.marger(),t.moveTarget=null,t.clearGridNode(),t.remove())});r.MstPool.creatorCloudNode(t.gridNode.node),t.node.runAction(cc.sequence(e,o)),t.playMerge()}7==t.value?s.SoundMgr.playEffectByUrl(s.SoundConst.MSpawn):s.SoundMgr.playEffectByUrl(s.SoundConst.Merge)}else t.margerTotalNum>0&&(t.margerNum++,t.margerNum>=t.margerTotalNum&&(a.EffectUtils.creatorMergeAnim(t.gridNode.node),t.playDelete(function(){var e=t.gridNode,o=t.value;t.clearGridNode(),t.remove(),i.default.instance.mergeNewMonster(e,o+1),o+1==7&&s.SoundMgr.playEffectByUrl(s.SoundConst.MSpawn)})))},.02)},e.prototype.reuse=function(t){this.value=t,this.playBorn()},e.prototype.clearGridNode=function(){this.gridNode.setMonster(null),this.gridNode=null},e.prototype.JDDetele=function(){var t=this;a.EffectUtils.creatorDaoGuangAnim(this.gridNode.node),this.clearGridNode(),this.scheduleOnce(function(){t.playDeleteAndRemove()},.1)},e.prototype.unuse=function(){this.unscheduleAllCallbacks(),this.node.stopAllActions()},e.prototype.remove=function(){this.node.destroy()},e.prototype.bombEff=function(){var t=this;this.clearGridNode(),a.EffectUtils.creatoeBombEff(this.node.parent,this.node.position),this.playDelete(function(){t.remove()})},e.prototype.bombDiEff=function(){var t=this;a.EffectUtils.creatoeBombDiEff(this.node.parent,this.node.position),this.playDelete(function(){t.remove()})},__decorate([l(dragonBones.ArmatureDisplay)],e.prototype,"monsterDragon",void 0),__decorate([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{EffectUtils:"EffectUtils",MonsterManager:"MonsterManager",MonsterPool:"MonsterPool",SoundManager:"SoundManager",TypeUtils:"TypeUtils"}],MoreGameManger:[function(t,e,o){"use strict";cc._RF.push(e,"a3d89eViupAnooWpwr4PyDn","MoreGameManger");var n=t("MoreGameNode"),r=t("PrefabManger"),i=t("GameConst"),a=t("WXApi"),s=cc._decorator,c=s.ccclass;s.property;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moreGame=null,e}var o;return __extends(e,t),o=e,e.prototype.onLoad=function(){o.instance=this;var t=cc.view.getFrameSize(),e=cc.director.getWinSize(),n=t.width/e.width,r=t.height/e.height,i=n<=r?n:r;this.node.y=-(t.height-e.height*i)},e.prototype.start=function(){this.showMoreGame()},e.prototype.creatoMoreGameNode=function(){var t=this;a.default.enable&&r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.MoreGame,function(e){if(i.GameConst.currScene!=i.SceneConst.game){var o=cc.instantiate(e);o.setParent(t.node),t.moreGame=o.getComponent(n.default)}},!1)},e.prototype.showMoreGame=function(){this.moreGame?this.moreGame.setVisbile(!0):this.creatoMoreGameNode()},e.prototype.hideMoreGame=function(){this.moreGame&&this.moreGame.setVisbile(!1)},e.prototype.removeMoreGame=function(){this.moreGame&&(this.moreGame.node.destroy(),this.moreGame=null)},o=__decorate([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{GameConst:"GameConst",MoreGameNode:"MoreGameNode",PrefabManger:"PrefabManger",WXApi:"WXApi"}],MoreGameNode:[function(t,e,o){"use strict";cc._RF.push(e,"bf65aNs8GVNgLFwECA2aAxy","MoreGameNode");var n=t("Utils"),r=t("WXApi"),i=cc._decorator,a=i.ccclass,s=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnNodes=[],e}return __extends(e,t),e.prototype.start=function(){this.btnsLen=this.btnNodes.length,this.setNodeAnim()},e.prototype.onGame=function(t,e){cc.log("event="+JSON.stringify(e));var o=Number(e);if(r.default.isWxPlatform){var i=n.default.getGameAppId(o);r.default.navigateToMiniProgram(i,"",{},"","release")}},e.prototype.gameAnim=function(t){var e=cc.rotateTo(1.5,-20),o=cc.rotateTo(1.5,20);this.currNode=t,t.runAction(cc.repeatForever(cc.sequence(e,o)))},e.prototype.setVisbile=function(t){this.node.active=t,this.unscheduleAllCallbacks(),this.currNode&&(this.currNode.stopAllActions(),this.currNode.angle=0,this.currNode=null),t&&this.setNodeAnim()},e.prototype.setNodeAnim=function(){var t=n.default.getRandom(1,this.btnsLen);this.gameAnim(this.btnNodes[t-1])},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks(),this.currNode&&(this.currNode.stopAllActions(),this.currNode=null)},__decorate([s([cc.Node])],e.prototype,"btnNodes",void 0),__decorate([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{Utils:"Utils",WXApi:"WXApi"}],NumberUtils:[function(t,e,o){"use strict";cc._RF.push(e,"924aeBxZMNIUr1iy0BzVFfk","NumberUtils");var n=function(){};o.default=n,o.NumUtils=new n,cc._RF.pop()},{}],OPPOApi:[function(t,e,o){"use strict";cc._RF.push(e,"7cafc5dwwlNfKtEH8yKkCBW","OPPOApi");var n=t("GameConst"),r=t("FastADAdapter"),i=t("PlatformApi"),a=!1,s=null,c=!1,u="";"undefined"!=typeof qg&&(a=!0,c=!0,s=qg.getSystemInfoSync(),u=qg.getProvider(),console.log("providerStr ====",u));var l=0,d=function(){function t(){}return t.start=function(){if(console.log("OPPOApi  enable ===",t.enable),t.enable){var e=i.default.getPlatformStr();r.fastAd.initFastAd(e,!0),n.GameConst.shareData={shareId:-1,shareType:-1},qg.setKeepScreenOn({keepScreenOn:!0}),qg.onShow(function(t){var e=(new Date).getTime()-l;Math.floor(e/1e3)}),qg.onHide(function(t){l=(new Date).getTime()})}},t.backgroundTime=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){qg.onShow(function e(o){qg.offShow(e);var n=(new Date).getTime();t(n-l)})})]})})},t.login=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t,e){qg.login({success:function(e){t(e)},fail:function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];e.apply(void 0,t)},complete:function(){}})})]})})},t.authorize=function(t){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){return[2,new Promise(function(e,o){qg.authorize({type:t,success:function(t){e(t)},fail:function(t){o(!1)}})})]})})},t.getProfile=function(t){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){return[2,new Promise(function(e,o){qg.getProfile({token:t,success:function(t){e(t)},fail:function(t,e){o(!1)}})})]})})},t.navigateToMiniProgram=function(t){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){return[2,new Promise(function(e,o){qg.navigateToMiniGame({pkgName:t,success:function(t){e(t)},fail:function(t){o(t)}})})]})})},t.showLoading=function(t){void 0===t&&(t=""),wx.showLoading({title:t,mask:!0})},t.hideLoading=function(){wx.hideLoading()},t.enable=a,t.isOppoPlatform=a,t.isQuickGame=c,t.providerStr=u,t.sysInfo=s,t.friendRankKey=null,t.shareImageUrls=[],t.shareTitles=[],t.shareQuery=null,t.shareData=null,t}();o.default=d,cc._RF.pop()},{FastADAdapter:"FastADAdapter",GameConst:"GameConst",PlatformApi:"PlatformApi"}],OppoAD:[function(t,e,o){"use strict";cc._RF.push(e,"228a4C2o0lPn6ZY91Le9tRe","OppoAD");var n=null,r=null,i=null,a=null,s=!1,c=function(){function t(){this.appId=0,this.bannerId=1,this.insertId=2,this.videoId=3,this.nativeId=4}return t.prototype.initAD=function(t,e){t?(this.appId=t,qg.initAdService({appId:this.appId,success:function(t){console.log("success"),s=!0},fail:function(t){console.log("fail:"+t.code+t.msg)},complete:function(t){console.log("complete")}}),e||(e=!1),qg.setEnableDebug({enableDebug:e,success:function(){console.log("test consol log"),console.info("test console info"),console.warn("test consol warn"),console.debug("test consol debug"),console.error("test consol error")},complete:function(){},fail:function(){}})):console.log("\u4f20\u5165\u5e94\u7528Id")},t.prototype.createBanner=function(t){s?(console.log("\u521b\u5efabanner\u5e7f\u544a"),this.bannerId=t,(n=qg.createBannerAd({posId:this.bannerId})).onShow(function(){console.log("Banner\u5e7f\u544aonShow")}),n.onHide(function(){console.log("Banner\u5e7f\u544aonHide")}),n.onError(function(t){console.log("Banner\u5e7f\u544aonError ==>",t)})):console.log("\u8bf7\u5148\u8c03\u7528initAD \u521d\u59cb\u5316\u5e7f\u544a")},t.prototype.showBanner=function(){n?(console.log("\u663e\u793abanner\u5e7f\u544a"),n.show()):console.log("\u8bf7\u5148\u8c03\u7528createBanner\u521b\u5efa\u5e7f\u544a")},t.prototype.hideBanner=function(){n?n.hide():console.log("\u8bf7\u5148\u8c03\u7528createBanner")},t.prototype.createInsert=function(t){s?(this.insertId=t,r&&r.destroy(),console.log("\u521b\u5efaoppo\u63d2\u5c4f\u5e7f\u544a"),(r=qg.createInsertAd({posId:this.insertId})).load(),r.onLoad(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),r.show()}),r.onShow(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a")}),r.onError(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25  ==>",t)})):console.log("\u8bf7\u5148\u8c03\u7528initAD \u521d\u59cb\u5316\u5e7f\u544a")},t.prototype.createVideo=function(t,e,o){s?(console.log("\u521b\u5efaoppo\u89c6\u9891\u5e7f\u544a"),this.videoId=t,(i=qg.createRewardedVideoAd({posId:this.videoId})).load(),i.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),i.show()}),i.onClose(function(t){t.str=o,t.isEnded?(t.videoState=1,console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1")):(t.videoState=2,console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1")),e(t),i.destroy()}),i.onError(function(t){console.log("\u89c6\u9891\u5e7f\u544a\u521b\u5efa\u5931\u8d25  ==\u300b",t);var n={videoState:0};n.str=o,e(n)})):console.log("\u8bf7\u5148\u8c03\u7528initAD \u521d\u59cb\u5316\u5e7f\u544a")},t.prototype.createNative=function(t,e){s?(this.nativeId=t,a&&a.destroy(),(a=qg.createNativeAd({posId:this.nativeId})).load(),a.onLoad(function(t){console.log("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d",t.adList[0]),a.reportAdShow({adId:t.adList[0].adId}),e(t)}),a.onError(function(t){console.log("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25  ==",t),e()})):console.log("\u8bf7\u5148\u8c03\u7528initAD \u521d\u59cb\u5316\u5e7f\u544a")},t.prototype.clickNativeAd=function(t){a.reportAdClick({adId:t})},t}();o.default=c,cc._RF.pop()},{}],PauseNode:[function(t,e,o){"use strict";cc._RF.push(e,"8523f65zFNHnZFwc8OqV+pw","PauseNode");var n=t("mainScene"),r=t("MonsterManager"),i=t("SoundManager"),a=t("DataManage"),s=t("Utils"),c=t("WXUtils"),u=cc._decorator,l=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e}return __extends(e,t),e.prototype.onLoad=function(){s.default.setBgSpr(this.bgNode),a.DataMgr.getIsScreenAd()&&c.WXUtils.interstitialAd()},e.prototype.start=function(){},e.prototype.onHome=function(){n.default.instance.showHome(),this.remove()},e.prototype.onContinue=function(){i.SoundMgr.playEffectByUrl(i.SoundConst.DialogOpen),this.remove()},e.prototype.onAgain=function(){a.DataMgr.reset(),r.default.instance.againGame(),this.remove()},e.prototype.remove=function(){this.node.destroy()},__decorate([d(cc.Node)],e.prototype,"bgNode",void 0),__decorate([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{DataManage:"DataManage",MonsterManager:"MonsterManager",SoundManager:"SoundManager",Utils:"Utils",WXUtils:"WXUtils",mainScene:"mainScene"}],PlatformApi:[function(t,e,o){"use strict";cc._RF.push(e,"b8784p34yxGzqdNKjGQXLFa","PlatformApi");var n=t("WXApi"),r=t("OPPOApi"),i=t("PlatformConst"),a=function(){function t(){}return t.isVivo=function(){return cc.sys.platform==cc.sys.VIVO_GAME},t.isOppo=function(){return cc.sys.platform==cc.sys.OPPO_GAME},t.isQuickGame=function(){var e=t.isOppo(),o=t.isVivo();return e||o},t.isWx=function(){return cc.sys.platform==cc.sys.WECHAT_GAME},t.getPlatformStr=function(){return t.isVivo()?i.PlatformConst.vivo:t.isOppo()?i.PlatformConst.oppo:t.isWx()?i.PlatformConst.wechat:i.PlatformConst.test},t.statusBarHeight=function(){return t.isOppo()?r.default.sysInfo.notchHeight:t.isVivo()?qg.getNotchHeightSync().height:t.isWx()?n.default.sysInfo.statusBarHeight:0},t}();o.default=a,cc._RF.pop()},{OPPOApi:"OPPOApi",PlatformConst:"PlatformConst",WXApi:"WXApi"}],PlatformConst:[function(t,e,o){"use strict";cc._RF.push(e,"ae687OAWZ1EZriKLvs1Zfz6","PlatformConst"),function(t){t.wechat="wechat",t.oppo="oppo",t.vivo="vivo",t.test="test",t.no=""}(o.PlatformConst||(o.PlatformConst={})),cc._RF.pop()},{}],PrefabManger:[function(t,e,o){"use strict";var n;cc._RF.push(e,"510baMCg11OSruRHcJJaZ5j","PrefabManger");var r=t("Map"),i=t("WXApi"),a=t("DataManage");(function(t){t.monster="monster",t.gridNode="gridNode",t.cloud="cloud",t.mergeAnim="mergeAnim",t.gameOver="gameOver",t.pauseNode="pauseNode",t.daoguang="daoguang",t.bombEffNode="bombEffNode",t.bombDiEffNode="bombDiEffNode",t.setUpNode="setUpNode",t.GiveReward="GiveReward",t.BombTip="BombTip",t.GuideNode="guideTips",t.rankNode="rankNode",t.comTipsNode="comTips",t.baoshiAnim="baoshiAnim",t.guideYanShi="guide",t.MoreGame="MoreGame",t.welfaiNode="WelfareNode",t.rewardNode="rewardNode",t.collectNode="collectNode",t.LoginReward="loginReward",t.DoubleReward="DoubleReward"})(n=o.PrefabConst||(o.PrefabConst={}));var s=function(){function t(){this.prefabUrl="prefab/",this.comPrefabNames=[n.monster,n.gridNode],this.asyncrefabNames=[n.cloud,n.mergeAnim,n.bombEffNode,n.bombDiEffNode,n.daoguang,n.gameOver,n.GiveReward,n.baoshiAnim]}return t.prototype.getComPrefabNames=function(){return this.comPrefabNames},t.prototype.getAsyncrefabNames=function(){return a.DataMgr.isGuideCom()||(this.asyncrefabNames.unshift(n.GuideNode),this.asyncrefabNames.unshift(n.guideYanShi)),this.asyncrefabNames},t.prototype.initPrefab=function(){var t=this;this.prefabMap=new r.Map;for(var e=this.comPrefabNames.length,o=function(e){var o=n.comPrefabNames[e];cc.loader.loadRes(n.prefabUrl+o,function(e,n){e?cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25, \u539f\u56e0:"+e):n instanceof cc.Prefab?n&&t.prefabMap.add(o,n):cc.log("\u4f60\u8f7d\u5165\u7684\u4e0d\u662f\u9884\u5236\u8d44\u6e90!")})},n=this,i=0;i<e;i++)o(i)},t.prototype.getPrefabByName=function(t){return this.prefabMap.get(t)?this.prefabMap.get(t):null},t.prototype.getAsyncPrefabByName=function(t,e,o){var n=this;void 0===o&&(o=!1),this.prefabMap.get(t)?e&&e(this.prefabMap.get(t)):(o&&i.default.isWxPlatform&&i.default.showLoading(),cc.loader.loadRes(this.prefabUrl+t,function(r,a){o&&i.default.isWxPlatform&&i.default.hideLoading(),r?cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25, \u539f\u56e0:"+r):a instanceof cc.Prefab?a&&(n.prefabMap.add(t,a),e(a)):cc.log("\u4f60\u8f7d\u5165\u7684\u4e0d\u662f\u9884\u5236\u8d44\u6e90!")}))},t.prototype.addPrefabByName=function(t,e){this.prefabMap||(this.prefabMap=new r.Map),this.prefabMap.add(t,e)},t.prototype.loadAyscRes=function(){var t=this,e=[n.baoshiAnim,n.cloud,n.mergeAnim,n.daoguang,n.bombEffNode,n.bombDiEffNode,n.gameOver,n.GiveReward],o=0,r=e.length;(function n(){o<r&&cc.loader.loadRes(t.prefabUrl+e[o],function(t,e){o<r&&(o++,n())})})()},t}();o.default=s,o.PrefabMgr=new s,cc._RF.pop()},{DataManage:"DataManage",Map:"Map",WXApi:"WXApi"}],"Protocol ":[function(t,e,o){"use strict";cc._RF.push(e,"cfcacpjenNPG5XMn6IPIZkr","Protocol "),function(t){t.LOGIN="user/login",t.WXLOGIN="user/wxlogin"}(o.ServerProtocol||(o.ServerProtocol={})),cc._RF.pop()},{}],RankItem:[function(t,e,o){"use strict";cc._RF.push(e,"230f2PB06ZDNI8IInmOB3XI","RankItem");var n=cc._decorator,r=n.ccclass,i=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.headSpr=null,e.nameLab=null,e.rankLab=null,e.scoreLab=null,e.rank_di=null,e.noRankLab=null,e.rankSpr=null,e.numSprs=[],e}return __extends(e,t),e.prototype.start=function(){},e.prototype.upadteItem=function(t){var e=this;this.nameLab.string=t.nickName,this.scoreLab.string=t.score+"",t.rank<0?(this.noRankLab.active=!0,this.rankLab.node.active=!1,this.rank_di.active=!1):t.rank>3?(this.rankLab.string=t.rank+"",this.rankLab.node.active=!0,this.rank_di.active=!1,this.noRankLab.active=!1):(this.rankLab.node.active=!1,this.rank_di.active=!0,this.rankSpr.spriteFrame=this.numSprs[t.rank-1],this.noRankLab.active=!1),t.headImgUrl&&""!=t.headImgUrl&&cc.loader.load({url:t.headImgUrl,type:"png"},function(t,o){t?console.error(t):e.node.active&&(e.headSpr.spriteFrame=new cc.SpriteFrame(o))})},__decorate([i(cc.Sprite)],e.prototype,"headSpr",void 0),__decorate([i(cc.Label)],e.prototype,"nameLab",void 0),__decorate([i(cc.Label)],e.prototype,"rankLab",void 0),__decorate([i(cc.Label)],e.prototype,"scoreLab",void 0),__decorate([i(cc.Node)],e.prototype,"rank_di",void 0),__decorate([i(cc.Node)],e.prototype,"noRankLab",void 0),__decorate([i(cc.Sprite)],e.prototype,"rankSpr",void 0),__decorate([i([cc.SpriteFrame])],e.prototype,"numSprs",void 0),__decorate([r],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],RankNode:[function(t,e,o){"use strict";cc._RF.push(e,"06e68jYcwVNA7ziln0/YL//","RankNode");var n=t("WXApi"),r=t("Utils"),i=t("UIManager"),a=t("SoundManager"),s=t("HttpUtils"),c=t("DataManage"),u=t("RankItem"),l=t("TableView"),d=cc._decorator,h=d.ccclass,p=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.opendata=null,e.bgNode=null,e.friendsSpr=null,e.worldSpr=null,e.flag=2,e.tab_1=null,e.tab_2=null,e.rankScrollviewNode=null,e.worldRank=null,e.scrollHelp=null,e.myRankModel=null,e.myRankItem=null,e.worldLab=null,e.friendsLab=null,e.isSendOpendata=!1,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;r.default.setBgSpr(this.bgNode),this.worldData=[],this.isSendOpendata=!1;var e={score:c.DataMgr.maxScore,startCount:0,endCount:99};n.default.isWxPlatform&&n.default.showLoading(),s.HttpUtils.httpPost(s.HttpUtils.rank,function(e){n.default.isWxPlatform&&n.default.hideLoading();var o=e.ranks;for(var r in t.myRankModel=null,o)if(o[r]){var i=new g(o[r]);i.isMyslef&&(t.myRankModel=i),t.worldData.push(i)}t.myRankModel||(t.myRankModel=new g,t.myRankModel.initMyRank()),t.showWorldRank()},e)},e.prototype.start=function(){},e.prototype.onCloseBtn=function(){a.SoundMgr.playEffectByUrl(a.SoundConst.UIButton),i.UIManager.onCloseUI(),this.node.destroy()},e.prototype.onDestroy=function(){this.myRankModel=null,this.worldData=null},e.prototype.onWorldBtn=function(){1==this.flag&&(this.flag=2,a.SoundMgr.playEffectByUrl(a.SoundConst.UIButton),this.worldSpr.spriteFrame=this.tab_2,this.friendsSpr.spriteFrame=this.tab_1,this.friendsLab.node.color=cc.color(249,247,201),this.worldLab.node.color=cc.color(255,255,255),this.worldRank.active=!0,this.opendata.active=!1,wx.getOpenDataContext().postMessage({message:{type:5}}))},e.prototype.onFriends=function(){if(2==this.flag)if(this.flag=1,a.SoundMgr.playEffectByUrl(a.SoundConst.UIButton),this.worldSpr.spriteFrame=this.tab_1,this.friendsSpr.spriteFrame=this.tab_2,this.friendsLab.node.color=cc.color(255,255,255),this.worldLab.node.color=cc.color(249,247,201),this.worldRank.active=!1,this.opendata.active=!0,console.log("\u53d1\u9001\u5f00\u9632\u5fa1\u6570\u636e"),n.default.isWxPlatform&&!this.isSendOpendata){this.isSendOpendata=!0;var t={type:1};wx.getOpenDataContext().postMessage({message:t})}else t={type:4},wx.getOpenDataContext().postMessage({message:t})},e.prototype.showWorldRank=function(){this.worldData.length>0&&this.scrollHelp.setData(this.worldData),this.myRankItem.upadteItem(this.myRankModel)},__decorate([p(cc.Node)],e.prototype,"opendata",void 0),__decorate([p(cc.Node)],e.prototype,"bgNode",void 0),__decorate([p(cc.Sprite)],e.prototype,"friendsSpr",void 0),__decorate([p(cc.Sprite)],e.prototype,"worldSpr",void 0),__decorate([p(cc.SpriteFrame)],e.prototype,"tab_1",void 0),__decorate([p(cc.SpriteFrame)],e.prototype,"tab_2",void 0),__decorate([p(cc.Node)],e.prototype,"rankScrollviewNode",void 0),__decorate([p(cc.Node)],e.prototype,"worldRank",void 0),__decorate([p(l.default)],e.prototype,"scrollHelp",void 0),__decorate([p(u.default)],e.prototype,"myRankItem",void 0),__decorate([p(cc.Label)],e.prototype,"worldLab",void 0),__decorate([p(cc.Label)],e.prototype,"friendsLab",void 0),__decorate([h],e)}(cc.Component);o.default=f;var g=function(){function t(t){void 0===t&&(t=null),this.isMyslef=!1,t&&(this.rank=t.rank,this.headImgUrl=t.headImgUrl,this.score=t.score,this.userId=t.userId,this.nickName=t.nickName,this.userId==c.DataMgr.userData.userId&&(this.isMyslef=!0))}return t.prototype.initMyRank=function(){var t=c.DataMgr.userData;this.rank=-1,this.headImgUrl=t.headImgUrl,this.score=c.DataMgr.maxScore,this.userId=t.userId,this.isMyslef=!0,this.nickName=t.nickName},t}();o.RankModel=g,cc._RF.pop()},{DataManage:"DataManage",HttpUtils:"HttpUtils",RankItem:"RankItem",SoundManager:"SoundManager",TableView:"TableView",UIManager:"UIManager",Utils:"Utils",WXApi:"WXApi"}],ResManage:[function(t,e,o){"use strict";cc._RF.push(e,"065170by9xDrbluQc1dwyIE","ResManage");var n=t("PrefabManger"),r=function(){function t(){this.prefabUrl="prefab/",this.uiUrl="ui/",this.jsonUrl="json/",this.buildmodel="buildmodel/",this.buildView="buildView/",this.mainui="mainui/",this.fontUrl="font/",this.dragonList=[],this.prefabList=[]}return t.prototype.startAnysnRes=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.dragonList=["radish_5","radish_6","radish_7","radish_8"],this.prefabList=n.PrefabMgr.getAsyncrefabNames(),[4,this.loadDragon()];case 1:return t.sent(),[4,this.loadPrefab()];case 2:return t.sent(),[2]}})})},t.prototype.loadDragon=function(){return __awaiter(this,void 0,void 0,function(){var t,e,o,n;return __generator(this,function(r){switch(r.label){case 0:t=this.dragonList.length,e=0,r.label=1;case 1:return e<t?(o="dragon_anim/"+this.dragonList[e]+"_ske",[4,cc.loader.loadResAwait(o)]):[3,5];case 2:return r.sent(),n="dragon_anim/"+this.dragonList[e]+"_tex",[4,cc.loader.loadResAwait(n)];case 3:r.sent(),r.label=4;case 4:return e++,[3,1];case 5:return[2]}})})},t.prototype.loadPrefab=function(){return __awaiter(this,void 0,void 0,function(){var t,e,o;return __generator(this,function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return t<this.prefabList.length?(e="prefab/"+this.prefabList[t],[4,cc.loader.loadResAwait(e)]):[3,4];case 2:o=r.sent(),n.PrefabMgr.addPrefabByName(this.prefabList[t],o),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},t.prototype.loadJsonRes=function(t,e){cc.loader.loadRes(this.jsonUrl+t,function(o,n){o||e(t,n.json)})},t.prototype.loadPrefabRes=function(t,e){cc.loader.loadRes(t,cc.Prefab,function(t,o){t?cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25, \u539f\u56e0:"+t):o&&e(o)})},t.prototype.loadFontRes=function(t,e){cc.loader.loadRes(this.fontUrl+t,cc.Font,function(o,n){o?cc.log("\u8f7d\u5165\u5b57\u4f53\u8d44\u6e90\u5931\u8d25, \u539f\u56e0:"+t+"==="+o):n&&e(n)})},t.prototype.setSpriteImg=function(t,e){t.spriteFrame=e},t.prototype.setImgByName=function(t,e){var o=this;cc.loader.loadRes(this.uiUrl+t,cc.SpriteFrame,function(t,n){t?cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25, \u539f\u56e0:"+t):e&&e.isValid&&o.setSpriteImg(e,n)})},t.prototype.setComSpriteImgByName=function(t,e){cc.loader.loadRes("ui/com/com",cc.SpriteAtlas,function(o,n){o?cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25, \u539f\u56e0:"+o):e&&e.isValid&&(e.spriteFrame=n.getSpriteFrame(t))})},t.prototype.loadAudioRes=function(t,e,o){cc.loader.loadRes(t,cc.AudioClip,function(t,n){t?cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25, \u539f\u56e0:"+t):o(n,e)})},t}();o.default=r,o.ResMgr=new r,cc._RF.pop()},{PrefabManger:"PrefabManger"}],RewardNode:[function(t,e,o){"use strict";cc._RF.push(e,"646d7NSYSBCk6OmTQGL2dGC","RewardNode");var n=t("EffectUtils"),r=t("Utils"),i=t("SoundManager"),a=t("GameConst"),s=t("MonsterManager"),c=cc._decorator,u=c.ccclass,l=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numLab=null,e.baoshi=null,e.bgNode=null,e.bombNode=null,e.baoshiNode=null,e.bombFont=null,e.rewardNode=null,e}return __extends(e,t),e.prototype.onLoad=function(){r.default.setBgSpr(this.bgNode),this.bgNode.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.initData=function(t,e){this.type=t,1==t?(this.baoshiNode.active=!0,this.num=e,this.numLab.string="x"+e):2==t&&(this.bombNode.active=!0,this.bombFont.active=!0)},e.prototype.onTouchEnd=function(){var t=this;if(this.bgNode.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd),1==this.type){var e=this.baoshi.convertToWorldSpaceAR(cc.Vec2.ZERO);n.EffectUtils.creatorBaoShiAnim(e),this.node.destroy()}else{this.bgNode.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.rewardNode.active=!1;var o=cc.moveTo(.5,new cc.Vec2(288,-580)),r=cc.scaleTo(.5,0),c=cc.callFunc(function(){a.GameConst.currScene==a.SceneConst.game&&s.default.instance.refreshBomb(),i.SoundMgr.playEffectByUrl(i.SoundConst.GameOve),t.node.destroy()});this.bombNode.runAction(cc.sequence(cc.spawn(o,r),c))}},__decorate([l(cc.Label)],e.prototype,"numLab",void 0),__decorate([l(cc.Node)],e.prototype,"baoshi",void 0),__decorate([l(cc.Node)],e.prototype,"bgNode",void 0),__decorate([l(cc.Node)],e.prototype,"bombNode",void 0),__decorate([l(cc.Node)],e.prototype,"baoshiNode",void 0),__decorate([l(cc.Node)],e.prototype,"bombFont",void 0),__decorate([l(cc.Node)],e.prototype,"rewardNode",void 0),__decorate([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{EffectUtils:"EffectUtils",GameConst:"GameConst",MonsterManager:"MonsterManager",SoundManager:"SoundManager",Utils:"Utils"}],ScrollHelper:[function(t,e,o){"use strict";var n;cc._RF.push(e,"8f657Fd6B5PxZoRtsjj79Xz","ScrollHelper");var r=t("RankItem");(function(t){t[t.Vertical=0]="Vertical",t[t.Horizon=1]="Horizon"})(n=o.ScrollDirEnum||(o.ScrollDirEnum={}));var i=cc._decorator,a=i.ccclass,s=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.Scroll=null,e.content=null,e.maskNode=null,e.dir=0,e.scrollDir=n.Vertical,e.distance=120,e.needSize=0,e.visibleHeight=0,e.itemsHeight=0,e.OnScrollFun=null,e.minY=0,e.maxY=0,e.minVisibleY=0,e.maxVisibleY=0,e.initX=e.distance/2,e.initY=-e.distance/2,e.itemsList=new Array,e.miniIdx=0,e.maxIdx=0,e.curOffset=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"ScrollDir",{get:function(){return this.scrollDir},set:function(t){this.scrollDir=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Num",{get:function(){return this.num},set:function(t){this.num=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ItemNum",{get:function(){return this.itemNum},set:function(t){this.itemNum=t},enumerable:!0,configurable:!0}),e.prototype.start=function(){},e.prototype.initData=function(t){this.rankModels=t,this.num=t.length,this.itemNum=7,this.num<this.itemNum&&(this.itemNum=this.num),this.scrollDir=this.dir,this.Init(this.itemNum)},e.prototype.Init=function(t){var e=new cc.Component.EventHandler;e.target=this.node,e.component="ScrollHelper",e.handler="OnScroll",this.Scroll.scrollEvents.push(e),this.needSize=this.num*this.distance,this.scrollDir==n.Horizon?(this.initX=this.distance/2,this.initY=0,this.content.setContentSize(new cc.Size(this.needSize,this.content.getContentSize().height))):(this.initX=0,this.initY=-this.distance/2,this.content.setContentSize(new cc.Size(this.content.getContentSize().width,this.needSize))),this.visibleHeight=this.maskNode.getContentSize().height,this.InitObjs()},e.prototype.InitObjs=function(){for(var t=0,e=0,o=0;o<this.itemNum;o++){var r=cc.instantiate(this.item);r.parent=this.content,r.active=!0,this.scrollDir==n.Horizon?t=this.initX+this.distance*o:e=this.initY-this.distance*o,r.x=t,r.y=e,this.onRefresh(r,o,o),this.itemsList.push(r)}},e.prototype.countBorder=function(t){var e=this.visibleHeight;this.minY=t,this.maxY=t+e},e.prototype.OnScroll=function(){var t,e=this.Scroll.getScrollOffset();t=this.scrollDir==n.Horizon?-e.x:e.y,this.curOffset=t,this.refresh()},e.prototype.refresh=function(){var t=this.curOffset,e=this.needSize;if(!(t<0||t+this.visibleHeight>=e)){var o=0;this.countBorder(t),this.miniIdx=Math.floor(t/this.distance),this.minVisibleY=this.miniIdx*this.distance,this.maxVisibleY=this.maxIdx*this.distance;for(var n=0;n<this.itemNum;n++){var r=this.itemsList[n];o=this.miniIdx+n,this.refreshItem(o,n,r)}this.maxIdx=this.miniIdx+this.itemNum}},e.prototype.refreshItem=function(t,e,o){if(!(t<0||t>=this.num))if(null!=o){var r=0,i=0;this.scrollDir==n.Horizon?r=this.initX+this.distance*t:i=this.initY-this.distance*t,o.x=r,o.y=i,this.onRefresh(o,t,e)}else console.error("obj\u4e3a\u7a7a\uff01")},e.prototype.onRefresh=function(t,e,o){t.getComponent(r.default).initData(this.rankModels[e]),this.OnScrollFun&&this.OnScrollFun(t,e,o)},e.prototype.onDestroy=function(){this.itemsList=null,this.rankModels=null},__decorate([s(cc.Prefab)],e.prototype,"item",void 0),__decorate([s(cc.ScrollView)],e.prototype,"Scroll",void 0),__decorate([s(cc.Node)],e.prototype,"content",void 0),__decorate([s(cc.Node)],e.prototype,"maskNode",void 0),__decorate([s(cc.Integer)],e.prototype,"dir",void 0),__decorate([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{RankItem:"RankItem"}],SetUpNode:[function(t,e,o){"use strict";cc._RF.push(e,"fb87c6DmDdF/KVZfqh3FZtE","SetUpNode");var n=t("DataManage"),r=t("ResManage"),i=t("SoundManager"),a=t("Utils"),s=t("UIManager"),c=t("GameConst"),u=cc._decorator,l=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.yinyueSpr=null,e.yinxiaoSpr=null,e.bgNode=null,e.yinyueNode=null,e.yinxiaoNode=null,e.idNode=null,e.idLab=null,e.flag_1=null,e.flag_2=null,e}return __extends(e,t),e.prototype.onLoad=function(){a.default.setBgSpr(this.bgNode)},e.prototype.start=function(){c.GameConst.isLogin&&n.DataMgr.userData?this.idLab.string=n.DataMgr.userData.userId+"":this.idLab.string="\u672a\u6388\u6743",n.DataMgr.isMusic?(r.ResMgr.setComSpriteImgByName("seting_lv",this.yinyueSpr),this.flag_1.x=-37):(r.ResMgr.setComSpriteImgByName("steing_hui",this.yinyueSpr),this.flag_1.x=37),n.DataMgr.isSound?(r.ResMgr.setComSpriteImgByName("seting_lv",this.yinxiaoSpr),this.flag_2.x=-37):(r.ResMgr.setComSpriteImgByName("steing_hui",this.yinxiaoSpr),this.flag_2.x=37)},e.prototype.onClose=function(){i.SoundMgr.playEffectByUrl(i.SoundConst.DialogOpen),s.UIManager.onCloseUI(),this.node.destroy()},e.prototype.onYinYueBtn=function(){n.DataMgr.isMusic=!n.DataMgr.isMusic,n.DataMgr.isMusic?(this.flag_1.x=-37,r.ResMgr.setComSpriteImgByName("seting_lv",this.yinyueSpr),i.SoundMgr.playMusicByUrl(i.SoundConst.bgm)):(r.ResMgr.setComSpriteImgByName("steing_hui",this.yinyueSpr),i.SoundMgr.stopMusic(),this.flag_1.x=37)},e.prototype.onYinXiaoBtn=function(){n.DataMgr.isSound=!n.DataMgr.isSound,n.DataMgr.isSound?(this.flag_2.x=-37,r.ResMgr.setComSpriteImgByName("seting_lv",this.yinxiaoSpr),i.SoundMgr.playEffectByUrl(i.SoundConst.UIButton)):(this.flag_2.x=37,r.ResMgr.setComSpriteImgByName("steing_hui",this.yinxiaoSpr))},__decorate([d(cc.Sprite)],e.prototype,"yinyueSpr",void 0),__decorate([d(cc.Sprite)],e.prototype,"yinxiaoSpr",void 0),__decorate([d(cc.Node)],e.prototype,"bgNode",void 0),__decorate([d(cc.Node)],e.prototype,"yinyueNode",void 0),__decorate([d(cc.Node)],e.prototype,"yinxiaoNode",void 0),__decorate([d(cc.Node)],e.prototype,"idNode",void 0),__decorate([d(cc.Label)],e.prototype,"idLab",void 0),__decorate([d(cc.Node)],e.prototype,"flag_1",void 0),__decorate([d(cc.Node)],e.prototype,"flag_2",void 0),__decorate([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{DataManage:"DataManage",GameConst:"GameConst",ResManage:"ResManage",SoundManager:"SoundManager",UIManager:"UIManager",Utils:"Utils"}],SkillNode:[function(t,e,o){"use strict";cc._RF.push(e,"eb83b49o6VHrauD2Dvafscx","SkillNode");var n=t("Utils"),r=t("TypeUtils"),i=t("MonsterManager"),a=t("DataManage"),s=t("SoundManager"),c=t("UIManager"),u=cc._decorator,l=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=3,e.dragonBones=null,e.priceLab=null,e.tipNode=null,e.isMove=!1,e.isTouch=!0,e.flag=!1,e.price=30,e}return __extends(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.isGuide=a.DataMgr.getGuideByType(this.type),this.tipNode.active=!this.isGuide},e.prototype.start=function(){this.setIdleTimer(),this.isCanIdle=!0},e.prototype.setIdleTimer=function(){var t=this;this.timer=n.default.getRandom(3,15),this.scheduleOnce(function(){t.isCanIdle&&t.node.active&&t.dragonBones.playAnimation(r.AnimTag.idle,2),t.setIdleTimer()},this.timer)},e.prototype.onTouch=function(t){i.default.instance.currTouchTarget||i.default.instance.isOpenJD||(i.default.instance.currTouchTarget=t.currentTarget,this.isMove=!1)},e.prototype.onTouchMove=function(t){if(i.default.instance.currTouchTarget===t.currentTarget&&!this.isMove){var e=t.getDeltaX(),o=t.getDeltaY();(Math.abs(e)>5||Math.abs(o)>5)&&(this.isMove=!0)}},e.prototype.onTouchEnd=function(t){var e=this;if(i.default.instance.currTouchTarget===t.currentTarget&&(i.default.instance.currTouchTarget=null,this.isTouch&&!this.isMove&&this.isTouch)){if(a.DataMgr.getDiamondNum()<this.price)return c.UIManager.showWelaiUI(),c.UIManager.showComTis("\u5b9d\u77f3\u4e0d\u8db3"),void s.SoundMgr.playEffectByUrl(s.SoundConst.UIButton);if(!this.isGuide)return c.UIManager.showGuideTips(this.type),this.tipNode.active=!1,void(this.isGuide=!0);if(3==this.type){var o=this.dragonBones.playAnimation(r.AnimTag.shadow_off,1).totalTime;this.isTouch=!1,this.isCanIdle=!1,this.scheduleOnce(function(){e.isTouch=!0,e.isCanIdle=!0},o);var n=this.node.convertToWorldSpaceAR(new cc.Vec2(0,20));i.default.instance.useLJT(n)}else 2!=this.type||i.default.instance.isOpenJD||(t.stopPropagation(),s.SoundMgr.playEffectByUrl(s.SoundConst.UIButton),this.flag?this.offJDAnim():this.onJDAnim())}},e.prototype.onTouchCancel=function(){},e.prototype.offJDAnim=function(){var t=this,e=this.dragonBones.playAnimation(r.AnimTag.shadow_on,1).totalTime;this.scheduleOnce(function(){t.flag=!1,t.isCanIdle=!0,t.dragonBones.playAnimation(r.AnimTag.idle,1)},e),i.default.instance.closeJD()},e.prototype.onJDAnim=function(){this.flag=!0,this.isCanIdle=!1,this.dragonBones.playAnimation(r.AnimTag.shadow_off,1),i.default.instance.openJD()},e.prototype.setPriceLab=function(t){this.priceLab.string=t+"",this.price=t},__decorate([d(cc.Integer)],e.prototype,"type",void 0),__decorate([d(dragonBones.ArmatureDisplay)],e.prototype,"dragonBones",void 0),__decorate([d(cc.Label)],e.prototype,"priceLab",void 0),__decorate([d(cc.Node)],e.prototype,"tipNode",void 0),__decorate([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{DataManage:"DataManage",MonsterManager:"MonsterManager",SoundManager:"SoundManager",TypeUtils:"TypeUtils",UIManager:"UIManager",Utils:"Utils"}],SoundManager:[function(t,e,o){"use strict";cc._RF.push(e,"d2433BTJwVDYYu8ojwtosz+","SoundManager");var n=t("ResManage"),r=t("DataManage"),i=function(){function t(){this.isPlayMusic=!0,this.isPlayEffect=!0,this.isLoad=!1,this.url="sound/"}return t.prototype.getLoadLen=function(){},t.prototype.loadMp3=function(){},t.prototype.playMusicByUrl=function(t,e){void 0===e&&(e=!0);var o=this.url+t;r.DataMgr.isMusic&&n.ResMgr.loadAudioRes(o,e,this.playMusicByUrlCall)},t.prototype.playMusicByUrlCall=function(t,e){void 0===e&&(e=!0),cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(t,e)},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic(),cc.sys.localStorage.setItem("musicClose",0)},t.prototype.playEffectByUrl=function(t,e){void 0===e&&(e=!1),r.DataMgr.isSound&&n.ResMgr.loadAudioRes(this.url+t,e,this.playEffectByUrlCall)},t.prototype.playEffectByUrlCall=function(t,e){cc.audioEngine.playEffect(t,e)},t.prototype.stopEffectById=function(t){cc.audioEngine.stopEffect(t)},t.prototype.stopAllEffects=function(){cc.audioEngine.stopAllEffects()},t.prototype.setVolume=function(t){cc.audioEngine.setMusicVolume(t),cc.audioEngine.setEffectsVolume(t)},t.prototype.getVolume=function(){return cc.audioEngine.getMusicVolume()},t.prototype.setEffectClose=function(t){t?cc.sys.localStorage.setItem("effectClose",0):cc.sys.localStorage.setItem("effectClose",1)},t}();o.SoundMgr=new i,function(t){t.bgm="music",t.getinto="getinto",t.UIButton="UIButton",t.WrongDrop="WrongDrop",t.Drop="Drop",t.ljt="ljt",t.jiandao="jiandao",t.Guodong="Guodong",t.Merge="Merge",t.MSpawn="MSpawn",t.GameOve="GameOve",t.baozha="baozha",t.addCoin="addCoin",t.DialogOpen="DialogOpen",t.born="born",t.xuanzhuan="xuanzhuan"}(o.SoundConst||(o.SoundConst={})),cc._RF.pop()},{DataManage:"DataManage",ResManage:"ResManage"}],StringUtils:[function(t,e,o){"use strict";cc._RF.push(e,"fbb33GChVxJE5UjMElcCIcj","StringUtils");var n=function(){function t(){}return t.prototype.formatStr=function(t,e){for(var o=0;o<e.length;o++)t=t.replace(new RegExp("\\{"+o+"\\}","g"),e[o]);return t},t}();o.StrUtils=new n,cc._RF.pop()},{}],TableView:[function(t,e,o){"use strict";cc._RF.push(e,"65cebRf6itNLof3pDuxytu7","TableView");var n=cc._decorator,r=n.ccclass,i=n.property,a=n.menu,s=n.requireComponent,c=n.disallowMultiple,u=n.executionOrder,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.template=null,e.marginTop=0,e.marginBottom=0,e.margin=0,e.testNum=0,e.itemAction=!1,e.itemName="",e.itemHeight=0,e.list=[],e.firstIndex=0,e.firstIndexMax=0,e.data=[],e}return __extends(e,t),e.prototype.onLoad=function(){this.scrollView=this.node.getComponent(cc.ScrollView);var t=new cc.Component.EventHandler;t.target=this.node,t.component="TableView",t.handler="onScrollEvent",t.customEventData="",this.scrollView.scrollEvents.push(t);var e=cc.instantiate(this.template);e.active=!1,this.itemHeight=e.getContentSize().height;for(var o=this.itemHeight/2,n=this.scrollView.node.getContentSize(),r=this.scrollView.content,i=this.marginTop;!(i>n.height);){var a=cc.instantiate(e);a.x=0,a.y=-i-o,a.setParent(r),this.list.push(a),i+=this.itemHeight+this.margin}e.x=0,e.y=-i-o,e.setParent(r),this.list.push(e);var s=this;if(this.scheduleOnce(function(){s._adjustList()},.1),this.testNum>0){for(var c=[],u=0;u<this.testNum;u++)c.push(u+1);this.setData(c)}},e.prototype._adjustList=function(){for(var t=this.scrollView.node.getContentSize(),e=this.scrollView.content,o=this.itemHeight/2,n=this.marginTop+(this.itemHeight+this.margin)*this.list.length-this.margin;n<t.height+this.itemHeight;){var r=cc.instantiate(this.template);if(r.active=!1,r.x=0,r.y=-n-o,r.setParent(e),this.list.push(r),n+=this.itemHeight+this.margin,this.data.length>=this.list.length){var i=this.list.length-1,a=this.list[i];a.active=!0,this.updateItem(a,i)}}if(this.data.length>0){var s=Math.ceil((t.height-this.marginTop-this.marginBottom+this.margin)/(this.itemHeight+this.margin));this.firstIndexMax=this.data.length-s-1}},e.prototype.setData=function(t){var e=Math.ceil((this.scrollView.node.getContentSize().height-this.marginTop-this.marginBottom+this.margin)/(this.itemHeight+this.margin));this.firstIndexMax=t.length-e-1,this.data=t.slice(0),this.updateData(),this.itemAction&&this.showAction()},e.prototype.itemRunAction=function(t,e){t.scaleX=0,t.runAction(cc.sequence(cc.delayTime(.05*e),cc.scaleTo(.2+.04*e,1).easing(cc.easeSineOut())))},e.prototype.showAction=function(){var t=this;this.list.forEach(function(e,o){o<t.data.length&&t.itemRunAction(e,o)})},e.prototype.updateData=function(){var t=this;0!=this.list.length&&(this.list.forEach(function(e,o){o<t.data.length?(e.active=!0,t.updateItem(e,o)):e.active=!1}),this.scrollView.content.height=this.marginTop+this.marginBottom+this.itemHeight*this.data.length+this.margin*(this.data.length-1))},e.prototype.updateItem=function(t,e){var o=this.data[e];t.getComponent(this.itemName).upadteItem(o,e)},e.prototype.onScrollEvent=function(t){for(var e=this.scrollView.content,o=this.scrollView.node.getContentSize().height,n=e.y,r=this.itemHeight/2;this.firstIndex>0&&this.list[0].y+this.marginTop+r<-n;){var i=this.list.pop();i.y=this.list[0].y+this.itemHeight+this.margin,this.list.unshift(i),this.firstIndex--,this.updateItem(i,this.firstIndex)}for(;this.firstIndex<this.firstIndexMax&&this.list[this.list.length-1].y-r-this.marginBottom>-n-o;){var a=this.list.shift();a.y=this.list[this.list.length-1].y-this.itemHeight-this.margin,this.list.push(a),this.firstIndex++,this.updateItem(a,this.firstIndex+this.list.length-1)}},__decorate([i(cc.Prefab)],e.prototype,"template",void 0),__decorate([i({type:cc.Integer})],e.prototype,"marginTop",void 0),__decorate([i({type:cc.Integer})],e.prototype,"marginBottom",void 0),__decorate([i({type:cc.Integer})],e.prototype,"margin",void 0),__decorate([i],e.prototype,"testNum",void 0),__decorate([i],e.prototype,"itemAction",void 0),__decorate([i],e.prototype,"itemName",void 0),__decorate([r,a("\u81ea\u5b9a\u4e49/TableView"),s(cc.ScrollView),c,u(-10)],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],TemplateManage:[function(t,e,o){"use strict";cc._RF.push(e,"37bfc99MVxEhbWxCYib77gu","TemplateManage");var n=t("Map"),r=function(){function t(){this.jsonMap=new n.Map}return t.prototype.initJsonData=function(t){for(var e in t)this.jsonMap.add(e,t[e])},t}();o.default=r,o.TempMgr=new r,cc._RF.pop()},{Map:"Map"}],TypeUtils:[function(t,e,o){"use strict";cc._RF.push(e,"e7230Th8eBD/b4/Ot0CDjJ1","TypeUtils"),function(t){t.idle="idle",t.idle2="idle2",t.idle3="idle3",t.merge2="merge2",t.recover="recover",t.born="born",t.delete="delete",t.cut="cut",t.shadow_on="shadow_on",t.shadow_off="shadow_off",t.shake="shake",t.shake2="shake2"}(o.AnimTag||(o.AnimTag={})),cc._RF.pop()},{}],UIManager:[function(t,e,o){"use strict";cc._RF.push(e,"c209aqpnxdORpfnVl6kFuCW","UIManager");var n=t("mainScene"),r=t("PrefabManger"),i=t("SoundManager"),a=t("GiveRewardNode"),s=t("BombTipNode"),c=t("GuideNode"),u=t("ComTipsAnim"),l=t("MainUI"),d=t("WxAuthority"),h=t("GameConst"),p=t("RewardNode"),f=t("DoubleReward"),g=t("FastADAdapter"),m=function(){function t(){}return t.prototype.showComTis=function(t,e){void 0===e&&(e=1),r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.comTipsNode,function(o){var r=cc.instantiate(o);r.parent=n.default.instance.popLayer,r.getComponent(u.default).initData(t,e),r.position=cc.v2(cc.winSize.width/2,cc.winSize.height/2);var i=cc.director.getScene();r.setParent(i)},!0)},t.prototype.showDoubleRewardUI=function(t,e){r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.DoubleReward,function(o){var r=cc.instantiate(o);r.parent=n.default.instance.popLayer,r.position=cc.Vec2.ZERO,r.getComponent(f.default).initData(t,e)},!0)},t.prototype.showGameOverUI=function(){r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.gameOver,function(t){i.SoundMgr.playEffectByUrl(i.SoundConst.GameOve);var e=cc.instantiate(t);e.parent=n.default.instance.popLayer,e.position=cc.Vec2.ZERO,g.fastAd.createInsert()},!0)},t.prototype.showLoginReward=function(){r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.LoginReward,function(t){var e=cc.instantiate(t);e.parent=n.default.instance.popLayer,e.position=cc.Vec2.ZERO},!0)},t.prototype.showPauseUI=function(){r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.pauseNode,function(t){i.SoundMgr.playEffectByUrl(i.SoundConst.DialogOpen);var e=cc.instantiate(t);e.parent=n.default.instance.popLayer,e.position=cc.Vec2.ZERO,g.fastAd.createInsert()},!0)},t.prototype.showsetUpUI=function(){this.showUI(),r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.setUpNode,function(t){i.SoundMgr.playEffectByUrl(i.SoundConst.DialogOpen);var e=cc.instantiate(t);e.parent=n.default.instance.popLayer,e.position=cc.Vec2.ZERO,g.fastAd.createInsert()},!0)},t.prototype.showGiveRewardUI=function(t,e){void 0===e&&(e=1),r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.GiveReward,function(e){i.SoundMgr.playEffectByUrl(i.SoundConst.DialogOpen);var o=cc.instantiate(e);o.getComponent(a.default).initdata(t),o.parent=n.default.instance.tipsLayer,o.position=cc.Vec2.ZERO},!0)},t.prototype.showBombTip=function(t){r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.BombTip,function(e){i.SoundMgr.playEffectByUrl(i.SoundConst.DialogOpen);var o=cc.instantiate(e);o.getComponent(s.default).initData(t),o.parent=n.default.instance.tipsLayer,o.position=cc.Vec2.ZERO},!0)},t.prototype.showGuideTips=function(t,e){void 0===e&&(e=!1),r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.GuideNode,function(o){i.SoundMgr.playEffectByUrl(i.SoundConst.DialogOpen);var r=cc.instantiate(o);r.getComponent(c.default).initData(t,e),r.parent=n.default.instance.tipsLayer,r.position=cc.Vec2.ZERO},!0)},t.prototype.showRankUI=function(){this.showUI(),r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.rankNode,function(t){i.SoundMgr.playEffectByUrl(i.SoundConst.DialogOpen);var e=cc.instantiate(t);e.parent=n.default.instance.tipsLayer,e.position=cc.Vec2.ZERO},!0)},t.prototype.onCloseUI=function(){h.GameConst.currScene==h.SceneConst.mainUi?(l.default.instance.showGameHub(),d.WxAuthority.showBtn(1)):h.GameConst.currScene==h.SceneConst.gameOver&&d.WxAuthority.showBtn(2)},t.prototype.showUI=function(){l.default.instance.hideGameHub(),d.WxAuthority.hideBtn(3)},t.prototype.showWelaiUI=function(){this.showUI(),r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.welfaiNode,function(t){i.SoundMgr.playEffectByUrl(i.SoundConst.DialogOpen);var e=cc.instantiate(t);e.parent=n.default.instance.popLayer,e.position=cc.Vec2.ZERO,g.fastAd.createInsert()},!0)},t.prototype.showRewardUI=function(t,e){r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.rewardNode,function(o){var r=cc.instantiate(o);r.parent=n.default.instance.popLayer,r.getComponent(p.default).initData(t,e),r.position=cc.Vec2.ZERO},!0)},t.prototype.showCollectUI=function(){r.PrefabMgr.getAsyncPrefabByName(r.PrefabConst.collectNode,function(t){var e=cc.instantiate(t);e.parent=n.default.instance.popLayer,e.position=cc.Vec2.ZERO},!0)},t}();o.UIManager=new m,cc._RF.pop()},{BombTipNode:"BombTipNode",ComTipsAnim:"ComTipsAnim",DoubleReward:"DoubleReward",FastADAdapter:"FastADAdapter",GameConst:"GameConst",GiveRewardNode:"GiveRewardNode",GuideNode:"GuideNode",MainUI:"MainUI",PrefabManger:"PrefabManger",RewardNode:"RewardNode",SoundManager:"SoundManager",WxAuthority:"WxAuthority",mainScene:"mainScene"}],UnitUtils:[function(t,e,o){"use strict";cc._RF.push(e,"893b3TV9+RPH5DOwicA8ePo","UnitUtils");var n=function(){};o.default=n,o.UnitUtils=new n,cc._RF.pop()},{}],UserData:[function(t,e,o){"use strict";cc._RF.push(e,"c6e054WuF5BnatyZqoEOjln","UserData");var n=function(){function t(){}return t.prototype.initData=function(t){this.userId=t.userId,this.openId=t.openId,this.headImgUrl=t.headImgUrl,this.gold=t.gold,this.score=t.score,this.nickName=t.nickName},t}();o.default=n,cc._RF.pop()},{}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"476cdI2GbFCabKGztwO7RZO","Utils");var n=function(){function t(){}return t.unique=function(t){for(var e={},o=[],n=t.length,r=0;r<n;r++){var i=t[r],a=_typeof2(i)+i;void 0===e[a]&&(o.push(i),e[a]=1)}return o},t.percentage=function(t,e){return Math.round(t/e*1e4)/100+"%"},t.percentageNum=function(t,e){return Math.round(t/e*1e4)/100},t.getRandom=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.randomeSort=function(t){return t.sort(function(t,e){return Math.random()>.5?-1:1}),t},t.getAngle=function(t,e){var o=t.x,n=e.x,r=t.y,i=e.y,a=Math.abs(n-o),s=Math.abs(i-r);Math.sqrt(Math.pow(a,2)+Math.pow(s,2));var c=Math.atan2(s,a),u=Math.floor(180/(Math.PI/c));return o>n&&r>i&&(u=180-u),o==n&&r>i&&(u=90),o>n&&r==i&&(u=180),o<n&&r==i&&(u=0),o<n&&r<i&&(u=360-u),o>n&&r<i&&(u+=180),u},t.TimePoor=function(t){var e=Date.now()-t,o=Math.floor(e/31104e6);if(o>0)return o+"\u5e74";var n=e%31104e6,r=Math.floor(n/2592e6);if(r>0)return r+"\u6708";var i=n%2592e6,a=Math.floor(i/864e5);if(a>0)return a+"\u5929";var s=i%864e5,c=Math.floor(s/36e5);if(c>0)return c+"\u5c0f\u65f6\u524d";var u=s%36e5,l=Math.floor(u/6e4);return l>0?l+"\u5206\u949f\u524d":"1\u5206\u949f"},t.getFontColor=function(t){var e=16777215;switch(t){case 0:e=14277081;break;case 1:e=126720;break;case 2:e=50943;break;case 3:e=4497663;break;case 4:e=16711914;break;case 5:e=16711770;break;case 6:e=16750080;break;case 7:e=16774912}return e},t.getRandomeBezier=function(t,e){var o,n,r=e.x,i=this.getRandom(e.y,e.y+e.height);o=new cc.Vec2(r,i);var a=e.x/3,s=this.getRandom(e.y,e.y+e.height);n=new cc.Vec2(a,s);var c=2*e.x/3,u=-s;return[t,n,new cc.Vec2(c,u),o]},t.probability=function(t){var e=100*t;return this.getRandom(0,100)<=e},t.getPartnerPosByIndex=function(t){var e=new cc.Vec2,o=1;switch(t){case 0:e.x=18,e.y=20,o=-1;break;case 1:e.x=166,e.y=20,o=-1;break;case 2:e.x=345,e.y=20;break;case 3:e.x=552,e.y=18;break;case 4:e.x=-45,e.y=-159,o=-1;break;case 5:e.x=-54,e.y=-373,o=-1}return{pos:e,face:o}},t.formatSeconds=function(t){var e=t,o=0,n=0;e>60&&(o=Math.ceil(e/60),e=Math.ceil(e%60),o>60&&(n=Math.ceil(o/60),o=Math.ceil(o%60)));var r="";return r+=e<10?"0"+e:e+"",r=o<=0?"0"+o+":"+r:o+":"+r,n<=0?"0"+n+":"+r:n+":"+r},t.formatTimeStampToTime=function(t){var e=function(t){return t<10?"0"+t:t},o=new Date(t);return o.getFullYear()+"-"+(o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1)+"-"+e(o.getDate())+" "+e(o.getHours())+":"+e(o.getMinutes())+":"+e(o.getSeconds())},t.shock=function(t){void 0===t&&(t=!0),cc.sys.platform===cc.sys.WECHAT_GAME&&wx.vibrateShort()},t.subStringByLeng=function(t,e){if(!t)return"";for(var o=0,n="",r=0;r<t.length;r++)if(t.charCodeAt(r)>128?o+=2:o++,n+=t.charAt(r),o>=e)return n+"...";return n},t.getdistance=function(t,e){var o=t.x-e.x,n=t.y-e.y;return Math.sqrt(o*o+n*n)},t.setBgSpr=function(t){cc.view.getFrameSize(),t.width=2e3,t.height=3e3},t.getGameAppId=function(t){var e="wx2542c3707f33be41";switch(t){case 1:e="wx2542c3707f33be41";break;case 2:e="wx17858fcc0c65c09e";break;case 3:e="wx968f8f3411f35e48"}return e},t.isInSameDay=function(t,e){return null==t||null==e||t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},t}();o.default=n,cc._RF.pop()},{}],VivoAD:[function(t,e,o){"use strict";cc._RF.push(e,"ad9d5McjklNtY7TUYQ83uwD","VivoAD");var n=null,r=null,i=null,a=function(){function t(){this.bannerId=1,this.insertId=2,this.videoId=3,this.canShowAD=!1}return t.prototype.allowShowAd=function(){return qg.getSystemInfoSync().platformVersionCode<1031?this.canShowAD=!1:this.canShowAD=!0,this.canShowAD},t.prototype.createBanner=function(t,e){0!=this.allowShowAd()&&(this.bannerId=t,n&&n.destroy(),(n=qg.createBannerAd({posId:this.bannerId,style:{}})).show().then(function(){console.log("banner\u663e\u793a")}).catch(function(t){console.log("bannerAd error ==>",t)}),n.onError(function(t){console.log("banner\u52a0\u8f7d\u5931\u8d25",t)}))},t.prototype.showBanner=function(){n?(n.show(),n.onLoad(function(){console.log("Banner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),n.show()}),n.onError(function(t){console.log(t)})):console.log("\u8bf7\u5148\u8c03\u7528createBanner\u521b\u5efa\u5e7f\u544a")},t.prototype.hideBanner=function(){n?n.hide():console.log("\u8bf7\u5148\u8c03\u7528createBanner\u521b\u5efa\u5e7f\u544a")},t.prototype.createInsert=function(t,e){if(void 0===e&&(e=!0),0!=this.allowShowAd())if(qg.createInterstitialAd){var o=this;o.insertId=t,r?r.show().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a"),e&&o.hideBanner()}).catch(function(t){console.log("insert error ==>",t)}):((r=qg.createInterstitialAd({posId:o.insertId})).show().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a"),e&&o.hideBanner()}).catch(function(t){console.log("insert error ==>",t)}),r.onLoad(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),r.onClose(function(){e&&o.showBanner()}),r.onError(function(t){console.log(t)}))}else console.log("\u4e0d\u652f\u6301\u63d2\u5c4f\u5e7f\u544a ==>",qg.getSystemInfoSync().platformVersionCode)},t.prototype.createVideo=function(t,e,o){if(qg.getSystemInfoSync().platformVersionCode<1041||!qg.createRewardedVideoAd){var n={videoState:0};return n.str=o,n.err="error",void e(n)}this.videoId=t,i||(i=qg.createRewardedVideoAd({posId:this.videoId})),i.load().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),i.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u5931\u8d25",t)})}).catch(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t)}),i.onError(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5f02\u5e38",t);var n={videoState:0};n.str=o,n.err=t,e(n)}),i.onClose(function(t){t&&t.isEnded?(console.log("\u6b63\u5e38\u64ad\u653e\u7ed3\u675f\uff0c\u53ef\u4ee5\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),t.videoState=1):(t.videoState=2,console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1")),e(t)})},t.prototype.createNative=function(t,e){console.log("\u6682\u672a\u652f\u6301\u539f\u751f\u5e7f\u544a\uff0c\u8bf7\u4e0d\u8981\u8c03\u7528")},t}();o.default=a,cc._RF.pop()},{}],WXADBanner:[function(t,e,o){"use strict";cc._RF.push(e,"d9a5fAgomNJgo3rCGbpPnHd","WXADBanner");var n=cc._decorator,r=n.ccclass,i=n.property,a=n.menu,s=n.disallowMultiple,c={},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.downward=!0,e.center=!0,e.left=0,e.width=0,e.height=0,e.key="",e.adunitId="",e.delayTime=0,e}var o;return __extends(e,t),o=e,e.prototype.onLoad=function(){var t=this;this.scheduleOnce(function(){if("undefined"!=typeof wx&&""!=t.adunitId&&""!=t.key){if(!c[t.key]){var e=cc.view.getVisibleSize().width/window.innerWidth,n=cc.view.getVisibleSize().height/window.innerHeight,r=t.node.convertToWorldSpaceAR(cc.v2(0,0));console.log(r,"=====worldPos",n);var i={};i.left=t.left/e,i.width=t.width/e,i.height=t.height/n,t.center&&(i.left=window.innerWidth/2-i.width/2),t.downward?i.top=window.innerHeight-r.y/n:i.top=window.innerHeight-r.y/n-i.height;var a=wx.createBannerAd({adUnitId:t.adunitId,style:i});a.onLoad(function(){console.log("bannerAd.onLoad["+t.key+"] \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),a.onError(function(){console.log("bannerAd.onError["+t.key+"] banner\u51fa\u9519")}),a.onResize(function(e){console.log("bannerAd.onResize res===>width="+e.width+"  hegiht="+e.height),t.center?a.style.left=window.innerWidth/2-e.width/2:a.style.left=e.left,t.downward?a.style.top=window.innerHeight-r.y/n:a.style.top=window.innerHeight-r.y/n-e.height}),c[t.key]=a}o.showBanner(t.key)}},this.delayTime)},e.prototype.onEnable=function(){""!=this.key&&o.showBanner(this.key)},e.prototype.onDisable=function(){""!=this.key&&o.hideBanner(this.key)},e.destoryBanner=function(t){c[t]&&(c[t].destory(),c[t]=null)},e.showBanner=function(t){if(c[t]){var e=c[t].show();e.catch(function(e){console.log("rejected showBanner["+t+"===>"),console.log(e)}),e.then(function(){return console.log("resolved showBanner["+t+"]  Banner\u5e7f\u544a\u663e\u793a")})}else console.log("showBanner\u672a\u627e\u5230\u8be5\u4f4d\u7f6e\u4e0a\u7684banner["+t+"]")},e.hideBanner=function(t){c[t]?c[t].hide():console.log("hideBanner\u672a\u627e\u5230\u8be5\u4f4d\u7f6e\u4e0a\u7684banner["+t+"]")},__decorate([i],e.prototype,"downward",void 0),__decorate([i],e.prototype,"center",void 0),__decorate([i],e.prototype,"left",void 0),__decorate([i],e.prototype,"width",void 0),__decorate([i],e.prototype,"height",void 0),__decorate([i],e.prototype,"key",void 0),__decorate([i],e.prototype,"adunitId",void 0),__decorate([i],e.prototype,"delayTime",void 0),o=__decorate([r,s,a("\u81ea\u5b9a\u4e49/WXADBanner")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],WXADVideo:[function(t,e,o){"use strict";cc._RF.push(e,"25436uC/1xGwp1VcDte70Rd","WXADVideo");var n=cc._decorator,r=n.ccclass;n.property;var i={};function a(t){if(!i[t]){var e=wx.createRewardedVideoAd({adUnitId:t});e.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),e.onError(function(t){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"),console.log(t)}),i[t]=e}return i[t]}var s=function(){function t(){}return t.play=function(t){return new Promise(function(e,o){if("undefined"!=typeof wx&&null!=t&&""!=t){var n=a(t),r=function t(o){n.offClose(t),o&&o.isEnded||void 0===o?e(!0):e(!1)};n.onClose(r),n.load().then(function(){return n.show()}).catch(function(t){n.offClose(r),o(t.errMsg)})}else e(!0)})},__decorate([r],t)}();o.default=s,cc._RF.pop()},{}],WXApi:[function(t,e,o){"use strict";cc._RF.push(e,"161153ZIHJKk7ZmS0cIiOy3","WXApi");var n=t("GameConst"),r=t("InviteConst"),i=t("Extend"),a=!1,s=null;"undefined"!=typeof wx&&(a=!0,s=wx.getSystemInfoSync());var c=0,u=function(){function t(){}return t.start=function(){if(console.log("WXApi  enable ===",t.enable),t.enable){var e=wx.getLaunchOptionsSync();e.query?n.GameConst.shareData=e.query:n.GameConst.shareData={shareId:-1,shareType:-1},e.scene&&(n.GameConst.wxScene=e.scene),wx.setKeepScreenOn({keepScreenOn:!0}),wx.showShareMenu({withShareTicket:!0}),wx.onShow(function(t){var e=(new Date).getTime()-c;Math.floor(e/1e3),t.scene&&(n.GameConst.wxScene=t.scene),console.log("wx.show",t)}),wx.onHide(function(t){c=(new Date).getTime()}),wx.onShareAppMessage(function(){return{title:i.ext.randomElement(r.InviteConfig.InviteTitleSingle),imageUrl:n.GameConst.imgUrl+i.ext.randomElement(r.InviteConfig.icon)}})}},t.backgroundTime=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){wx.onShow(function e(o){wx.offShow(e);var n=(new Date).getTime();t(n-c)})})]})})},t.checkSession=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t,e){wx.checkSession({success:function(){t()},fail:function(){e()},complete:function(){}})})]})})},t.authorize=function(t){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){return[2,new Promise(function(e,o){wx.authorize({scope:t,success:function(t){e(t)},fail:function(t){o(t)}})})]})})},t.getSetting=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t,e){wx.getSetting({success:function(e){t(e)},fail:function(){e()}})})]})})},t.authSettingOfUserInfo=function(){return __awaiter(this,void 0,Promise,function(){var e=this;return __generator(this,function(o){return[2,new Promise(function(o,n){return __awaiter(e,void 0,void 0,function(){var e;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.getSetting()];case 1:return(e=n.sent()).authSetting&&e.authSetting["scope.userInfo"]?o(!0):o(!1),[3,3];case 2:return n.sent(),o(!1),[3,3];case 3:return[2]}})})})]})})},t.login=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t,e){wx.login({success:function(e){t(e)},fail:function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];e.apply(void 0,t)},complete:function(){}})})]})})},t.getUserInfo=function(t,e){return void 0===e&&(e="zh_CN"),__awaiter(this,void 0,Promise,function(){return __generator(this,function(o){return[2,new Promise(function(o,n){wx.getUserInfo({withCredentials:t,lang:e,success:function(t){o(t)},fail:function(t){console.log("\u62d2\u7edd\u6388\u6743"),n(t)}})})]})})},t.shareAppMessage=function(t,e,o){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(n){return[2,new Promise(function(n,r){wx.shareAppMessage({title:t,imageUrl:e,query:o,success:function(t){n(t)},fail:function(t){r(t)}})})]})})},t.updateShareMenu=function(t){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){return[2,new Promise(function(e,o){wx.updateShareMenu({withShareTicket:t,success:function(t){e(t)},fail:function(t){o(t)}})})]})})},t.showShareMenu=function(t){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){return[2,new Promise(function(e,o){wx.showShareMenu({withShareTicket:t,success:function(t){e(t)},fail:function(t){o(t)}})})]})})},t.navigateToMiniProgram=function(t,e,o,n,r){return void 0===r&&(r="develop"),__awaiter(this,void 0,Promise,function(){var i=this;return __generator(this,function(a){return[2,new Promise(function(a,s){i.backGameCommand=n,wx.navigateToMiniProgram({appId:t,path:e,extraData:o,envVersion:r,success:function(t){a(t)},fail:function(t){s(t)}})})]})})},t.previewImage=function(t,e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(o){return[2,new Promise(function(o,n){wx.previewImage({urls:t,current:e,success:function(t){o(t)},fail:function(t){n(t)}})})]})})},t.showLoading=function(t,e){void 0===t&&(t=""),void 0===e&&(e=3e3),wx.showLoading({title:t,mask:!0}),setTimeout(function(){wx.hideLoading()},e)},t.hideLoading=function(){wx.hideLoading()},t.setUserCloudStorage=function(t){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){return[2,new Promise(function(e,o){wx.setUserCloudStorage({KVDataList:t,success:function(t){e(t)},fail:function(t){o(t)}})})]})})},t.removeUserCloudStorage=function(t){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){return[2,new Promise(function(e,o){wx.removeUserCloudStorage({keyList:t,success:function(t){e(t)},fail:function(t){o(t)}})})]})})},t.setMyScoreCloudStorage=function(t,e){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(n){return(o=[]).push({key:t,value:JSON.stringify({score:e,update_time:Math.round(Number(new Date)/1e3)})}),[2,this.setUserCloudStorage(o)]})})},t.enable=a,t.isWxPlatform=a,t.sysInfo=s,t.friendRankKey=null,t.shareImageUrls=[],t.shareTitles=[],t.shareQuery=null,t.shareData=null,t.backGameCommand=null,t}();o.default=u,cc._RF.pop()},{Extend:"Extend",GameConst:"GameConst",InviteConst:"InviteConst"}],WXUtils:[function(t,e,o){"use strict";cc._RF.push(e,"59ee39UbKNIlJBLyVsWymiM","WXUtils");var n=t("Extend"),r=t("InviteConst"),i=t("DataManage"),a=t("WXApi"),s=t("WXADVideo"),c=function(){function t(){this._interstitialAd=null,this._interstitialAdCallBack=null}return t.prototype.wxShare=function(t){if(void 0===t&&(t=null),a.default.isWxPlatform){var e=n.ext.randomElement(r.InviteConfig.InviteTitleSingle),o=i.DataMgr.shareImgUrl+n.ext.randomElement(r.InviteConfig.icon);a.default.shareAppMessage(e,o,""),a.default.backgroundTime().then(function(e){e>2500?t&&t(!0):t&&t(!1)})}else t&&t(!0)},t.prototype.wxVideo=function(t,e){var o=this;void 0===e&&(e=null),a.default.isWxPlatform?s.default.play(t).then(function(t){e(t)}).catch(function(t){console.log("\u6ca1\u6709\u5408\u9002\u7684\u5e7f\u544a  ==",t),o.wxShare(e)}):e(!0)},t.prototype.interstitialAd=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=null),a.default.isWxPlatform&&(console.log("\u5f00\u59cb\u52a0\u8f7d\u63d2\u5c4f\u5e7f\u544a"),this._interstitialAd?t&&(this._interstitialAdCallBack=e,i.DataMgr.screenNum++,this._interstitialAd.show().catch(function(t){console.log("\u63d2\u5c4f\u663e\u793a\u9519\u8bef",t),i.DataMgr.screenNum--})):wx.createInterstitialAd?(this._interstitialAd=wx.createInterstitialAd({adUnitId:"adunit-d50c4439906c6727"}),this._interstitialAd.onLoad(function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._interstitialAd.onError(function(t){console.log("\u63d2\u5c4f \u5e7f\u544a\u9519\u8bef"+t)}),this._interstitialAd.onClose(this.onCloseInterstitialAd.bind(this))):console.log("\u6ca1\u521b\u5efa\u63d2\u5c4f\u5e7f\u544a"))},t.prototype.onCloseInterstitialAd=function(t){this._interstitialAdCallBack&&(this._interstitialAdCallBack(),this._interstitialAdCallBack=null)},t.prototype.setOpenData=function(t){if(a.default.isWxPlatform){var e={wxgame:{score:t,update_time:Date.now()}},o=JSON.stringify(e);window.wx.setUserCloudStorage({KVDataList:[{key:"score",value:""+t},{key:"newrank",value:o}],success:function(t){},fail:function(t){},complete:function(t){}})}},t}();o.WXUtils=new c,cc._RF.pop()},{DataManage:"DataManage",Extend:"Extend",InviteConst:"InviteConst",WXADVideo:"WXADVideo",WXApi:"WXApi"}],WelfaItem:[function(t,e,o){"use strict";cc._RF.push(e,"c003ayjOE1H5L9n8EAMUZfW","WelfaItem");var n=t("ResManage"),r=t("DataManage"),i=t("GameConst"),a=t("Utils"),s=t("WXUtils"),c=t("UIManager"),u=t("SoundManager"),l=t("OPPOApi"),d=t("FastADAdapter"),h=cc._decorator,p=h.ccclass,f=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numLab=null,e.timerLab=null,e.tagSpr=null,e.fontSpr=null,e.textSpr=null,e.btnNode=null,e.btnSpr=null,e.timerNode=null,e.lastCont=0,e.lastTimer=0,e.isTouch=!0,e.isCanReward=!1,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.initType=function(t){switch(this.type=t,n.ResMgr.setImgByName("fuli/fuli_font_"+this.type,this.textSpr),t){case 0:n.ResMgr.setImgByName("fuli/guanggao",this.tagSpr),n.ResMgr.setImgByName("fuli/guanggao_font",this.fontSpr),this.lastCont=i.RewardNumConst.advertNum-r.DataMgr.welfareAdvertNum,this.lastCont>0?this.lastTimer=i.RewardTimerSpace.advertTimer-Math.ceil((Date.now()-r.DataMgr.welfareAdvertTimer)/1e3):this.lastTimer=0;break;case 1:n.ResMgr.setImgByName("fuli/fulifenxiang",this.tagSpr),n.ResMgr.setImgByName("fuli/fenxiang_font",this.fontSpr),this.lastCont=i.RewardNumConst.shareNum-r.DataMgr.welfareShareNum,this.lastCont>0?this.lastTimer=i.RewardTimerSpace.shareTimer-Math.ceil((Date.now()-r.DataMgr.welfareShareTimer)/1e3):this.lastTimer=0;break;case 2:n.ResMgr.setImgByName("fuli/shouchang",this.tagSpr),this.textSpr.node.y-=10,this.timerNode.active=!1,r.DataMgr.isCanReceiveCollect()?n.ResMgr.setImgByName("fuli/fuli_lingqu_font",this.fontSpr):n.ResMgr.setImgByName("fuli/shoucang_font",this.fontSpr),r.DataMgr.getIsReceiveCollect()?this.lastCont=0:this.lastCont=1;break;case 3:n.ResMgr.setImgByName("fuli/fuli_bomb",this.tagSpr),n.ResMgr.setImgByName("fuli/guanggao_font",this.fontSpr),this.lastCont=i.RewardNumConst.bombNum-r.DataMgr.welfareAddBombNum,this.lastCont>0?this.lastTimer=i.RewardTimerSpace.bombTimer-Math.ceil((Date.now()-r.DataMgr.welfareBombTimer)/1e3):this.lastTimer=0}this.lastCont=this.lastCont<=0?0:this.lastCont,this.numLab.string=""+this.lastCont,this.lastTimer>0?(this.timerLab.string=a.default.formatSeconds(this.lastTimer),this.schedule(this.timerCallBack.bind(this),1,this.lastTimer),n.ResMgr.setImgByName("fuli/fulihuibtn",this.btnSpr),this.isCanReward=!1):(this.timerLab.string="00:00:00",this.lastCont>0?this.isCanReward=!0:(n.ResMgr.setImgByName("fuli/fulihuibtn",this.btnSpr),this.isCanReward=!1))},e.prototype.onBtn=function(){u.SoundMgr.playEffectByUrl(u.SoundConst.UIButton),this.isCanReward?0==this.type||3==this.type?this.advert():1==this.type?this.share():2==this.type&&(r.DataMgr.isCanReceiveCollect()?(r.DataMgr.setIsReceiveCollect(!0),r.DataMgr.addDiamondNum(60),c.UIManager.showRewardUI(1,60),this.refresh()):r.DataMgr.getIsReceiveCollect()?c.UIManager.showComTis("\u4eca\u5929\u5df2\u7ecf\u9886\u53d6\u8fc7\u4e86\uff0c\u660e\u5929\u5728\u6765\u5427\uff01"):c.UIManager.showCollectUI()):this.lastCont>0?c.UIManager.showComTis("\u8fd8\u6ca1\u5230\u65f6\u95f4\u54e6\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff01"):c.UIManager.showComTis("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c\u4e86\u54e6\uff0c\u8bf7\u660e\u5929\u518d\u6765\uff01")},e.prototype.share=function(){var t=this;this.isTouch&&(this.isTouch=!1,s.WXUtils.wxShare(function(e){t.isTouch=!0,e&&(r.DataMgr.welfareShareNum++,r.DataMgr.welfareShareTimer=Date.now(),r.DataMgr.addDiamondNum(30),c.UIManager.showRewardUI(1,30),t.refresh())}))},e.prototype.advert=function(){var t=this;if(this.isTouch){this.isTouch=!1;var e="";0==this.type?e=i.WxVideoId.welfaBaoshi:3==this.type&&(e=i.WxVideoId.welfaBomb);var o=this;l.default.enable?d.fastAd.createVideo(function(e){if(t.isTouch=!0,1==e.videoState){if(0==o.type){r.DataMgr.welfareAdvertNum++,r.DataMgr.welfareAdvertTimer=Date.now();var n=a.default.getRandom(30,60);r.DataMgr.addDiamondNum(n),c.UIManager.showRewardUI(1,n)}else 3==o.type&&(r.DataMgr.welfareBombNum++,r.DataMgr.welfareAddBombNum++,r.DataMgr.welfareBombTimer=Date.now(),c.UIManager.showRewardUI(2,1));o.refresh()}else c.UIManager.showComTis("\u5e7f\u544a\u64ad\u653e\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u6216\u8005\u91cd\u8bd5")},"\u798f\u5229\u9762\u677f"):s.WXUtils.wxVideo(e,function(e){if(t.isTouch=!0,e){if(0==o.type){r.DataMgr.welfareAdvertNum++,r.DataMgr.welfareAdvertTimer=Date.now();var n=a.default.getRandom(30,60);r.DataMgr.addDiamondNum(n),c.UIManager.showRewardUI(1,n)}else 3==o.type&&(r.DataMgr.welfareBombNum++,r.DataMgr.welfareAddBombNum++,r.DataMgr.welfareBombTimer=Date.now(),c.UIManager.showRewardUI(2,1));o.refresh()}})}},e.prototype.refresh=function(){switch(this.type){case 0:this.lastCont=i.RewardNumConst.advertNum-r.DataMgr.welfareAdvertNum,this.lastCont>0?this.lastTimer=i.RewardTimerSpace.advertTimer-Math.ceil((Date.now()-r.DataMgr.welfareAdvertTimer)/1e3):this.lastTimer=0;break;case 1:this.lastCont=i.RewardNumConst.shareNum-r.DataMgr.welfareShareNum,this.lastCont>0?this.lastTimer=i.RewardTimerSpace.shareTimer-Math.ceil((Date.now()-r.DataMgr.welfareShareTimer)/1e3):this.lastTimer=0;break;case 2:r.DataMgr.isCanReceiveCollect()?n.ResMgr.setImgByName("fuli/fuli_lingqu_font",this.fontSpr):n.ResMgr.setImgByName("fuli/shoucang_font",this.fontSpr),r.DataMgr.getIsReceiveCollect()?this.lastCont=0:this.lastCont=1;break;case 3:this.lastCont=i.RewardNumConst.bombNum-r.DataMgr.welfareAddBombNum,this.lastCont>0?this.lastTimer=i.RewardTimerSpace.bombTimer-Math.ceil((Date.now()-r.DataMgr.welfareBombTimer)/1e3):this.lastTimer=0}this.lastCont=this.lastCont<=0?0:this.lastCont,this.numLab.string=""+this.lastCont,this.lastTimer>0?(this.timerLab.string=a.default.formatSeconds(this.lastTimer),this.schedule(this.timerCallBack.bind(this),1,this.lastTimer),n.ResMgr.setImgByName("fuli/fulihuibtn",this.btnSpr),this.isCanReward=!1):(this.timerLab.string="00:00:00",this.lastCont>0?this.isCanReward=!0:(n.ResMgr.setImgByName("fuli/fulihuibtn",this.btnSpr),this.isCanReward=!1))},e.prototype.timerCallBack=function(){this.lastTimer--,this.lastTimer<=0?(this.unscheduleAllCallbacks(),this.timerLab.string="00:00:00",i.RewardNumConst.shareNum-r.DataMgr.welfareShareNum>0&&(n.ResMgr.setImgByName("fuli/fulilanbtn",this.btnSpr),this.isCanReward=!0)):this.timerLab.string=a.default.formatSeconds(this.lastTimer)},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},__decorate([f(cc.Label)],e.prototype,"numLab",void 0),__decorate([f(cc.Label)],e.prototype,"timerLab",void 0),__decorate([f(cc.Sprite)],e.prototype,"tagSpr",void 0),__decorate([f(cc.Sprite)],e.prototype,"fontSpr",void 0),__decorate([f(cc.Sprite)],e.prototype,"textSpr",void 0),__decorate([f(cc.Node)],e.prototype,"btnNode",void 0),__decorate([f(cc.Sprite)],e.prototype,"btnSpr",void 0),__decorate([f(cc.Node)],e.prototype,"timerNode",void 0),__decorate([p],e)}(cc.Component);o.default=g,cc._RF.pop()},{DataManage:"DataManage",FastADAdapter:"FastADAdapter",GameConst:"GameConst",OPPOApi:"OPPOApi",ResManage:"ResManage",SoundManager:"SoundManager",UIManager:"UIManager",Utils:"Utils",WXUtils:"WXUtils"}],WelfaNode:[function(t,e,o){"use strict";cc._RF.push(e,"f9904+CbAtMVIaqYRpxqZ2W","WelfaNode");var n=t("WelfaItem"),r=t("UIManager"),i=t("Utils"),a=t("DataManage"),s=t("SoundManager"),c=t("MainUI"),u=t("WXUtils"),l=t("OPPOApi"),d=cc._decorator,h=d.ccclass,p=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.itemPrefab=null,e.layoutNode=null,e}return __extends(e,t),e.prototype.onLoad=function(){i.default.setBgSpr(this.bgNode)},e.prototype.start=function(){this.initItmes(),a.DataMgr.screenNum>0?a.DataMgr.getIsScreenAd()&&u.WXUtils.interstitialAd():i.default.getRandom(0,100)>40&&u.WXUtils.interstitialAd()},e.prototype.initItmes=function(){this.itmes=[];var t=[];0==l.default.enable?(t.push(1,0,3),a.DataMgr.isCanReceiveCollect()||!a.DataMgr.getIsTouchCollect()?t.unshift(2):t.push(2)):t.push(0,3);for(var e=0;e<t.length;e++){var o=cc.instantiate(this.itemPrefab);o.setParent(this.layoutNode),o.getComponent(n.default).initType(t[e]),this.itmes.push(o)}},e.prototype.onClose=function(){s.SoundMgr.playEffectByUrl(s.SoundConst.UIButton),this.node.destroy(),r.UIManager.onCloseUI(),c.default.instance.refreshFuliRed()},__decorate([p(cc.Node)],e.prototype,"bgNode",void 0),__decorate([p(cc.Prefab)],e.prototype,"itemPrefab",void 0),__decorate([p(cc.Node)],e.prototype,"layoutNode",void 0),__decorate([h],e)}(cc.Component);o.default=f,cc._RF.pop()},{DataManage:"DataManage",MainUI:"MainUI",OPPOApi:"OPPOApi",SoundManager:"SoundManager",UIManager:"UIManager",Utils:"Utils",WXUtils:"WXUtils",WelfaItem:"WelfaItem"}],WxAuthority:[function(t,e,o){"use strict";cc._RF.push(e,"e0f28uwHnVFiaQ+uBV4CPqP","WxAuthority");var n=t("WXApi"),r=t("GameConst"),i=t("DataManage"),a=t("MainUI"),s=t("UIManager"),c=function(){function t(){this.enterBtn_1=null,this.enterBtn_2=null}return t.prototype.createWXAuthorize=function(t,e){return void 0===e&&(e=1),__awaiter(this,void 0,void 0,function(){var i,c;return __generator(this,function(u){switch(u.label){case 0:return r.GameConst.isLogin?[3,3]:[4,n.default.login()];case 1:return i=u.sent(),[4,this.createAuthorizeBtn(t,e)];case 2:c=u.sent(),console.log("\u6388\u6743\u4fe1\u606f=="+JSON.stringify(c)+",==loginRes"),c&&c.encryptedData&&c.iv?(n.default.showLoading(),this.wxlogin(c,i,function(t){t?(o.WxAuthority.onDestroyBtn(3),a.default.instance.onRank()):s.UIManager.showComTis("\u83b7\u53d6\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u83b7\u53d6"),n.default.hideLoading()})):this.createWXAuthorize(t,e),u.label=3;case 3:return[2]}})})},t.prototype.isWxAuthority=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(o){switch(o.label){case 0:return t=null,console.log("isWxAuthority.."),[4,n.default.authSettingOfUserInfo()];case 1:return o.sent()?[4,n.default.getUserInfo(!0)]:[3,3];case 2:return e=o.sent(),[2,t=e];case 3:return[2,t]}})})},t.prototype.wxlogin=function(t,e,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return!t&&e&&e.code?(console.log("info="+JSON.stringify(t),"==",e),o(!1),[2]):(r.GameConst.wecode=e.code,r.GameConst.encryptedData=t.encryptedData,r.GameConst.iv=t.iv,wx.request({url:r.GameConst.gameUrl+"user/qqLogin",data:{code:r.GameConst.wecode,encryptedData:r.GameConst.encryptedData,iv:r.GameConst.iv},method:"POST",success:function(t){t.data&&t.data.data.token?(r.GameConst.isLogin=!0,r.GameConst.token=t.data.data.token,i.DataMgr.initUserData(t.data.data.user),o&&o(!0)):o&&o(!1)},fail:function(t){o&&o(!1)}}),[2])})})},t.prototype.createAuthorizeBtn=function(t,e){return __awaiter(this,void 0,void 0,function(){var o,n,i,a,s,c,u,l,d,h,p,f;return __generator(this,function(g){switch(g.label){case 0:return r.SceneConst.game==r.GameConst.currScene?[2]:1==e&&this.enterBtn_1?[4,this.setBtnOnTap(this.enterBtn_1)]:[3,2];case 1:return[2,g.sent()];case 2:return 2==e&&this.enterBtn_2?[4,this.setBtnOnTap(this.enterBtn_2)]:[3,4];case 3:return[2,g.sent()];case 4:return t?(o=t.convertToWorldSpaceAR(cc.Vec2.ZERO),n=cc.size(t.width*t.scaleX,t.height*t.scaleY),i=cc.view.getFrameSize(),a=cc.director.getWinSize(),s=i.width/a.width,c=i.height/i.height,u=s<=c?s:c,l=n.width*u,d=n.height*u,h=(i.width-a.width*u)/2+o.x*u-l/2,p=(i.height-a.height*u)/2+(a.height-o.y)*u-d/2,f=void 0,f=wx.createUserInfoButton({type:"text",text:"",style:{left:h,top:p,width:l,height:d,lineHeight:0,backgroundColor:"",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,withCredentials:!0}}),1==e?this.enterBtn_1=f:2==e&&(this.enterBtn_2=f),[4,this.setBtnOnTap(f)]):[2,null];case 5:return[2,g.sent()]}})})},t.prototype.setBtnOnTap=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e){t.onTap(function o(n){e(n),t.offTap(o)})})];case 1:return[2,e.sent()]}})})},t.prototype.onDestroyBtn=function(t){void 0===t&&(t=1),1==t?this.enterBtn_1&&(this.enterBtn_1.destroy(),this.enterBtn_1=null):2==t?this.enterBtn_2&&(this.enterBtn_2.destroy(),this.enterBtn_2=null):(this.enterBtn_1&&(this.enterBtn_1.destroy(),this.enterBtn_1=null),this.enterBtn_2&&(this.enterBtn_2.destroy(),this.enterBtn_2=null))},t.prototype.showBtn=function(t){void 0===t&&(t=1),1==t?this.enterBtn_1&&this.enterBtn_1.show():2==t&&this.enterBtn_2&&this.enterBtn_2.show()},t.prototype.hideBtn=function(t){void 0===t&&(t=1),1==t?this.enterBtn_1&&this.enterBtn_1.hide():2==t?this.enterBtn_2&&this.enterBtn_2.hide():(this.enterBtn_1&&this.enterBtn_1.hide(),this.enterBtn_2&&this.enterBtn_2.hide())},t}();o._WxAuthority=c,o.WxAuthority=new c,cc._RF.pop()},{DataManage:"DataManage",GameConst:"GameConst",MainUI:"MainUI",UIManager:"UIManager",WXApi:"WXApi"}],bignumber:[function(t,e,o){"use strict";function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}cc._RF.push(e,"7987cFBJRhB7KamyD+joNNl","bignumber"),function(t){var o,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i="function"==typeof Symbol&&"symbol"==n(Symbol.iterator),a=Math.ceil,s=Math.floor,c="[BigNumber Error] ",u=c+"Number primitive has more than 15 significant digits: ",l=1e14,d=14,h=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7;function g(t){var e=0|t;return t>0||t===e?e:e-1}function m(t){for(var e,o,n=1,r=t.length,i=t[0]+"";n<r;){for(e=t[n++]+"",o=d-e.length;o--;e="0"+e);i+=e}for(r=i.length;48===i.charCodeAt(--r););return i.slice(0,r+1||1)}function y(t,e){var o,n,r=t.c,i=e.c,a=t.s,s=e.s,c=t.e,u=e.e;if(!a||!s)return null;if(o=r&&!r[0],n=i&&!i[0],o||n)return o?n?0:-s:a;if(a!=s)return a;if(o=a<0,n=c==u,!r||!i)return n?0:!r^o?1:-1;if(!n)return c>u^o?1:-1;for(s=(c=r.length)<(u=i.length)?c:u,a=0;a<s;a++)if(r[a]!=i[a])return r[a]>i[a]^o?1:-1;return c==u?0:c>u^o?1:-1}function b(t,e,o,n){if(t<e||t>o||t!==s(t))throw Error(c+(n||"Argument")+("number"==typeof t?t<e||t>o?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function v(t){var e=t.c.length-1;return g(t.e/d)==e&&t.c[e]%2!=0}function M(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function _(t,e,o){var n,r;if(e<0){for(r=o+".";++e;r+=o);t=r+t}else if(++e>(n=t.length)){for(r=o,e-=n;--e;r+=o);t+=r}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}(o=function t(e){var o,N,w,S=E.prototype={constructor:E,toString:null,valueOf:null},B=new E(1),C=20,A=4,T=-7,D=21,I=-1e7,R=1e7,U=!1,L=1,P=0,x={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},O="0123456789abcdefghijklmnopqrstuvwxyz";function E(t,e){var o,n,i,a,c,l,p,f,g=this;if(!(g instanceof E))return new E(t,e);if(null==e){if(t&&!0===t._isBigNumber)return g.s=t.s,void(!t.c||t.e>R?g.c=g.e=null:t.e<I?g.c=[g.e=0]:(g.e=t.e,g.c=t.c.slice()));if((l="number"==typeof t)&&0*t==0){if(g.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,c=t;c>=10;c/=10,a++);return void(a>R?g.c=g.e=null:(g.e=a,g.c=[t]))}f=String(t)}else{if(!r.test(f=String(t)))return w(g,f,l);g.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(a=f.indexOf("."))>-1&&(f=f.replace(".","")),(c=f.search(/e/i))>0?(a<0&&(a=c),a+=+f.slice(c+1),f=f.substring(0,c)):a<0&&(a=f.length)}else{if(b(e,2,O.length,"Base"),10==e)return W(g=new E(t),C+g.e+1,A);if(f=String(t),l="number"==typeof t){if(0*t!=0)return w(g,f,l,e);if(g.s=1/t<0?(f=f.slice(1),-1):1,E.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(u+t)}else g.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(o=O.slice(0,e),a=c=0,p=f.length;c<p;c++)if(o.indexOf(n=f.charAt(c))<0){if("."==n){if(c>a){a=p;continue}}else if(!i&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){i=!0,c=-1,a=0;continue}return w(g,String(t),l,e)}l=!1,(a=(f=N(f,e,10,g.s)).indexOf("."))>-1?f=f.replace(".",""):a=f.length}for(c=0;48===f.charCodeAt(c);c++);for(p=f.length;48===f.charCodeAt(--p););if(f=f.slice(c,++p)){if(p-=c,l&&E.DEBUG&&p>15&&(t>h||t!==s(t)))throw Error(u+g.s*t);if((a=a-c-1)>R)g.c=g.e=null;else if(a<I)g.c=[g.e=0];else{if(g.e=a,g.c=[],c=(a+1)%d,a<0&&(c+=d),c<p){for(c&&g.c.push(+f.slice(0,c)),p-=d;c<p;)g.c.push(+f.slice(c,c+=d));c=d-(f=f.slice(c)).length}else c-=p;for(;c--;f+="0");g.c.push(+f)}}else g.c=[g.e=0]}function G(t,e,o,n){var r,i,a,s,c;if(null==o?o=A:b(o,0,8),!t.c)return t.toString();if(r=t.c[0],a=t.e,null==e)c=m(t.c),c=1==n||2==n&&(a<=T||a>=D)?M(c,a):_(c,a,"0");else if(i=(t=W(new E(t),e,o)).e,s=(c=m(t.c)).length,1==n||2==n&&(e<=i||i<=T)){for(;s<e;c+="0",s++);c=M(c,i)}else if(e-=a,c=_(c,i,"0"),i+1>s){if(--e>0)for(c+=".";e--;c+="0");}else if((e+=i-s)>0)for(i+1==s&&(c+=".");e--;c+="0");return t.s<0&&r?"-"+c:c}function k(t,e){for(var o,n=1,r=new E(t[0]);n<t.length;n++){if(!(o=new E(t[n])).s){r=o;break}e.call(r,o)&&(r=o)}return r}function F(t,e,o){for(var n=1,r=e.length;!e[--r];e.pop());for(r=e[0];r>=10;r/=10,n++);return(o=n+o*d-1)>R?t.c=t.e=null:o<I?t.c=[t.e=0]:(t.e=o,t.c=e),t}function W(t,e,o,n){var r,i,c,u,h,f,g,m=t.c,y=p;if(m){t:{for(r=1,u=m[0];u>=10;u/=10,r++);if((i=e-r)<0)i+=d,c=e,g=(h=m[f=0])/y[r-c-1]%10|0;else if((f=a((i+1)/d))>=m.length){if(!n)break t;for(;m.length<=f;m.push(0));h=g=0,r=1,c=(i%=d)-d+1}else{for(h=u=m[f],r=1;u>=10;u/=10,r++);g=(c=(i%=d)-d+r)<0?0:h/y[r-c-1]%10|0}if(n=n||e<0||null!=m[f+1]||(c<0?h:h%y[r-c-1]),n=o<4?(g||n)&&(0==o||o==(t.s<0?3:2)):g>5||5==g&&(4==o||n||6==o&&(i>0?c>0?h/y[r-c]:0:m[f-1])%10&1||o==(t.s<0?8:7)),e<1||!m[0])return m.length=0,n?(e-=t.e+1,m[0]=y[(d-e%d)%d],t.e=-e||0):m[0]=t.e=0,t;if(0==i?(m.length=f,u=1,f--):(m.length=f+1,u=y[d-i],m[f]=c>0?s(h/y[r-c]%y[c])*u:0),n)for(;;){if(0==f){for(i=1,c=m[0];c>=10;c/=10,i++);for(c=m[0]+=u,u=1;c>=10;c/=10,u++);i!=u&&(t.e++,m[0]==l&&(m[0]=1));break}if(m[f]+=u,m[f]!=l)break;m[f--]=0,u=1}for(i=m.length;0===m[--i];m.pop());}t.e>R?t.c=t.e=null:t.e<I&&(t.c=[t.e=0])}return t}function V(t){var e,o=t.e;return null===o?t.toString():(e=m(t.c),e=o<=T||o>=D?M(e,o):_(e,o,"0"),t.s<0?"-"+e:e)}return E.clone=t,E.ROUND_UP=0,E.ROUND_DOWN=1,E.ROUND_CEIL=2,E.ROUND_FLOOR=3,E.ROUND_HALF_UP=4,E.ROUND_HALF_DOWN=5,E.ROUND_HALF_EVEN=6,E.ROUND_HALF_CEIL=7,E.ROUND_HALF_FLOOR=8,E.EUCLID=9,E.config=E.set=function(t){var e,o;if(null!=t){if("object"!=n(t))throw Error(c+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(b(o=t[e],0,1e9,e),C=o),t.hasOwnProperty(e="ROUNDING_MODE")&&(b(o=t[e],0,8,e),A=o),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((o=t[e])&&o.pop?(b(o[0],-1e9,0,e),b(o[1],0,1e9,e),T=o[0],D=o[1]):(b(o,-1e9,1e9,e),T=-(D=o<0?-o:o))),t.hasOwnProperty(e="RANGE"))if((o=t[e])&&o.pop)b(o[0],-1e9,-1,e),b(o[1],1,1e9,e),I=o[0],R=o[1];else{if(b(o,-1e9,1e9,e),!o)throw Error(c+e+" cannot be zero: "+o);I=-(R=o<0?-o:o)}if(t.hasOwnProperty(e="CRYPTO")){if((o=t[e])!==!!o)throw Error(c+e+" not true or false: "+o);if(o){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!o,Error(c+"crypto unavailable");U=o}else U=o}if(t.hasOwnProperty(e="MODULO_MODE")&&(b(o=t[e],0,9,e),L=o),t.hasOwnProperty(e="POW_PRECISION")&&(b(o=t[e],0,1e9,e),P=o),t.hasOwnProperty(e="FORMAT")){if("object"!=n(o=t[e]))throw Error(c+e+" not an object: "+o);x=o}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(o=t[e])||/^.$|[+-.\s]|(.).*\1/.test(o))throw Error(c+e+" invalid: "+o);O=o}}return{DECIMAL_PLACES:C,ROUNDING_MODE:A,EXPONENTIAL_AT:[T,D],RANGE:[I,R],CRYPTO:U,MODULO_MODE:L,POW_PRECISION:P,FORMAT:x,ALPHABET:O}},E.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!E.DEBUG)return!0;var e,o,n=t.c,r=t.e,i=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===i||-1===i)&&r>=-1e9&&r<=1e9&&r===s(r)){if(0===n[0]){if(0===r&&1===n.length)return!0;break t}if((e=(r+1)%d)<1&&(e+=d),String(n[0]).length==e){for(e=0;e<n.length;e++)if((o=n[e])<0||o>=l||o!==s(o))break t;if(0!==o)return!0}}}else if(null===n&&null===r&&(null===i||1===i||-1===i))return!0;throw Error(c+"Invalid BigNumber: "+t)},E.maximum=E.max=function(){return k(arguments,S.lt)},E.minimum=E.min=function(){return k(arguments,S.gt)},E.random=function(){var t=9007199254740992*Math.random()&2097151?function(){return s(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var o,n,r,i,u,l=0,h=[],f=new E(B);if(null==e?e=C:b(e,0,1e9),i=a(e/d),U)if(crypto.getRandomValues){for(o=crypto.getRandomValues(new Uint32Array(i*=2));l<i;)(u=131072*o[l]+(o[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),o[l]=n[0],o[l+1]=n[1]):(h.push(u%1e14),l+=2);l=i/2}else{if(!crypto.randomBytes)throw U=!1,Error(c+"crypto unavailable");for(o=crypto.randomBytes(i*=7);l<i;)(u=281474976710656*(31&o[l])+1099511627776*o[l+1]+4294967296*o[l+2]+16777216*o[l+3]+(o[l+4]<<16)+(o[l+5]<<8)+o[l+6])>=9e15?crypto.randomBytes(7).copy(o,l):(h.push(u%1e14),l+=7);l=i/7}if(!U)for(;l<i;)(u=t())<9e15&&(h[l++]=u%1e14);for(i=h[--l],e%=d,i&&e&&(u=p[d-e],h[l]=s(i/u)*u);0===h[l];h.pop(),l--);if(l<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=d);for(l=1,u=h[0];u>=10;u/=10,l++);l<d&&(r-=d-l)}return f.e=r,f.c=h,f}}(),E.sum=function(){for(var t=1,e=arguments,o=new E(e[0]);t<e.length;)o=o.plus(e[t++]);return o},N=function(){function t(t,e,o,n){for(var r,i,a=[0],s=0,c=t.length;s<c;){for(i=a.length;i--;a[i]*=e);for(a[0]+=n.indexOf(t.charAt(s++)),r=0;r<a.length;r++)a[r]>o-1&&(null==a[r+1]&&(a[r+1]=0),a[r+1]+=a[r]/o|0,a[r]%=o)}return a.reverse()}return function(e,n,r,i,a){var s,c,u,l,d,h,p,f,g=e.indexOf("."),y=C,b=A;for(g>=0&&(l=P,P=0,e=e.replace(".",""),h=(f=new E(n)).pow(e.length-g),P=l,f.c=t(_(m(h.c),h.e,"0"),10,r,"0123456789"),f.e=f.c.length),u=l=(p=t(e,n,r,a?(s=O,"0123456789"):(s="0123456789",O))).length;0==p[--l];p.pop());if(!p[0])return s.charAt(0);if(g<0?--u:(h.c=p,h.e=u,h.s=i,p=(h=o(h,f,y,b,r)).c,d=h.r,u=h.e),g=p[c=u+y+1],l=r/2,d=d||c<0||null!=p[c+1],d=b<4?(null!=g||d)&&(0==b||b==(h.s<0?3:2)):g>l||g==l&&(4==b||d||6==b&&1&p[c-1]||b==(h.s<0?8:7)),c<1||!p[0])e=d?_(s.charAt(1),-y,s.charAt(0)):s.charAt(0);else{if(p.length=c,d)for(--r;++p[--c]>r;)p[c]=0,c||(++u,p=[1].concat(p));for(l=p.length;!p[--l];);for(g=0,e="";g<=l;e+=s.charAt(p[g++]));e=_(e,u,s.charAt(0))}return e}}(),o=function(){function t(t,e,o){var n,r,i,a,s=0,c=t.length,u=e%f,l=e/f|0;for(t=t.slice();c--;)s=((r=u*(i=t[c]%f)+(n=l*i+(a=t[c]/f|0)*u)%f*f+s)/o|0)+(n/f|0)+l*a,t[c]=r%o;return s&&(t=[s].concat(t)),t}function e(t,e,o,n){var r,i;if(o!=n)i=o>n?1:-1;else for(r=i=0;r<o;r++)if(t[r]!=e[r]){i=t[r]>e[r]?1:-1;break}return i}function o(t,e,o,n){for(var r=0;o--;)t[o]-=r,r=t[o]<e[o]?1:0,t[o]=r*n+t[o]-e[o];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,r,i,a,c){var u,h,p,f,m,y,b,v,M,_,N,w,S,B,C,A,T,D=n.s==r.s?1:-1,I=n.c,R=r.c;if(!(I&&I[0]&&R&&R[0]))return new E(n.s&&r.s&&(I?!R||I[0]!=R[0]:R)?I&&0==I[0]||!R?0*D:D/0:NaN);for(M=(v=new E(D)).c=[],D=i+(h=n.e-r.e)+1,c||(c=l,h=g(n.e/d)-g(r.e/d),D=D/d|0),p=0;R[p]==(I[p]||0);p++);if(R[p]>(I[p]||0)&&h--,D<0)M.push(1),f=!0;else{for(B=I.length,A=R.length,p=0,D+=2,(m=s(c/(R[0]+1)))>1&&(R=t(R,m,c),I=t(I,m,c),A=R.length,B=I.length),S=A,N=(_=I.slice(0,A)).length;N<A;_[N++]=0);T=R.slice(),T=[0].concat(T),C=R[0],R[1]>=c/2&&C++;do{if(m=0,(u=e(R,_,A,N))<0){if(w=_[0],A!=N&&(w=w*c+(_[1]||0)),(m=s(w/C))>1)for(m>=c&&(m=c-1),b=(y=t(R,m,c)).length,N=_.length;1==e(y,_,b,N);)m--,o(y,A<b?T:R,b,c),b=y.length,u=1;else 0==m&&(u=m=1),b=(y=R.slice()).length;if(b<N&&(y=[0].concat(y)),o(_,y,N,c),N=_.length,-1==u)for(;e(R,_,A,N)<1;)m++,o(_,A<N?T:R,N,c),N=_.length}else 0===u&&(m++,_=[0]);M[p++]=m,_[0]?_[N++]=I[S]||0:(_=[I[S]],N=1)}while((S++<B||null!=_[0])&&D--);f=null!=_[0],M[0]||M.splice(0,1)}if(c==l){for(p=1,D=M[0];D>=10;D/=10,p++);W(v,i+(v.e=p+h*d-1)+1,a,f)}else v.e=h,v.r=+f;return v}}(),w=function(){var t=/^(-?)0([xbo])(?=\w[\w.]*$)/i,e=/^([^.]+)\.$/,o=/^\.([^.]+)$/,n=/^-?(Infinity|NaN)$/,r=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(i,a,s,u){var l,d=s?a:a.replace(r,"");if(n.test(d))i.s=isNaN(d)?null:d<0?-1:1;else{if(!s&&(d=d.replace(t,function(t,e,o){return l="x"==(o=o.toLowerCase())?16:"b"==o?2:8,u&&u!=l?t:e}),u&&(l=u,d=d.replace(e,"$1").replace(o,"0.$1")),a!=d))return new E(d,l);if(E.DEBUG)throw Error(c+"Not a"+(u?" base "+u:"")+" number: "+a);i.s=null}i.c=i.e=null}}(),S.absoluteValue=S.abs=function(){var t=new E(this);return t.s<0&&(t.s=1),t},S.comparedTo=function(t,e){return y(this,new E(t,e))},S.decimalPlaces=S.dp=function(t,e){var o,n,r;if(null!=t)return b(t,0,1e9),null==e?e=A:b(e,0,8),W(new E(this),t+this.e+1,e);if(!(o=this.c))return null;if(n=((r=o.length-1)-g(this.e/d))*d,r=o[r])for(;r%10==0;r/=10,n--);return n<0&&(n=0),n},S.dividedBy=S.div=function(t,e){return o(this,new E(t,e),C,A)},S.dividedToIntegerBy=S.idiv=function(t,e){return o(this,new E(t,e),0,1)},S.exponentiatedBy=S.pow=function(t,e){var o,n,r,i,u,l,h,p,f=this;if((t=new E(t)).c&&!t.isInteger())throw Error(c+"Exponent not an integer: "+V(t));if(null!=e&&(e=new E(e)),u=t.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!t.c||!t.c[0])return p=new E(Math.pow(+V(f),u?2-v(t):+V(t))),e?p.mod(e):p;if(l=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new E(NaN);(n=!l&&f.isInteger()&&e.isInteger())&&(f=f.mod(e))}else{if(t.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||u&&f.c[1]>=24e7:f.c[0]<8e13||u&&f.c[0]<=9999975e7)))return i=f.s<0&&v(t)?-0:0,f.e>-1&&(i=1/i),new E(l?1/i:i);P&&(i=a(P/d+2))}for(u?(o=new E(.5),l&&(t.s=1),h=v(t)):h=(r=Math.abs(+V(t)))%2,p=new E(B);;){if(h){if(!(p=p.times(f)).c)break;i?p.c.length>i&&(p.c.length=i):n&&(p=p.mod(e))}if(r){if(0===(r=s(r/2)))break;h=r%2}else if(W(t=t.times(o),t.e+1,1),t.e>14)h=v(t);else{if(0==(r=+V(t)))break;h=r%2}f=f.times(f),i?f.c&&f.c.length>i&&(f.c.length=i):n&&(f=f.mod(e))}return n?p:(l&&(p=B.div(p)),e?p.mod(e):i?W(p,P,A,void 0):p)},S.integerValue=function(t){var e=new E(this);return null==t?t=A:b(t,0,8),W(e,e.e+1,t)},S.isEqualTo=S.eq=function(t,e){return 0===y(this,new E(t,e))},S.isFinite=function(){return!!this.c},S.isGreaterThan=S.gt=function(t,e){return y(this,new E(t,e))>0},S.isGreaterThanOrEqualTo=S.gte=function(t,e){return 1===(e=y(this,new E(t,e)))||0===e},S.isInteger=function(){return!!this.c&&g(this.e/d)>this.c.length-2},S.isLessThan=S.lt=function(t,e){return y(this,new E(t,e))<0},S.isLessThanOrEqualTo=S.lte=function(t,e){return-1===(e=y(this,new E(t,e)))||0===e},S.isNaN=function(){return!this.s},S.isNegative=function(){return this.s<0},S.isPositive=function(){return this.s>0},S.isZero=function(){return!!this.c&&0==this.c[0]},S.minus=function(t,e){var o,n,r,i,a=this.s;if(e=(t=new E(t,e)).s,!a||!e)return new E(NaN);if(a!=e)return t.s=-e,this.plus(t);var s=this.e/d,c=t.e/d,u=this.c,h=t.c;if(!s||!c){if(!u||!h)return u?(t.s=-e,t):new E(h?this:NaN);if(!u[0]||!h[0])return h[0]?(t.s=-e,t):new E(u[0]?this:3==A?-0:0)}if(s=g(s),c=g(c),u=u.slice(),a=s-c){for((i=a<0)?(a=-a,r=u):(c=s,r=h),r.reverse(),e=a;e--;r.push(0));r.reverse()}else for(n=(i=(a=u.length)<(e=h.length))?a:e,a=e=0;e<n;e++)if(u[e]!=h[e]){i=u[e]<h[e];break}if(i&&(r=u,u=h,h=r,t.s=-t.s),(e=(n=h.length)-(o=u.length))>0)for(;e--;u[o++]=0);for(e=l-1;n>a;){if(u[--n]<h[n]){for(o=n;o&&!u[--o];u[o]=e);--u[o],u[n]+=l}u[n]-=h[n]}for(;0==u[0];u.splice(0,1),--c);return u[0]?F(t,u,c):(t.s=3==A?-1:1,t.c=[t.e=0],t)},S.modulo=S.mod=function(t,e){var n,r;return t=new E(t,e),!this.c||!t.s||t.c&&!t.c[0]?new E(NaN):!t.c||this.c&&!this.c[0]?new E(this):(9==L?(r=t.s,t.s=1,n=o(this,t,0,3),t.s=r,n.s*=r):n=o(this,t,0,L),(t=this.minus(n.times(t))).c[0]||1!=L||(t.s=this.s),t)},S.multipliedBy=S.times=function(t,e){var o,n,r,i,a,s,c,u,h,p,m,y,b,v,M,_=this.c,N=(t=new E(t,e)).c;if(!(_&&N&&_[0]&&N[0]))return!this.s||!t.s||_&&!_[0]&&!N||N&&!N[0]&&!_?t.c=t.e=t.s=null:(t.s*=this.s,_&&N?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=g(this.e/d)+g(t.e/d),t.s*=this.s,(c=_.length)<(p=N.length)&&(b=_,_=N,N=b,r=c,c=p,p=r),r=c+p,b=[];r--;b.push(0));for(v=l,M=f,r=p;--r>=0;){for(o=0,m=N[r]%M,y=N[r]/M|0,i=r+(a=c);i>r;)o=((u=m*(u=_[--a]%M)+(s=y*u+(h=_[a]/M|0)*m)%M*M+b[i]+o)/v|0)+(s/M|0)+y*h,b[i--]=u%v;b[i]=o}return o?++n:b.splice(0,1),F(t,b,n)},S.negated=function(){var t=new E(this);return t.s=-t.s||null,t},S.plus=function(t,e){var o,n=this.s;if(e=(t=new E(t,e)).s,!n||!e)return new E(NaN);if(n!=e)return t.s=-e,this.minus(t);var r=this.e/d,i=t.e/d,a=this.c,s=t.c;if(!r||!i){if(!a||!s)return new E(n/0);if(!a[0]||!s[0])return s[0]?t:new E(a[0]?this:0*n)}if(r=g(r),i=g(i),a=a.slice(),n=r-i){for(n>0?(i=r,o=s):(n=-n,o=a),o.reverse();n--;o.push(0));o.reverse()}for((n=a.length)-(e=s.length)<0&&(o=s,s=a,a=o,e=n),n=0;e;)n=(a[--e]=a[e]+s[e]+n)/l|0,a[e]=l===a[e]?0:a[e]%l;return n&&(a=[n].concat(a),++i),F(t,a,i)},S.precision=S.sd=function(t,e){var o,n,r;if(null!=t&&t!==!!t)return b(t,1,1e9),null==e?e=A:b(e,0,8),W(new E(this),t,e);if(!(o=this.c))return null;if(n=(r=o.length-1)*d+1,r=o[r]){for(;r%10==0;r/=10,n--);for(r=o[0];r>=10;r/=10,n++);}return t&&this.e+1>n&&(n=this.e+1),n},S.shiftedBy=function(t){return b(t,-h,h),this.times("1e"+t)},S.squareRoot=S.sqrt=function(){var t,e,n,r,i,a=this.c,s=this.s,c=this.e,u=C+4,l=new E("0.5");if(1!==s||!a||!a[0])return new E(!s||s<0&&(!a||a[0])?NaN:a?this:1/0);if(0==(s=Math.sqrt(+V(this)))||s==1/0?(((e=m(a)).length+c)%2==0&&(e+="0"),s=Math.sqrt(+e),c=g((c+1)/2)-(c<0||c%2),n=new E(e=s==1/0?"1e"+c:(e=s.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new E(s+""),n.c[0])for((s=(c=n.e)+u)<3&&(s=0);;)if(i=n,n=l.times(i.plus(o(this,i,u,1))),m(i.c).slice(0,s)===(e=m(n.c)).slice(0,s)){if(n.e<c&&--s,"9999"!=(e=e.slice(s-3,s+1))&&(r||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(W(n,n.e+C+2,1),t=!n.times(n).eq(this));break}if(!r&&(W(i,i.e+C+2,0),i.times(i).eq(this))){n=i;break}u+=4,s+=4,r=1}return W(n,n.e+C+1,A,t)},S.toExponential=function(t,e){return null!=t&&(b(t,0,1e9),t++),G(this,t,e,1)},S.toFixed=function(t,e){return null!=t&&(b(t,0,1e9),t=t+this.e+1),G(this,t,e)},S.toFormat=function(t,e,o){var r;if(null==o)null!=t&&e&&"object"==n(e)?(o=e,e=null):t&&"object"==n(t)?(o=t,t=e=null):o=x;else if("object"!=n(o))throw Error(c+"Argument not an object: "+o);if(r=this.toFixed(t,e),this.c){var i,a=r.split("."),s=+o.groupSize,u=+o.secondaryGroupSize,l=o.groupSeparator||"",d=a[0],h=a[1],p=this.s<0,f=p?d.slice(1):d,g=f.length;if(u&&(i=s,s=u,u=i,g-=i),s>0&&g>0){for(i=g%s||s,d=f.substr(0,i);i<g;i+=s)d+=l+f.substr(i,s);u>0&&(d+=l+f.slice(i)),p&&(d="-"+d)}r=h?d+(o.decimalSeparator||"")+((u=+o.fractionGroupSize)?h.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(o.fractionGroupSeparator||"")):h):d}return(o.prefix||"")+r+(o.suffix||"")},S.toFraction=function(t){var e,n,r,i,a,s,u,l,h,f,g,y,b=this.c;if(null!=t&&(!(u=new E(t)).isInteger()&&(u.c||1!==u.s)||u.lt(B)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+V(u));if(!b)return new E(this);for(e=new E(B),h=n=new E(B),r=l=new E(B),y=m(b),a=e.e=y.length-this.e-1,e.c[0]=p[(s=a%d)<0?d+s:s],t=!t||u.comparedTo(e)>0?a>0?e:h:u,s=R,R=1/0,u=new E(y),l.c[0]=0;f=o(u,e,0,1),1!=(i=n.plus(f.times(r))).comparedTo(t);)n=r,r=i,h=l.plus(f.times(i=h)),l=i,e=u.minus(f.times(i=e)),u=i;return i=o(t.minus(n),r,0,1),l=l.plus(i.times(h)),n=n.plus(i.times(r)),l.s=h.s=this.s,g=o(h,r,a*=2,A).minus(this).abs().comparedTo(o(l,n,a,A).minus(this).abs())<1?[h,r]:[l,n],R=s,g},S.toNumber=function(){return+V(this)},S.toPrecision=function(t,e){return null!=t&&b(t,1,1e9),G(this,t,e,2)},S.toString=function(t){var e,o=this,n=o.s,r=o.e;return null===r?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(null==t?e=r<=T||r>=D?M(m(o.c),r):_(m(o.c),r,"0"):10===t?e=_(m((o=W(new E(o),C+r+1,A)).c),o.e,"0"):(b(t,2,O.length,"Base"),e=N(_(m(o.c),r,"0"),10,t,n,!0)),n<0&&o.c[0]&&(e="-"+e)),e},S.valueOf=S.toJSON=function(){return V(this)},S._isBigNumber=!0,i&&(S[Symbol.toStringTag]="BigNumber",S[Symbol.for("nodejs.util.inspect.custom")]=S.valueOf),null!=e&&E.set(e),E}()).default=o.BigNumber=o,"function"==typeof define&&define.amd?define(function(){return o}):void 0!==e&&e.exports?e.exports=o:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=o)}(void 0),cc._RF.pop()},{}],ccloaderAwait:[function(t,e,o){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){return[2,new Promise(function(e,o){var n;(n=cc.loader).loadRes.apply(n,t.concat([function(t,n){null==t?e(n):o(t)}]))})]})})}cc._RF.push(e,"c2565vxCj5BEb8SuC4g3XEW","ccloaderAwait"),cc.loader.getResAwait=function(t,e){return __awaiter(this,void 0,Promise,function(){var o=this;return __generator(this,function(r){return[2,new Promise(function(r,i){return __awaiter(o,void 0,void 0,function(){var o,a;return __generator(this,function(s){switch(s.label){case 0:return null!=(o=cc.loader.getRes(t,e))?[3,2]:[4,n(t,e).catch(function(t){i(t)})];case 1:return a=s.sent(),r(a),[3,3];case 2:r(o),s.label=3;case 3:return[2]}})})})]})})},cc.loader.loadResAwait=n,cc.loader.loadResArrayAwait=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){return[2,new Promise(function(e,o){var n;(n=cc.loader).loadResArray.apply(n,t.concat([function(t,n){null==t?e(n):o(t)}]))})]})})},cc.loader.loadResDirAwait=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){return[2,new Promise(function(e,o){var n;(n=cc.loader).loadResDir.apply(n,t.concat([function(t,n,r){null==t?e([n,r]):o(t)}]))})]})})},cc.loader.getFileNames=function(t,e){var o=[];return cc.loader._assetTables.assets.getUuidArray(t,e,o),o},cc._RF.pop()},{}],mainScene:[function(t,e,o){"use strict";cc._RF.push(e,"bd95bHi0txJyZroY08lrQt0","mainScene");var n=t("DataManage"),r=t("MonsterManager"),i=t("SoundManager"),a=t("MainUI"),s=t("ResManage"),c=t("UIManager"),u=t("WXUtils"),l=cc._decorator,d=l.ccclass,h=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainUI=null,e.gridLayer=null,e.gameLayer=null,e.scoreLab=null,e.trashBin=null,e.sheras=null,e.trashBinLab=null,e.shearsLab=null,e.bornPool=null,e.mainBg=null,e.gameBg=null,e.popLayer=null,e.diamonds=null,e.diamondsNode=null,e.cupLab=null,e.tipsLayer=null,e.canvas=null,e}var o;return __extends(e,t),o=e,e.prototype.onLoad=function(){o.instance=this;var t=cc.view.getFrameSize(),e=750/t.width,n=1334/t.height,r=e>=n?e:n,a=cc.winSize;this.mainBg.width=t.width*r,this.mainBg.height=t.height*r,this.gameBg.width=t.width*r,this.gameBg.height=t.height*r,cc.log("ccc=="+JSON.stringify(t)+"===="+JSON.stringify(a)),cc.log("ccc=="+JSON.stringify(this.mainBg.getContentSize())),i.SoundMgr.playMusicByUrl(i.SoundConst.bgm),u.WXUtils.interstitialAd(!1)},e.prototype.start=function(){this.initScoreLab(),this.initDiamonds(),this.initMaxSocre(),i.SoundMgr.playEffectByUrl(i.SoundConst.Guodong),!n.DataMgr.isOneLogin&&n.DataMgr.getWelfareRedNum()>0?(n.DataMgr.isCanPopLoginRewaedUi()?c.UIManager.showLoginReward():c.UIManager.showWelaiUI(),this.scheduleOnce(function(){s.ResMgr.startAnysnRes()},2)):this.scheduleOnce(function(){s.ResMgr.startAnysnRes()},1)},e.prototype.playGame=function(){this.mainBg.active=!1,this.gameBg.active=!0,a.default.instance.setVisible(!1),this.gameLayer.active=!0,i.SoundMgr.playEffectByUrl(i.SoundConst.getinto),r.default.instance.playerGame()},e.prototype.initDiamonds=function(){this.diamonds.string=n.DataMgr.getDiamondNum()+""},e.prototype.initMaxSocre=function(){this.cupLab.string=n.DataMgr.maxScore+""},Object.defineProperty(e.prototype,"diamondsWorldPos",{get:function(){return this._diamondsWorldPos||(this._diamondsWorldPos=this.diamondsNode.convertToWorldSpaceAR(cc.Vec2.ZERO)),this._diamondsWorldPos},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.scoreLab.string=n.DataMgr.getScore()+""},e.prototype.initScoreLab=function(){this.scoreLab.string=n.DataMgr.getScore()+""},e.prototype.addScoreLab=function(t){var e=n.DataMgr.getScore()+t;n.DataMgr.addScore(t),this.scoreLab.string=e+""},e.prototype.onTestClear=function(){localStorage.clear()},e.prototype.showHome=function(){i.SoundMgr.playEffectByUrl(i.SoundConst.Guodong),this.gameLayer.active=!1,this.mainBg.active=!0,this.gameBg.active=!1,a.default.instance.setVisible(!0)},__decorate([h(cc.Node)],e.prototype,"mainUI",void 0),__decorate([h(cc.Node)],e.prototype,"gridLayer",void 0),__decorate([h(cc.Node)],e.prototype,"gameLayer",void 0),__decorate([h(cc.Label)],e.prototype,"scoreLab",void 0),__decorate([h(cc.Node)],e.prototype,"trashBin",void 0),__decorate([h(cc.Node)],e.prototype,"sheras",void 0),__decorate([h(cc.Label)],e.prototype,"trashBinLab",void 0),__decorate([h(cc.Label)],e.prototype,"shearsLab",void 0),__decorate([h(cc.Node)],e.prototype,"bornPool",void 0),__decorate([h(cc.Node)],e.prototype,"mainBg",void 0),__decorate([h(cc.Node)],e.prototype,"gameBg",void 0),__decorate([h(cc.Node)],e.prototype,"popLayer",void 0),__decorate([h(cc.Label)],e.prototype,"diamonds",void 0),__decorate([h(cc.Node)],e.prototype,"diamondsNode",void 0),__decorate([h(cc.Label)],e.prototype,"cupLab",void 0),__decorate([h(cc.Node)],e.prototype,"tipsLayer",void 0),__decorate([h(cc.Canvas)],e.prototype,"canvas",void 0),o=__decorate([d],e)}(cc.Component);o.default=p,cc._RF.pop()},{DataManage:"DataManage",MainUI:"MainUI",MonsterManager:"MonsterManager",ResManage:"ResManage",SoundManager:"SoundManager",UIManager:"UIManager",WXUtils:"WXUtils"}],ts:[function(t,e,o){"use strict";cc._RF.push(e,"fd571gGUudB6YtjAPgvs4gx","ts"),cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e,o){"use strict";cc._RF.push(e,"cb360sc1/VMxLNIrDUUa36C","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}],"use_v2.1.x_cc.Action":[function(t,e,o){"use strict";cc._RF.push(e,"e0e81sY5uVDvoyf4XoT2DCO","use_v2.1.x_cc.Action"),cc.macro.ROTATE_ACTION_CCW=!0,cc._RF.pop()},{}]},{},["AbstractTableItem","Actions","AppLog","BaoShiAnim","BaseAD","Bezier","BombTipNode","CloudNode","CollectNode","ComTipsAnim","DataManage","DoubleReward","EffectUtils","Extend","FastADAdapter","FastIdConst","GameConst","GameManage","GameOverNode","GiveRewardNode","GridManager","GridNode","GuideNode","GuideYanShi","HttpUtils","InviteConst","LabelUtils","Loading","LocalStorage","LoginReward","MainUI","Map","MergeUtils","Monster","MonsterManager","MonsterPool","MoreGameManger","MoreGameNode","NumberUtils","OPPOApi","OppoAD","PauseNode","PlatformApi","PlatformConst","PrefabManger","Protocol ","RankItem","RankNode","ResManage","RewardNode","ScrollHelper","SetUpNode","SkillNode","SoundManager","StringUtils","TableView","TemplateManage","TypeUtils","UIManager","UnitUtils","UserData","Utils","VivoAD","WXADBanner","WXADVideo","WXApi","WXUtils","WelfaItem","WelfaNode","WxAuthority","bignumber","ccloaderAwait","mainScene","use_v2.1-2.2.1_cc.Toggle_event","use_v2.1.x_cc.Action","ts"]);